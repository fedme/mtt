{"version":3,"sources":["../../src/pages/registration-online/registration-online.module.ts","../../src/pages/registration-online/registration-online.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { RegistrationOnlinePage } from './registration-online';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RegistrationOnlinePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(RegistrationOnlinePage),\r\n    TranslateModule.forChild()\r\n  ],\r\n})\r\nexport class RegistrationOnlinePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registration-online/registration-online.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ModalController, AlertController } from 'ionic-angular';\r\nimport { Stimuli, Data } from '../../providers/providers';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { URLSearchParams } from \"@angular/http\";\r\n\r\n@IonicPage({\r\n  priority: 'high'\r\n})\r\n@Component({\r\n  selector: 'page-registration-online',\r\n  templateUrl: 'registration-online.html',\r\n})\r\nexport class RegistrationOnlinePage {\r\n\r\n  lang: string = \"en\";\r\n  availableLangs: string[];\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams, \r\n    private stimuli: Stimuli, \r\n    private data: Data,\r\n    private translate: TranslateService,\r\n    private modalCtrl: ModalController,\r\n    private alertCtrl: AlertController\r\n  ) {\r\n\r\n      // Parse available langs\r\n      this.availableLangs = this.translate.langs;\r\n\r\n      // Get language from localStorage\r\n      if (localStorage.getItem('lang') != null && localStorage.getItem('lang') != '') {\r\n        this.lang = localStorage.getItem('lang');\r\n      }   \r\n\r\n  }\r\n\r\n  handleRegistration() {\r\n\r\n    // set Language\r\n    this.stimuli.setLang(this.lang);\r\n    localStorage.setItem('lang', this.lang);\r\n  \r\n    // initialize stimuli conditions\r\n    this.stimuli.initializeConditions();\r\n    this.navCtrl.push('ConsentFormPage');\r\n  }\r\n\r\n  validateRegistration() {\r\n    const ageNull = this.stimuli.participant.age == null;\r\n    const genderNull = this.stimuli.participant.gender == null;\r\n    if (ageNull || genderNull) {\r\n\r\n      if (ageNull) {\r\n        this.stimuli.participant.age = 0;\r\n      }\r\n\r\n      let alert = this.alertCtrl.create({\r\n        title: 'Proceed without age/gender?',\r\n        message: 'Are you sure you want to proceed without entering age/gender?',\r\n        buttons: [\r\n          {\r\n            text: 'Yes',\r\n            handler: () => {\r\n              this.handleRegistration();\r\n            }\r\n          },\r\n          {\r\n            text: 'No',\r\n            role: 'cancel',\r\n            handler: () => {}\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n    }\r\n    else {\r\n      this.handleRegistration();\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registration-online/registration-online.ts"],"sourceRoot":""}