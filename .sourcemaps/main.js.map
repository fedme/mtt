{"version":3,"sources":["../../src/providers/stimuli/constants.ts","../../src/providers/stimuli/app-info.ts","../../src/providers/providers.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/models/training-card.ts","../../src/pages/pages.ts","../../src/app/app.component.ngfactory.js.pre-build-optimizer.js","../../src/app/app.component.ts.pre-build-optimizer.js","../../src/app/app.component.ts","../../src/app/app.module.ts","../../src/app/app.module.ts.pre-build-optimizer.js","../../src/app/app.module.ngfactory.js.pre-build-optimizer.js","../../src/models/participant.ts","../../src/providers/stimuli/stimuli.ts.pre-build-optimizer.js","../../src/providers/stimuli/stimuli.ts","../../src/providers/utils/utils.ts","../../src/providers/utils/utils.ts.pre-build-optimizer.js","../../src/providers/training/training.ts","../../src/providers/api/api.ts","../../src/providers/data/data.ts.pre-build-optimizer.js","../../src/providers/data/data.ts","../../src/models/monster.ts","../../src/models/pair.ts","../../src/models/pair-comparison-question.ts","../../src/providers/pair-comparison/pair-comparison.ts","../../src/models/output-estimation-question.ts","../../src/providers/output-estimation/output-estimation.ts","../../src/providers/ranking-task/ranking-task.ts"],"names":["__webpack_require__","d","__webpack_exports__","TESTS_ORDER","ONLINE_DEFAULT_CONDITION","CONDITIONS","CONDITIONS_ACTIVE_ONLY","CONDITIONS_EXTENDED","NUMBERS","PAIR_COMPARISONS","trainingTasks","func","training","testingOrder","TRAINING_CARDS","OUTPUT_ESTIMATION_EXTRAPOLATION","OUTPUT_ESTIMATION_INTERPOLATION","OUTPUT_ESTIMATION_RECALL","AppInfo","id","nameLabel","version","webpackEmptyAsyncContext","req","Promise","resolve","then","Error","keys","module","exports","webpackAsyncContext","ids","map","e","reject","../pages/consent-form/consent-form.module.ngfactory","../pages/failure/failure.module.ngfactory","../pages/instructions-check/instructions-check.module.ngfactory","../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory","../pages/output-estimation/output-estimation.module.ngfactory","../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory","../pages/pair-comparison/pair-comparison.module.ngfactory","../pages/ranking-task/ranking-task.module.ngfactory","../pages/registration-online/registration-online.module.ngfactory","../pages/registration/registration.module.ngfactory","../pages/reward/reward.module.ngfactory","../pages/training-instructions/training-instructions.module.ngfactory","../pages/training-instructions2/training-instructions2.module.ngfactory","../pages/training/training.module.ngfactory","../pages/view-records/view-records.module.ngfactory","Object","TrainingCard","monster","this","revealed","prototype","reveal","hasBeenRevealed","equals","obj","FirstRunPage","OnlineFirstRunPage","View_MyApp_1","_l","core","_v","en","$event","ad","_co","component","close","openPage","context","$implicit","item_ngfactory","item","util_form","config","item_reorder","contentLabel","_buttons","_icons","item_content","menu_close","menu_controller","menuClose","_ck","title","View_MyApp_0","nav","menu_ngfactory","split_pane","menu","platform_platform","keyboard","gesture_controller","dom_controller","app","content","menuContent","menuNav","toolbar_header","view_controller","toolbar_ngfactory","toolbar","toolbar_title_ngfactory","toolbar_title","navbar","content_ngfactory","nav_controller","list","common","ngForOf","nav_ngfactory","transition_controller","deep_linker","root","pages","rootPage","_sbPadding","statusbarPadding","_hasRefresher","__awaiter","thisArg","_arguments","P","generator","fulfilled","value","step","next","rejected","result","done","apply","__generator","body","verb","n","v","op","f","TypeError","_","y","t","call","label","ops","pop","trys","length","push","g","sent","throw","return","Symbol","iterator","app_component_MyApp","MyApp","translate","platform","statusBar","splashScreen","androidFullScreen","stimuli","data","_this","ready","styleDefault","hide","enterPinnedMode","enterImmersiveMode","initialize","initTranslate","parseUrlParams","params","_a","URLSearchParams","window","location","search","get","onlineVersion","participant","code","workerId","assignmentId","hitId","age","Number","grade","dob","Date","gender","isMturk","isSandbox","console","log","setConditionById","parseInt","setCondition","getConditionFromServer","initializeConditions","sendStartedToServer","cordova","plugins","screenPinning","error","isImmersiveModeSupported","immersiveMode","catch","addLangs","setDefaultLang","localStorage","getItem","use","langChangedEvent","subscribe","lang","page","setRoot","ionic_pro_module_min","init","app_info","appVersion","app_module_MyErrorHandler","MyErrorHandler","injector","ionicErrorHandler","ionic_angular","handleError","err","monitoring","handleNewError","Éµ0","http","http_loader","AppModule","RenderType_MyApp","encapsulation","styles","MyAppNgFactory","core_es5","status_bar","splash_screen","android_full_screen","stimuli_stimuli","data_data","AppModuleNgFactory","app_root","action_sheet_component_ngfactory","alert_component_ngfactory","app_root_ngfactory","loading_component_ngfactory","modal_component_ngfactory","picker_component_ngfactory","popover_component_ngfactory","select_popover_component_ngfactory","toast_component_ngfactory","platform_browser","gesture_config","p0_0","p0_1","p1_0","p2_0","p2_1","esm5_http","esm5_forms","action_sheet_controller","alert_controller","events","haptic","loading_controller","ionic_angular_module","url_serializer","module_loader","modal_controller","picker_controller","popover_controller","tap_click","toast_controller","storage","ionic_error_handler","file","device","api","utils","pair_comparison","output_estimation","ranking_task","preloadModules","platform_registry","links","loadChildren","name","segment","priority","defaultHistory","ng_module_loader","p3_0","p3_1","p3_2","p3_3","p3_4","p4_0","p4_1","p4_2","p4_3","mode_registry","dist","undefined","driverOrder","Participant","playedBefore","stimuli_Stimuli","Stimuli","appInfo","currentTestIndex","runInBrowser","conditionCounterOverride","questionsCheck","questionsCheckCounter","is","initialTimestamp","now","nTraining","trainingType","condition","constants","res","e_1","toPromise","level","isActiveOnly","hideReward","activeOnlyVersion","pickCondition","pickFeaturesOrder","counter","getCounterValue","incrementCounter","conditionIndex","testTypes","criterionFunctionIndex","trainingTasksNuber","perms","permute","featuresOrder","pickRandomFromArray","isPassive","isActive","getNextTestType","runOutOfTests","calculateCriterion","feature_a","feature_b","feature_c","criterionFunction1","criterionFunction2","features","x","getParticipantAgeGroup","setLang","langCode","emit","hi","Utils","getRandomInt","min","max","Math","floor","random","shuffleArray","a","i","j","items","range","start","end","Array","from","k","combine","alphabet","curstr","ret","permutation","p","slice","c","fill","counterIndex","counterName","count","setItem","toString","TrainingProvider","cards","revealedCards","revealedCardsCounter","generateCards","genes","_i","genes_1","gene","monsterId","charAt","criterion","__WEBPACK_IMPORTED_MODULE_2__models_monster__","__WEBPACK_IMPORTED_MODULE_3__models_training_card__","getAllCards","addCard","card","deleteCard","splice","indexOf","updateCard","idx","getRevealedCardsCount","runOutOfTasks","getRevealedCards","getUnrevealedCards","unrevealedCards","getRevealedMonsters","revealedMonsters","getUnrevealedMonsters","unrevealedMonsters","Api","url","endpoint","reqOpts","__WEBPACK_IMPORTED_MODULE_1__angular_common_http__","set","post","put","delete","patch","Data","filesystem","toastCtrl","pairComparison","outputEstimation","rankingTask","serverURI","updateRecordsNumber","serializeStimuliData","Map","JSON","stringify","_b","_c","_d","_e","questions","question","pair","left","right","chosenMonster","isAnswerCorrect","_f","_g","type","guessedCriterion","getAnswerDistance","_h","_j","_k","_m","_o","freeText","replace","getTotalReward","totalReward","toFixed","mapToObj","save","driver","recordId","__WEBPACK_IMPORTED_MODULE_13_shortid___default","generate","dataObject","getParticipantInfo","getAppInfo","session","getSessionInfo","platformInfo","getPlatformInfo","postDataToServer","parent","postMessage","state","ageGroup","languageProficiency","duration","datetime","toJSON","__WEBPACK_IMPORTED_MODULE_12__stimuli_app_info__","userAgent","platforms","navigatorPlatform","height","width","uuid","model","cordovaVersion","manufacturer","serial","status","RecordStatus","Completed","bonus","parseFloat","dataString","__WEBPACK_IMPORTED_MODULE_14__ionic_pro__","e_2","Started","sendFailureToServer","e_3","Failed","loadAllRecords","records","storageGetAll","sort","b","getTime","allRecords","exportRecordsAsJSON","fileContent","saveOutputFile","create","message","position","present","recordsNumber","all","csvContent","fileExt","currentdate","filename","getDate","getMonth","getFullYear","getHours","getMinutes","resolveDirectoryUrl","externalDataDirectory","directory","getFile","exclusive","isFile","writeFile","fileEntry","createWriter","writer","onwriteend","evt","write","where","strMap","forEach","key","Monster","img","updateId","Pair","leftMonster","rightMonster","getWinner","PairComparisonQuestion","questionPair","answer","getAnswerReward","pair_comparison_PairComparisonProvider","PairComparisonProvider","questionsCounter","generateQuestions","pairMonsters","features_a","criterion_a","features_b","criterion_b","getNextQuestion","updateQuestion","runOutOfQuestions","total","OutputEstimationQuestion","abs","output_estimation_OutputEstimationProvider","OutputEstimationProvider","firstId","baseIdIndex","i_1","i_2","models_monster","RankingTaskProvider","labels"],"mappings":"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","sourcesContent":["export const TESTS_ORDER: string[][] = [\r\n  [\"comparison\", \"estimation\"],\r\n  [\"estimation\", \"comparison\"]\r\n];\r\n\r\nexport const ONLINE_DEFAULT_CONDITION: {trainingTasks: number, func: number, training: string, testingOrder: number} = {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0};\r\n\r\nexport const CONDITIONS: {trainingTasks: number, func: number, training: string, testingOrder: number}[] = [\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1}\r\n];\r\n\r\nexport const CONDITIONS_ACTIVE_ONLY: {trainingTasks: number, func: number, training: string, testingOrder: number}[] = [\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1}\r\n];\r\n\r\nexport const CONDITIONS_EXTENDED: {trainingTasks: number, func: number, training: string, testingOrder: number}[] = [\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 1}\r\n];\r\n\r\nexport const NUMBERS = {\r\n  TRAINING_CARDS: 27,\r\n  PAIR_COMPARISONS: 8,\r\n  OUTPUT_ESTIMATION_EXTRAPOLATION: 8,\r\n  OUTPUT_ESTIMATION_INTERPOLATION: 5,\r\n  OUTPUT_ESTIMATION_RECALL: 5\r\n}\r\n\r\nexport const PAIR_COMPARISONS = [\r\n  [ [4,2,2], [3,4,4] ],\r\n  [ [3,2,2], [2,4,4] ],\r\n  [ [1,4,1], [2,1,2] ],\r\n  [ [2,2,2], [3,1,1] ],\r\n  [ [1,1,4], [2,1,1] ],\r\n  [ [3,2,2], [2,2,2] ],\r\n  [ [2,3,2], [2,2,2] ],\r\n  [ [2,2,3], [2,2,2] ],\r\n];\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/constants.ts","export abstract class AppInfo {\r\n    static id: string = \"5c42aff5\";\r\n    static nameLabel: string = \"MTT\";\r\n    static version: string = \"2.9.4\";\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/app-info.ts","import { Api } from './api/api';\r\nimport { Utils } from './utils/utils';\r\nimport { Data } from './data/data';\r\nimport { Stimuli } from './stimuli/stimuli';\r\nimport { TrainingProvider } from './training/training';\r\nimport { PairComparisonProvider } from './pair-comparison/pair-comparison';\r\nimport { OutputEstimationProvider } from './output-estimation/output-estimation';\r\nimport { RankingTaskProvider } from './ranking-task/ranking-task';\r\n\r\n\r\nexport {\r\n    Api,\r\n    Utils,\r\n    Data,\r\n    Stimuli,\r\n    TrainingProvider,\r\n    PairComparisonProvider,\r\n    OutputEstimationProvider,\r\n    RankingTaskProvider   \r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/providers.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 162;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 162\n// module chunks = 15","var map = {\n\t\"../pages/consent-form/consent-form.module.ngfactory\": [\n\t\t286,\n\t\t6\n\t],\n\t\"../pages/failure/failure.module.ngfactory\": [\n\t\t285,\n\t\t14\n\t],\n\t\"../pages/instructions-check/instructions-check.module.ngfactory\": [\n\t\t284,\n\t\t13\n\t],\n\t\"../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory\": [\n\t\t287,\n\t\t12\n\t],\n\t\"../pages/output-estimation/output-estimation.module.ngfactory\": [\n\t\t288,\n\t\t2\n\t],\n\t\"../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory\": [\n\t\t290,\n\t\t11\n\t],\n\t\"../pages/pair-comparison/pair-comparison.module.ngfactory\": [\n\t\t292,\n\t\t1\n\t],\n\t\"../pages/ranking-task/ranking-task.module.ngfactory\": [\n\t\t289,\n\t\t7\n\t],\n\t\"../pages/registration-online/registration-online.module.ngfactory\": [\n\t\t291,\n\t\t4\n\t],\n\t\"../pages/registration/registration.module.ngfactory\": [\n\t\t294,\n\t\t3\n\t],\n\t\"../pages/reward/reward.module.ngfactory\": [\n\t\t295,\n\t\t10\n\t],\n\t\"../pages/training-instructions/training-instructions.module.ngfactory\": [\n\t\t293,\n\t\t8\n\t],\n\t\"../pages/training-instructions2/training-instructions2.module.ngfactory\": [\n\t\t296,\n\t\t9\n\t],\n\t\"../pages/training/training.module.ngfactory\": [\n\t\t297,\n\t\t0\n\t],\n\t\"../pages/view-records/view-records.module.ngfactory\": [\n\t\t298,\n\t\t5\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 193;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 193\n// module chunks = 15","import { Monster } from './monster';\r\n\r\nexport class TrainingCard {\r\n\r\n  monster: Monster;\r\n  revealed: boolean;\r\n\r\n  constructor(monster: Monster) {\r\n    this.monster = monster;\r\n    this.revealed = false;\r\n  }\r\n\r\n  reveal() {\r\n    this.revealed = true;\r\n  }\r\n\r\n  hasBeenRevealed() {\r\n    return this.revealed === true;\r\n  }\r\n\r\n  public equals(obj: TrainingCard) : boolean { \r\n    return this.monster === obj.monster;\r\n  } \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/training-card.ts","// The page the user lands on after opening the app and without a session\r\nexport const FirstRunPage = 'RegistrationPage';\r\nexport const OnlineFirstRunPage = 'ConsentFormPage';\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pages.ts","/**\r\n* @fileoverview This file is generated by the Angular template compiler.\r\n* Do not edit.\r\n* @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride}\r\n* tslint:disable\r\n*/ \r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../../node_modules/ionic-angular/components/item/item.ngfactory\";\r\nimport * as i2 from \"ionic-angular/components/item/item\";\r\nimport * as i3 from \"ionic-angular/util/form\";\r\nimport * as i4 from \"ionic-angular/config/config\";\r\nimport * as i5 from \"ionic-angular/components/item/item-reorder\";\r\nimport * as i6 from \"ionic-angular/components/item/item-content\";\r\nimport * as i7 from \"ionic-angular/components/menu/menu-close\";\r\nimport * as i8 from \"ionic-angular/components/app/menu-controller\";\r\nimport * as i9 from \"../../node_modules/ionic-angular/components/menu/menu.ngfactory\";\r\nimport * as i10 from \"ionic-angular/components/split-pane/split-pane\";\r\nimport * as i11 from \"ionic-angular/components/menu/menu\";\r\nimport * as i12 from \"ionic-angular/platform/platform\";\r\nimport * as i13 from \"ionic-angular/platform/keyboard\";\r\nimport * as i14 from \"ionic-angular/gestures/gesture-controller\";\r\nimport * as i15 from \"ionic-angular/platform/dom-controller\";\r\nimport * as i16 from \"ionic-angular/components/app/app\";\r\nimport * as i17 from \"ionic-angular/components/toolbar/toolbar-header\";\r\nimport * as i18 from \"ionic-angular/navigation/view-controller\";\r\nimport * as i19 from \"../../node_modules/ionic-angular/components/toolbar/toolbar.ngfactory\";\r\nimport * as i20 from \"ionic-angular/components/toolbar/toolbar\";\r\nimport * as i21 from \"../../node_modules/ionic-angular/components/toolbar/toolbar-title.ngfactory\";\r\nimport * as i22 from \"ionic-angular/components/toolbar/toolbar-title\";\r\nimport * as i23 from \"ionic-angular/components/toolbar/navbar\";\r\nimport * as i24 from \"../../node_modules/ionic-angular/components/content/content.ngfactory\";\r\nimport * as i25 from \"ionic-angular/components/content/content\";\r\nimport * as i26 from \"ionic-angular/navigation/nav-controller\";\r\nimport * as i27 from \"ionic-angular/components/list/list\";\r\nimport * as i28 from \"@angular/common\";\r\nimport * as i29 from \"../../node_modules/ionic-angular/components/nav/nav.ngfactory\";\r\nimport * as i30 from \"ionic-angular/components/nav/nav\";\r\nimport * as i31 from \"ionic-angular/transitions/transition-controller\";\r\nimport * as i32 from \"ionic-angular/navigation/deep-linker\";\r\nimport * as i33 from \"./app.component\";\r\nimport * as i34 from \"@ngx-translate/core\";\r\nimport * as i35 from \"@ionic-native/status-bar/index\";\r\nimport * as i36 from \"@ionic-native/splash-screen/index\";\r\nimport * as i37 from \"@ionic-native/android-full-screen/index\";\r\nimport * as i38 from \"../providers/stimuli/stimuli\";\r\nimport * as i39 from \"../providers/data/data\";\r\nvar styles_MyApp = [];\r\nvar RenderType_MyApp = i0.Éµcrt({ encapsulation: 2, styles: styles_MyApp, data: {} });\r\nexport { RenderType_MyApp as RenderType_MyApp };\r\nfunction View_MyApp_1(_l) { return i0.Éµvid(0, [(_l()(), i0.Éµeld(0, 0, null, null, 7, \"button\", [[\"class\", \"item item-block\"], [\"ion-item\", \"\"], [\"menuClose\", \"\"]], null, [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\r\n        var pd_0 = (i0.Éµnov(_v, 6).close() !== false);\r\n        ad = (pd_0 && ad);\r\n    } if ((\"click\" === en)) {\r\n        var pd_1 = (_co.openPage(_v.context.$implicit) !== false);\r\n        ad = (pd_1 && ad);\r\n    } return ad; }, i1.View_Item_0, i1.RenderType_Item)), i0.Éµdid(1, 1097728, null, 3, i2.Item, [i3.Form, i4.Config, i0.ElementRef, i0.Renderer, [2, i5.ItemReorder]], null, null), i0.Éµqud(335544320, 4, { contentLabel: 0 }), i0.Éµqud(603979776, 5, { _buttons: 1 }), i0.Éµqud(603979776, 6, { _icons: 1 }), i0.Éµdid(5, 16384, null, 0, i6.ItemContent, [], null, null), i0.Éµdid(6, 16384, null, 0, i7.MenuClose, [i8.MenuController], { menuClose: [0, \"menuClose\"] }, null), (_l()(), i0.Éµted(7, 2, [\"\\n          \", \"\\n        \"]))], function (_ck, _v) { var currVal_0 = \"\"; _ck(_v, 6, 0, currVal_0); }, function (_ck, _v) { var currVal_1 = _v.context.$implicit.title; _ck(_v, 7, 0, currVal_1); }); }\r\nexport function View_MyApp_0(_l) { return i0.Éµvid(0, [i0.Éµqud(402653184, 1, { nav: 0 }), (_l()(), i0.Éµeld(1, 0, null, null, 28, \"ion-menu\", [[\"role\", \"navigation\"]], null, null, null, i9.View_Menu_0, i9.RenderType_Menu)), i0.Éµprd(6144, null, i10.RootNode, null, [i11.Menu]), i0.Éµdid(3, 245760, null, 2, i11.Menu, [i8.MenuController, i0.ElementRef, i4.Config, i12.Platform, i0.Renderer, i13.Keyboard, i14.GestureController, i15.DomController, i16.App], { content: [0, \"content\"] }, null), i0.Éµqud(335544320, 2, { menuContent: 0 }), i0.Éµqud(335544320, 3, { menuNav: 0 }), (_l()(), i0.Éµted(-1, 0, [\"\\n    \"])), (_l()(), i0.Éµeld(7, 0, null, 0, 10, \"ion-header\", [], null, null, null, null, null)), i0.Éµdid(8, 16384, null, 0, i17.Header, [i4.Config, i0.ElementRef, i0.Renderer, [2, i18.ViewController]], null, null), (_l()(), i0.Éµted(-1, null, [\"\\n      \"])), (_l()(), i0.Éµeld(10, 0, null, null, 6, \"ion-toolbar\", [[\"class\", \"toolbar\"]], [[2, \"statusbar-padding\", null]], null, null, i19.View_Toolbar_0, i19.RenderType_Toolbar)), i0.Éµdid(11, 49152, null, 0, i20.Toolbar, [i4.Config, i0.ElementRef, i0.Renderer], null, null), (_l()(), i0.Éµted(-1, 3, [\"\\n        \"])), (_l()(), i0.Éµeld(13, 0, null, 3, 2, \"ion-title\", [], null, null, null, i21.View_ToolbarTitle_0, i21.RenderType_ToolbarTitle)), i0.Éµdid(14, 49152, null, 0, i22.ToolbarTitle, [i4.Config, i0.ElementRef, i0.Renderer, [2, i20.Toolbar], [2, i23.Navbar]], null, null), (_l()(), i0.Éµted(-1, 0, [\"Pages\"])), (_l()(), i0.Éµted(-1, 3, [\"\\n      \"])), (_l()(), i0.Éµted(-1, null, [\"\\n    \"])), (_l()(), i0.Éµted(-1, 0, [\"\\n\\n    \"])), (_l()(), i0.Éµeld(19, 0, null, 0, 9, \"ion-content\", [], [[2, \"statusbar-padding\", null], [2, \"has-refresher\", null]], null, null, i24.View_Content_0, i24.RenderType_Content)), i0.Éµdid(20, 4374528, [[2, 4]], 0, i25.Content, [i4.Config, i12.Platform, i15.DomController, i0.ElementRef, i0.Renderer, i16.App, i13.Keyboard, i0.NgZone, [2, i18.ViewController], [2, i26.NavController]], null, null), (_l()(), i0.Éµted(-1, 1, [\"\\n      \"])), (_l()(), i0.Éµeld(22, 0, null, 1, 5, \"ion-list\", [], null, null, null, null, null)), i0.Éµdid(23, 16384, null, 0, i27.List, [i4.Config, i0.ElementRef, i0.Renderer, i12.Platform, i14.GestureController, i15.DomController], null, null), (_l()(), i0.Éµted(-1, null, [\"\\n        \"])), (_l()(), i0.Éµand(16777216, null, null, 1, null, View_MyApp_1)), i0.Éµdid(26, 802816, null, 0, i28.NgForOf, [i0.ViewContainerRef, i0.TemplateRef, i0.IterableDiffers], { ngForOf: [0, \"ngForOf\"] }, null), (_l()(), i0.Éµted(-1, null, [\"\\n      \"])), (_l()(), i0.Éµted(-1, 1, [\"\\n    \"])), (_l()(), i0.Éµted(-1, 0, [\"\\n\\n  \"])), (_l()(), i0.Éµted(-1, null, [\"\\n  \"])), (_l()(), i0.Éµeld(31, 0, null, null, 2, \"ion-nav\", [], null, null, null, i29.View_Nav_0, i29.RenderType_Nav)), i0.Éµprd(6144, null, i10.RootNode, null, [i30.Nav]), i0.Éµdid(33, 4374528, [[1, 4], [\"content\", 4]], 0, i30.Nav, [[2, i18.ViewController], [2, i26.NavController], i16.App, i4.Config, i12.Platform, i0.ElementRef, i0.NgZone, i0.Renderer, i0.ComponentFactoryResolver, i14.GestureController, i31.TransitionController, [2, i32.DeepLinker], i15.DomController, i0.ErrorHandler], { root: [0, \"root\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = i0.Éµnov(_v, 33); _ck(_v, 3, 0, currVal_0); var currVal_4 = _co.pages; _ck(_v, 26, 0, currVal_4); var currVal_5 = _co.rootPage; _ck(_v, 33, 0, currVal_5); }, function (_ck, _v) { var currVal_1 = i0.Éµnov(_v, 11)._sbPadding; _ck(_v, 10, 0, currVal_1); var currVal_2 = i0.Éµnov(_v, 20).statusbarPadding; var currVal_3 = i0.Éµnov(_v, 20)._hasRefresher; _ck(_v, 19, 0, currVal_2, currVal_3); }); }\r\nexport function View_MyApp_Host_0(_l) { return i0.Éµvid(0, [(_l()(), i0.Éµeld(0, 0, null, null, 1, \"ng-component\", [], null, null, null, View_MyApp_0, RenderType_MyApp)), i0.Éµdid(1, 49152, null, 0, i33.MyApp, [i34.TranslateService, i12.Platform, i35.StatusBar, i36.SplashScreen, i37.AndroidFullScreen, i38.Stimuli, i39.Data], null, null)], null, null); }\r\nvar MyAppNgFactory = i0.Éµccf(\"ng-component\", i33.MyApp, View_MyApp_Host_0, {}, {}, []);\r\nexport { MyAppNgFactory as MyAppNgFactory };\r\n//# sourceMappingURL=app.component.ngfactory.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ngfactory.js.pre-build-optimizer.js","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Nav, Platform } from 'ionic-angular';\r\nimport { AndroidFullScreen } from '@ionic-native/android-full-screen';\r\nimport { FirstRunPage, OnlineFirstRunPage } from '../pages/pages';\r\nimport { Stimuli, Data } from '../providers/providers';\r\nvar MyApp = (function () {\r\n    function MyApp(translate, platform, statusBar, splashScreen, androidFullScreen, stimuli, data) {\r\n        var _this = this;\r\n        this.translate = translate;\r\n        this.platform = platform;\r\n        this.statusBar = statusBar;\r\n        this.splashScreen = splashScreen;\r\n        this.androidFullScreen = androidFullScreen;\r\n        this.stimuli = stimuli;\r\n        this.data = data;\r\n        this.rootPage = FirstRunPage;\r\n        // Set mobile full screen and pinned mode\r\n        this.platform.ready().then(function () {\r\n            _this.statusBar.styleDefault();\r\n            _this.splashScreen.hide();\r\n            _this.enterPinnedMode();\r\n            _this.enterImmersiveMode();\r\n        });\r\n        // Initialize providers\r\n        this.stimuli.initialize();\r\n        this.data.initialize();\r\n        // Initialize translation system\r\n        this.initTranslate();\r\n        // Parse URL params and detect online version\r\n        this.parseUrlParams();\r\n    }\r\n    /**\r\n       * ParseUrlParams()\r\n       */\r\n    MyApp.prototype.parseUrlParams = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var params;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        params = new URLSearchParams(window.location.search);\r\n                        if (!params.get(\"assignmentId\")) return [3 /*break*/, 5];\r\n                        // Parse participant info\r\n                        this.stimuli.onlineVersion = true;\r\n                        this.stimuli.participant.code = params.get(\"workerId\");\r\n                        this.stimuli.participant.workerId = params.get(\"workerId\");\r\n                        this.stimuli.participant.assignmentId = params.get(\"assignmentId\");\r\n                        this.stimuli.participant.hitId = params.get(\"hitId\");\r\n                        this.stimuli.participant.age = Number(params.get(\"age\"));\r\n                        this.stimuli.participant.grade = Number(params.get(\"grade\"));\r\n                        this.stimuli.participant.dob = new Date(params.get(\"dob\"));\r\n                        this.stimuli.participant.gender = params.get(\"gender\");\r\n                        if (params.get(\"isMturk\")) {\r\n                            this.stimuli.participant.isMturk = Number(params.get(\"isMturk\")) == 1;\r\n                        }\r\n                        if (params.get(\"isSandbox\")) {\r\n                            this.stimuli.participant.isSandbox = Number(params.get(\"isSandbox\")) == 1;\r\n                        }\r\n                        console.log(\"[DEBUG] Online Version\", this.stimuli.participant);\r\n                        if (!params.get(\"cid\")) return [3 /*break*/, 1];\r\n                        this.stimuli.setConditionById(parseInt(params.get(\"cid\")));\r\n                        return [3 /*break*/, 4];\r\n                    case 1:\r\n                        if (!params.get(\"func\")) return [3 /*break*/, 2];\r\n                        this.stimuli.setCondition(Number(params.get(\"nTraining\")), Number(params.get(\"func\")), params.get(\"trainingType\"), Number(params.get(\"testingOrder\")));\r\n                        return [3 /*break*/, 4];\r\n                    case 2: return [4 /*yield*/, this.stimuli.getConditionFromServer()];\r\n                    case 3:\r\n                        _a.sent();\r\n                        _a.label = 4;\r\n                    case 4:\r\n                        // Initialize conditions\r\n                        this.stimuli.initializeConditions();\r\n                        this.data.sendStartedToServer();\r\n                        // Go to the consent form\r\n                        this.rootPage = OnlineFirstRunPage;\r\n                        _a.label = 5;\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n       * enterPinnedMode()\r\n       */\r\n    MyApp.prototype.enterPinnedMode = function () {\r\n        if (typeof cordova !== 'undefined') {\r\n            cordova.plugins.screenPinning.enterPinnedMode(function () { console.log('entered pinned mode'); }, function (error) { console.log('error when entering pinned mode: ' + error); }, true);\r\n        }\r\n    };\r\n    /**\r\n     * enterImmersiveMode()\r\n     */\r\n    MyApp.prototype.enterImmersiveMode = function () {\r\n        var _this = this;\r\n        this.androidFullScreen.isImmersiveModeSupported()\r\n            .then(function () { return _this.androidFullScreen.immersiveMode(); })\r\n            .catch(function (error) { return console.log(error); });\r\n    };\r\n    MyApp.prototype.initTranslate = function () {\r\n        var _this = this;\r\n        // Set the default language\r\n        this.translate.addLangs(['en', 'de', 'es']);\r\n        this.translate.setDefaultLang('en');\r\n        // Get language from local storage\r\n        if (localStorage.getItem('lang') != null && localStorage.getItem('lang') != '') {\r\n            this.translate.use(localStorage.getItem('lang'));\r\n        }\r\n        // Update language when changed by an app component\r\n        this.stimuli.langChangedEvent.subscribe(function (lang) {\r\n            console.log('[DEBUG] language change evend emitted: ', lang);\r\n            _this.translate.use(lang);\r\n        });\r\n    };\r\n    MyApp.prototype.openPage = function (page) {\r\n        // Reset the content nav to have just this page\r\n        // we wouldn't want the back button to show in this scenario\r\n        this.nav.setRoot(page.component);\r\n    };\r\n    __decorate([\r\n        ViewChild(Nav),\r\n        __metadata(\"design:type\", Nav)\r\n    ], MyApp.prototype, \"nav\", void 0);\r\n    MyApp = __decorate([\r\n        Component({\r\n            template: \"<ion-menu [content]=\\\"content\\\">\\n    <ion-header>\\n      <ion-toolbar>\\n        <ion-title>Pages</ion-title>\\n      </ion-toolbar>\\n    </ion-header>\\n\\n    <ion-content>\\n      <ion-list>\\n        <button menuClose ion-item *ngFor=\\\"let p of pages\\\" (click)=\\\"openPage(p)\\\">\\n          {{p.title}}\\n        </button>\\n      </ion-list>\\n    </ion-content>\\n\\n  </ion-menu>\\n  <ion-nav #content [root]=\\\"rootPage\\\"></ion-nav>\"\r\n        }),\r\n        __metadata(\"design:paramtypes\", [TranslateService,\r\n            Platform,\r\n            StatusBar,\r\n            SplashScreen,\r\n            AndroidFullScreen,\r\n            Stimuli,\r\n            Data])\r\n    ], MyApp);\r\n    return MyApp;\r\n}());\r\nexport { MyApp };\r\n//# sourceMappingURL=app.component.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts.pre-build-optimizer.js","import { Component, ViewChild } from '@angular/core';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Nav, Platform } from 'ionic-angular';\r\nimport { AndroidFullScreen } from '@ionic-native/android-full-screen';\r\n\r\nimport { FirstRunPage, OnlineFirstRunPage } from '../pages/pages';\r\nimport { Stimuli, Data } from '../providers/providers';\r\n\r\ndeclare var cordova: any;\r\n\r\n@Component({\r\n  template: `<ion-menu [content]=\"content\">\r\n    <ion-header>\r\n      <ion-toolbar>\r\n        <ion-title>Pages</ion-title>\r\n      </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <ion-content>\r\n      <ion-list>\r\n        <button menuClose ion-item *ngFor=\"let p of pages\" (click)=\"openPage(p)\">\r\n          {{p.title}}\r\n        </button>\r\n      </ion-list>\r\n    </ion-content>\r\n\r\n  </ion-menu>\r\n  <ion-nav #content [root]=\"rootPage\"></ion-nav>`\r\n})\r\nexport class MyApp {\r\n\r\n  rootPage = FirstRunPage;\r\n\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  constructor(\r\n    private translate: TranslateService, \r\n    private platform: Platform,\r\n    private statusBar: StatusBar, \r\n    private splashScreen: SplashScreen,\r\n    private androidFullScreen: AndroidFullScreen, \r\n    private stimuli: Stimuli,\r\n    private data: Data\r\n  ) {\r\n\r\n      // Set mobile full screen and pinned mode\r\n      this.platform.ready().then(() => {\r\n        this.statusBar.styleDefault();\r\n        this.splashScreen.hide();\r\n        this.enterPinnedMode();\r\n        this.enterImmersiveMode();\r\n      });\r\n\r\n\r\n      // Initialize providers\r\n      this.stimuli.initialize();\r\n      this.data.initialize();\r\n\r\n      // Initialize translation system\r\n      this.initTranslate();\r\n\r\n      // Parse URL params and detect online version\r\n      this.parseUrlParams();\r\n  }\r\n\r\n  /**\r\n\t * ParseUrlParams()\r\n\t */\r\n  async parseUrlParams() {\r\n\r\n    // Parse URL params\r\n    const params = new URLSearchParams(window.location.search);\r\n    \r\n    // Check if online version...\r\n    if (params.get(\"assignmentId\")) {\r\n\r\n      // Parse participant info\r\n      this.stimuli.onlineVersion = true;\r\n      this.stimuli.participant.code = params.get(\"workerId\");\r\n      this.stimuli.participant.workerId = params.get(\"workerId\");\r\n      this.stimuli.participant.assignmentId = params.get(\"assignmentId\");\r\n      this.stimuli.participant.hitId = params.get(\"hitId\");\r\n      this.stimuli.participant.age = Number(params.get(\"age\"));\r\n      this.stimuli.participant.grade = Number(params.get(\"grade\"));\r\n      this.stimuli.participant.dob = new Date(params.get(\"dob\"));\r\n      this.stimuli.participant.gender = params.get(\"gender\");\r\n\r\n      if ( params.get(\"isMturk\")) {\r\n        this.stimuli.participant.isMturk = Number(params.get(\"isMturk\")) == 1;\r\n      }\r\n\r\n      if ( params.get(\"isSandbox\")) {\r\n        this.stimuli.participant.isSandbox = Number(params.get(\"isSandbox\")) == 1;\r\n      }\r\n\r\n      console.log(\"[DEBUG] Online Version\", this.stimuli.participant);\r\n\r\n\r\n      // Parse condition by id\r\n      if (params.get(\"cid\")) {\r\n        this.stimuli.setConditionById(\r\n          parseInt(params.get(\"cid\"))\r\n        );\r\n      }\r\n\r\n      // Or parse condition from individual properties\r\n      else if (params.get(\"func\")) {\r\n        this.stimuli.setCondition(\r\n          Number(params.get(\"nTraining\")),\r\n          Number(params.get(\"func\")),\r\n          params.get(\"trainingType\"),\r\n          Number(params.get(\"testingOrder\")),\r\n        );\r\n      }\r\n\r\n      // Or ask the server  for a condition id\r\n      else {\r\n        await this.stimuli.getConditionFromServer();\r\n      }\r\n\r\n      // Initialize conditions\r\n      this.stimuli.initializeConditions();\r\n\r\n      this.data.sendStartedToServer();\r\n\r\n      // Go to the consent form\r\n      this.rootPage = OnlineFirstRunPage;\r\n    }\r\n  }\r\n\r\n  /**\r\n\t * enterPinnedMode()\r\n\t */\r\n\tenterPinnedMode() {\r\n\t\tif (typeof cordova !== 'undefined') {\r\n\t\t\tcordova.plugins.screenPinning.enterPinnedMode(\r\n\t\t\t\t() => { console.log('entered pinned mode') },\r\n\t\t\t\t(error) => { console.log('error when entering pinned mode: ' + error) },\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * enterImmersiveMode()\r\n\t */\r\n\tenterImmersiveMode() {\r\n\t\tthis.androidFullScreen.isImmersiveModeSupported()\r\n\t\t\t.then(() => this.androidFullScreen.immersiveMode())\r\n\t\t\t.catch((error: any) => console.log(error));\r\n\t}\r\n\r\n  initTranslate() {\r\n    // Set the default language\r\n    this.translate.addLangs(['en', 'de', 'es']);\r\n    this.translate.setDefaultLang('en');\r\n\r\n    // Get language from local storage\r\n    if (localStorage.getItem('lang') != null && localStorage.getItem('lang') != '') {\r\n      this.translate.use(localStorage.getItem('lang'));\r\n    }\r\n\r\n    // Update language when changed by an app component\r\n    this.stimuli.langChangedEvent.subscribe(lang => {\r\n      console.log('[DEBUG] language change evend emitted: ', lang);\r\n      this.translate.use(lang);\r\n    });\r\n  }\r\n\r\n  openPage(page) {\r\n    // Reset the content nav to have just this page\r\n    // we wouldn't want the back button to show in this scenario\r\n    this.nav.setRoot(page.component);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { ErrorHandler, NgModule, Injectable, Injector } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { AndroidFullScreen } from '@ionic-native/android-full-screen';\r\nimport { File } from '@ionic-native/file';\r\nimport { Device } from '@ionic-native/device';\r\nimport { Pro } from '@ionic/pro';\r\n\r\nimport { Api, Utils, Data, Stimuli, TrainingProvider, PairComparisonProvider, \r\n  OutputEstimationProvider, RankingTaskProvider} from '../providers/providers';\r\nimport { AppInfo } from '../providers/stimuli/app-info';\r\nimport { MyApp } from './app.component';\r\n\r\n\r\n// Ionic Pro\r\nPro.init(AppInfo.id, {\r\n  appVersion: AppInfo.version\r\n})\r\n\r\n\r\n// The translate loader needs to know where to load i18n files\r\n// in Ionic's static asset pipeline.\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\n\r\n\r\n// Error Handler\r\n@Injectable()\r\nexport class MyErrorHandler implements ErrorHandler {\r\n  ionicErrorHandler: IonicErrorHandler;\r\n\r\n  constructor(injector: Injector) {\r\n    try {\r\n      this.ionicErrorHandler = injector.get(IonicErrorHandler);\r\n    } catch(e) {\r\n      // Unable to get the IonicErrorHandler provider, ensure\r\n      // IonicErrorHandler has been added to the providers list below\r\n    }\r\n  }\r\n\r\n  handleError(err: any): void {\r\n    Pro.monitoring.handleNewError(err);\r\n    // Remove this if you want to disable Ionic's auto exception handling\r\n    // in development mode.\r\n    this.ionicErrorHandler && this.ionicErrorHandler.handleError(err);\r\n  }\r\n}\r\n\r\n\r\n// App Module\r\n@NgModule({\r\n  declarations: [\r\n    MyApp\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: (createTranslateLoader),\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    IonicModule.forRoot(MyApp, {\r\n      preloadModules: true\r\n    }, \n{\n  links: [\n    { loadChildren: '../pages/instructions-check/instructions-check.module.ngfactory#InstructionsCheckPageModuleNgFactory', name: 'InstructionsCheckPage', segment: 'instructions-check', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/failure/failure.module.ngfactory#FailureModuleNgFactory', name: 'FailurePage', segment: 'failure', priority: 'high', defaultHistory: [] },\n    { loadChildren: '../pages/consent-form/consent-form.module.ngfactory#ConsentFormPageModuleNgFactory', name: 'ConsentFormPage', segment: 'consent-form', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory#OutputEstimationInstructionsPageModuleNgFactory', name: 'OutputEstimationInstructionsPage', segment: 'output-estimation-instructions', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/output-estimation/output-estimation.module.ngfactory#OutputEstimationPageModuleNgFactory', name: 'OutputEstimationPage', segment: 'output-estimation', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ranking-task/ranking-task.module.ngfactory#RankingTaskPageModuleNgFactory', name: 'RankingTaskPage', segment: 'ranking-task', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory#PairComparisonInstructionsPageModuleNgFactory', name: 'PairComparisonInstructionsPage', segment: 'pair-comparison-instructions', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/registration-online/registration-online.module.ngfactory#RegistrationOnlinePageModuleNgFactory', name: 'RegistrationOnlinePage', segment: 'registration-online', priority: 'high', defaultHistory: [] },\n    { loadChildren: '../pages/pair-comparison/pair-comparison.module.ngfactory#PairComparisonPageModuleNgFactory', name: 'PairComparisonPage', segment: 'pair-comparison', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/training-instructions/training-instructions.module.ngfactory#TrainingInstructionsPageModuleNgFactory', name: 'TrainingInstructionsPage', segment: 'training-instructions', priority: 'high', defaultHistory: [] },\n    { loadChildren: '../pages/registration/registration.module.ngfactory#RegistrationPageModuleNgFactory', name: 'RegistrationPage', segment: 'registration', priority: 'high', defaultHistory: [] },\n    { loadChildren: '../pages/reward/reward.module.ngfactory#RewardPageModuleNgFactory', name: 'RewardPage', segment: 'reward', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/training-instructions2/training-instructions2.module.ngfactory#TrainingInstructions2PageModuleNgFactory', name: 'TrainingInstructions2Page', segment: 'training-instructions2', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/training/training.module.ngfactory#TrainingPageModuleNgFactory', name: 'TrainingPage', segment: 'training', priority: 'high', defaultHistory: [] },\n    { loadChildren: '../pages/view-records/view-records.module.ngfactory#ViewRecordsPageModuleNgFactory', name: 'ViewRecordsPage', segment: 'view-records', priority: 'low', defaultHistory: [] }\n  ]\n}),\r\n    IonicStorageModule.forRoot({\r\n      name: AppInfo.id,\r\n      driverOrder: ['sqlite', 'indexeddb', 'websql']\r\n    })\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp\r\n  ],\r\n  providers: [\r\n    SplashScreen,\r\n    StatusBar,\r\n    AndroidFullScreen,\r\n    IonicErrorHandler,\r\n    [{ provide: ErrorHandler, useClass: MyErrorHandler }],\r\n    File,\r\n    Device,\r\n    Api,\r\n    Utils,\r\n    Data,\r\n    Stimuli,\r\n    TrainingProvider,\r\n    PairComparisonProvider,\r\n    OutputEstimationProvider,\r\n    RankingTaskProvider\r\n  ]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { ErrorHandler, NgModule, Injectable, Injector } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { AndroidFullScreen } from '@ionic-native/android-full-screen';\r\nimport { File } from '@ionic-native/file';\r\nimport { Device } from '@ionic-native/device';\r\nimport { Pro } from '@ionic/pro';\r\nimport { Api, Utils, Data, Stimuli, TrainingProvider, PairComparisonProvider, OutputEstimationProvider, RankingTaskProvider } from '../providers/providers';\r\nimport { AppInfo } from '../providers/stimuli/app-info';\r\nimport { MyApp } from './app.component';\r\n// Ionic Pro\r\nPro.init(AppInfo.id, {\r\n    appVersion: AppInfo.version\r\n});\r\n// The translate loader needs to know where to load i18n files\r\n// in Ionic's static asset pipeline.\r\nexport function createTranslateLoader(http) {\r\n    return new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\n// Error Handler\r\nvar MyErrorHandler = (function () {\r\n    function MyErrorHandler(injector) {\r\n        try {\r\n            this.ionicErrorHandler = injector.get(IonicErrorHandler);\r\n        }\r\n        catch (e) {\r\n            // Unable to get the IonicErrorHandler provider, ensure\r\n            // IonicErrorHandler has been added to the providers list below\r\n        }\r\n    }\r\n    MyErrorHandler.prototype.handleError = function (err) {\r\n        Pro.monitoring.handleNewError(err);\r\n        // Remove this if you want to disable Ionic's auto exception handling\r\n        // in development mode.\r\n        this.ionicErrorHandler && this.ionicErrorHandler.handleError(err);\r\n    };\r\n    MyErrorHandler = __decorate([\r\n        Injectable(),\r\n        __metadata(\"design:paramtypes\", [Injector])\r\n    ], MyErrorHandler);\r\n    return MyErrorHandler;\r\n}());\r\nexport { MyErrorHandler };\r\nvar Éµ0 = (createTranslateLoader);\r\n// App Module\r\nvar AppModule = (function () {\r\n    function AppModule() {\r\n    }\r\n    AppModule = __decorate([\r\n        NgModule({\r\n            declarations: [\r\n                MyApp\r\n            ],\r\n            imports: [\r\n                BrowserModule,\r\n                HttpClientModule,\r\n                TranslateModule.forRoot({\r\n                    loader: {\r\n                        provide: TranslateLoader,\r\n                        useFactory: Éµ0,\r\n                        deps: [HttpClient]\r\n                    }\r\n                }),\r\n                IonicModule.forRoot(MyApp, {\r\n                    preloadModules: true\r\n                }, {\r\n                    links: [\r\n                        { loadChildren: '../pages/instructions-check/instructions-check.module.ngfactory#InstructionsCheckPageModuleNgFactory', name: 'InstructionsCheckPage', segment: 'instructions-check', priority: 'low', defaultHistory: [] },\r\n                        { loadChildren: '../pages/failure/failure.module.ngfactory#FailureModuleNgFactory', name: 'FailurePage', segment: 'failure', priority: 'high', defaultHistory: [] },\r\n                        { loadChildren: '../pages/consent-form/consent-form.module.ngfactory#ConsentFormPageModuleNgFactory', name: 'ConsentFormPage', segment: 'consent-form', priority: 'low', defaultHistory: [] },\r\n                        { loadChildren: '../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory#OutputEstimationInstructionsPageModuleNgFactory', name: 'OutputEstimationInstructionsPage', segment: 'output-estimation-instructions', priority: 'low', defaultHistory: [] },\r\n                        { loadChildren: '../pages/output-estimation/output-estimation.module.ngfactory#OutputEstimationPageModuleNgFactory', name: 'OutputEstimationPage', segment: 'output-estimation', priority: 'low', defaultHistory: [] },\r\n                        { loadChildren: '../pages/ranking-task/ranking-task.module.ngfactory#RankingTaskPageModuleNgFactory', name: 'RankingTaskPage', segment: 'ranking-task', priority: 'low', defaultHistory: [] },\r\n                        { loadChildren: '../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory#PairComparisonInstructionsPageModuleNgFactory', name: 'PairComparisonInstructionsPage', segment: 'pair-comparison-instructions', priority: 'low', defaultHistory: [] },\r\n                        { loadChildren: '../pages/registration-online/registration-online.module.ngfactory#RegistrationOnlinePageModuleNgFactory', name: 'RegistrationOnlinePage', segment: 'registration-online', priority: 'high', defaultHistory: [] },\r\n                        { loadChildren: '../pages/pair-comparison/pair-comparison.module.ngfactory#PairComparisonPageModuleNgFactory', name: 'PairComparisonPage', segment: 'pair-comparison', priority: 'low', defaultHistory: [] },\r\n                        { loadChildren: '../pages/training-instructions/training-instructions.module.ngfactory#TrainingInstructionsPageModuleNgFactory', name: 'TrainingInstructionsPage', segment: 'training-instructions', priority: 'high', defaultHistory: [] },\r\n                        { loadChildren: '../pages/registration/registration.module.ngfactory#RegistrationPageModuleNgFactory', name: 'RegistrationPage', segment: 'registration', priority: 'high', defaultHistory: [] },\r\n                        { loadChildren: '../pages/reward/reward.module.ngfactory#RewardPageModuleNgFactory', name: 'RewardPage', segment: 'reward', priority: 'low', defaultHistory: [] },\r\n                        { loadChildren: '../pages/training-instructions2/training-instructions2.module.ngfactory#TrainingInstructions2PageModuleNgFactory', name: 'TrainingInstructions2Page', segment: 'training-instructions2', priority: 'low', defaultHistory: [] },\r\n                        { loadChildren: '../pages/training/training.module.ngfactory#TrainingPageModuleNgFactory', name: 'TrainingPage', segment: 'training', priority: 'high', defaultHistory: [] },\r\n                        { loadChildren: '../pages/view-records/view-records.module.ngfactory#ViewRecordsPageModuleNgFactory', name: 'ViewRecordsPage', segment: 'view-records', priority: 'low', defaultHistory: [] }\r\n                    ]\r\n                }),\r\n                IonicStorageModule.forRoot({\r\n                    name: AppInfo.id,\r\n                    driverOrder: ['sqlite', 'indexeddb', 'websql']\r\n                })\r\n            ],\r\n            bootstrap: [IonicApp],\r\n            entryComponents: [\r\n                MyApp\r\n            ],\r\n            providers: [\r\n                SplashScreen,\r\n                StatusBar,\r\n                AndroidFullScreen,\r\n                IonicErrorHandler,\r\n                [{ provide: ErrorHandler, useClass: MyErrorHandler }],\r\n                File,\r\n                Device,\r\n                Api,\r\n                Utils,\r\n                Data,\r\n                Stimuli,\r\n                TrainingProvider,\r\n                PairComparisonProvider,\r\n                OutputEstimationProvider,\r\n                RankingTaskProvider\r\n            ]\r\n        })\r\n    ], AppModule);\r\n    return AppModule;\r\n}());\r\nexport { AppModule };\r\nexport { Éµ0 };\r\n//# sourceMappingURL=app.module.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts.pre-build-optimizer.js","/**\r\n* @fileoverview This file is generated by the Angular template compiler.\r\n* Do not edit.\r\n* @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride}\r\n* tslint:disable\r\n*/ \r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"./app.module\";\r\nimport * as i2 from \"ionic-angular/components/app/app-root\";\r\nimport * as i3 from \"../../node_modules/ionic-angular/components/action-sheet/action-sheet-component.ngfactory\";\r\nimport * as i4 from \"../../node_modules/ionic-angular/components/alert/alert-component.ngfactory\";\r\nimport * as i5 from \"../../node_modules/ionic-angular/components/app/app-root.ngfactory\";\r\nimport * as i6 from \"../../node_modules/ionic-angular/components/loading/loading-component.ngfactory\";\r\nimport * as i7 from \"../../node_modules/ionic-angular/components/modal/modal-component.ngfactory\";\r\nimport * as i8 from \"../../node_modules/ionic-angular/components/picker/picker-component.ngfactory\";\r\nimport * as i9 from \"../../node_modules/ionic-angular/components/popover/popover-component.ngfactory\";\r\nimport * as i10 from \"../../node_modules/ionic-angular/components/select/select-popover-component.ngfactory\";\r\nimport * as i11 from \"../../node_modules/ionic-angular/components/toast/toast-component.ngfactory\";\r\nimport * as i12 from \"./app.component.ngfactory\";\r\nimport * as i13 from \"@angular/common\";\r\nimport * as i14 from \"@angular/platform-browser\";\r\nimport * as i15 from \"ionic-angular/gestures/gesture-config\";\r\nimport * as i16 from \"@angular/common/http\";\r\nimport * as i17 from \"@angular/forms\";\r\nimport * as i18 from \"@ngx-translate/core\";\r\nimport * as i19 from \"ionic-angular/components/action-sheet/action-sheet-controller\";\r\nimport * as i20 from \"ionic-angular/components/app/app\";\r\nimport * as i21 from \"ionic-angular/config/config\";\r\nimport * as i22 from \"ionic-angular/components/alert/alert-controller\";\r\nimport * as i23 from \"ionic-angular/util/events\";\r\nimport * as i24 from \"ionic-angular/util/form\";\r\nimport * as i25 from \"ionic-angular/tap-click/haptic\";\r\nimport * as i26 from \"ionic-angular/platform/platform\";\r\nimport * as i27 from \"ionic-angular/platform/keyboard\";\r\nimport * as i28 from \"ionic-angular/platform/dom-controller\";\r\nimport * as i29 from \"ionic-angular/components/loading/loading-controller\";\r\nimport * as i30 from \"ionic-angular/module\";\r\nimport * as i31 from \"ionic-angular/navigation/url-serializer\";\r\nimport * as i32 from \"ionic-angular/navigation/deep-linker\";\r\nimport * as i33 from \"ionic-angular/util/module-loader\";\r\nimport * as i34 from \"ionic-angular/components/modal/modal-controller\";\r\nimport * as i35 from \"ionic-angular/components/picker/picker-controller\";\r\nimport * as i36 from \"ionic-angular/components/popover/popover-controller\";\r\nimport * as i37 from \"ionic-angular/tap-click/tap-click\";\r\nimport * as i38 from \"ionic-angular/gestures/gesture-controller\";\r\nimport * as i39 from \"ionic-angular/components/toast/toast-controller\";\r\nimport * as i40 from \"ionic-angular/transitions/transition-controller\";\r\nimport * as i41 from \"@ionic/storage/dist/storage\";\r\nimport * as i42 from \"@ionic-native/splash-screen/index\";\r\nimport * as i43 from \"@ionic-native/status-bar/index\";\r\nimport * as i44 from \"@ionic-native/android-full-screen/index\";\r\nimport * as i45 from \"ionic-angular/util/ionic-error-handler\";\r\nimport * as i46 from \"@ionic-native/file/index\";\r\nimport * as i47 from \"@ionic-native/device/index\";\r\nimport * as i48 from \"../providers/api/api\";\r\nimport * as i49 from \"../providers/utils/utils\";\r\nimport * as i50 from \"../providers/stimuli/stimuli\";\r\nimport * as i51 from \"../providers/training/training\";\r\nimport * as i52 from \"../providers/pair-comparison/pair-comparison\";\r\nimport * as i53 from \"../providers/output-estimation/output-estimation\";\r\nimport * as i54 from \"../providers/ranking-task/ranking-task\";\r\nimport * as i55 from \"../providers/data/data\";\r\nimport * as i56 from \"ionic-angular/platform/platform-registry\";\r\nimport * as i57 from \"ionic-angular/components/app/menu-controller\";\r\nimport * as i58 from \"ionic-angular/util/ng-module-loader\";\r\nimport * as i59 from \"ionic-angular/config/mode-registry\";\r\nimport * as i60 from \"@ionic/storage/dist/index\";\r\nimport * as i61 from \"./app.component\";\r\nvar AppModuleNgFactory = i0.Éµcmf(i1.AppModule, [i2.IonicApp], function (_l) { return i0.Éµmod([i0.Éµmpd(512, i0.ComponentFactoryResolver, i0.ÉµCodegenComponentFactoryResolver, [[8, [i3.ActionSheetCmpNgFactory, i4.AlertCmpNgFactory, i5.IonicAppNgFactory, i6.LoadingCmpNgFactory, i7.ModalCmpNgFactory, i8.PickerCmpNgFactory, i9.PopoverCmpNgFactory, i10.SelectPopoverNgFactory, i11.ToastCmpNgFactory, i12.MyAppNgFactory]], [3, i0.ComponentFactoryResolver], i0.NgModuleRef]), i0.Éµmpd(5120, i0.LOCALE_ID, i0.Éµm, [[3, i0.LOCALE_ID]]), i0.Éµmpd(4608, i13.NgLocalization, i13.NgLocaleLocalization, [i0.LOCALE_ID, [2, i13.Éµa]]), i0.Éµmpd(5120, i0.APP_ID, i0.Éµf, []), i0.Éµmpd(5120, i0.IterableDiffers, i0.Éµk, []), i0.Éµmpd(5120, i0.KeyValueDiffers, i0.Éµl, []), i0.Éµmpd(4608, i14.DomSanitizer, i14.Éµe, [i13.DOCUMENT]), i0.Éµmpd(6144, i0.Sanitizer, null, [i14.DomSanitizer]), i0.Éµmpd(4608, i14.HAMMER_GESTURE_CONFIG, i15.IonicGestureConfig, []), i0.Éµmpd(5120, i14.EVENT_MANAGER_PLUGINS, function (p0_0, p0_1, p1_0, p2_0, p2_1) { return [new i14.ÉµDomEventsPlugin(p0_0, p0_1), new i14.ÉµKeyEventsPlugin(p1_0), new i14.ÉµHammerGesturesPlugin(p2_0, p2_1)]; }, [i13.DOCUMENT, i0.NgZone, i13.DOCUMENT, i13.DOCUMENT, i14.HAMMER_GESTURE_CONFIG]), i0.Éµmpd(4608, i14.EventManager, i14.EventManager, [i14.EVENT_MANAGER_PLUGINS, i0.NgZone]), i0.Éµmpd(135680, i14.ÉµDomSharedStylesHost, i14.ÉµDomSharedStylesHost, [i13.DOCUMENT]), i0.Éµmpd(4608, i14.ÉµDomRendererFactory2, i14.ÉµDomRendererFactory2, [i14.EventManager, i14.ÉµDomSharedStylesHost]), i0.Éµmpd(6144, i0.RendererFactory2, null, [i14.ÉµDomRendererFactory2]), i0.Éµmpd(6144, i14.ÉµSharedStylesHost, null, [i14.ÉµDomSharedStylesHost]), i0.Éµmpd(4608, i0.Testability, i0.Testability, [i0.NgZone]), i0.Éµmpd(4608, i14.Meta, i14.Meta, [i13.DOCUMENT]), i0.Éµmpd(4608, i14.Title, i14.Title, [i13.DOCUMENT]), i0.Éµmpd(4608, i16.HttpXsrfTokenExtractor, i16.Éµg, [i13.DOCUMENT, i0.PLATFORM_ID, i16.Éµe]), i0.Éµmpd(4608, i16.Éµh, i16.Éµh, [i16.HttpXsrfTokenExtractor, i16.Éµf]), i0.Éµmpd(5120, i16.HTTP_INTERCEPTORS, function (p0_0) { return [p0_0]; }, [i16.Éµh]), i0.Éµmpd(4608, i16.Éµd, i16.Éµd, []), i0.Éµmpd(6144, i16.XhrFactory, null, [i16.Éµd]), i0.Éµmpd(4608, i16.HttpXhrBackend, i16.HttpXhrBackend, [i16.XhrFactory]), i0.Éµmpd(6144, i16.HttpBackend, null, [i16.HttpXhrBackend]), i0.Éµmpd(5120, i16.HttpHandler, i16.ÉµinterceptingHandler, [i16.HttpBackend, [2, i16.HTTP_INTERCEPTORS]]), i0.Éµmpd(4608, i16.HttpClient, i16.HttpClient, [i16.HttpHandler]), i0.Éµmpd(4608, i17.Éµi, i17.Éµi, []), i0.Éµmpd(4608, i17.FormBuilder, i17.FormBuilder, []), i0.Éµmpd(5120, i18.TranslateLoader, i1.Éµ0, [i16.HttpClient]), i0.Éµmpd(4608, i18.TranslateCompiler, i18.TranslateFakeCompiler, []), i0.Éµmpd(4608, i18.TranslateParser, i18.TranslateDefaultParser, []), i0.Éµmpd(4608, i18.MissingTranslationHandler, i18.FakeMissingTranslationHandler, []), i0.Éµmpd(4608, i18.Éµa, i18.Éµa, []), i0.Éµmpd(4608, i18.TranslateService, i18.TranslateService, [i18.Éµa, i18.TranslateLoader, i18.TranslateCompiler, i18.TranslateParser, i18.MissingTranslationHandler, i18.USE_DEFAULT_LANG, i18.USE_STORE]), i0.Éµmpd(4608, i19.ActionSheetController, i19.ActionSheetController, [i20.App, i21.Config]), i0.Éµmpd(4608, i22.AlertController, i22.AlertController, [i20.App, i21.Config]), i0.Éµmpd(4608, i23.Events, i23.Events, []), i0.Éµmpd(4608, i24.Form, i24.Form, []), i0.Éµmpd(4608, i25.Haptic, i25.Haptic, [i26.Platform]), i0.Éµmpd(4608, i27.Keyboard, i27.Keyboard, [i21.Config, i26.Platform, i0.NgZone, i28.DomController]), i0.Éµmpd(4608, i29.LoadingController, i29.LoadingController, [i20.App, i21.Config]), i0.Éµmpd(5120, i13.LocationStrategy, i30.provideLocationStrategy, [i13.PlatformLocation, [2, i13.APP_BASE_HREF], i21.Config]), i0.Éµmpd(4608, i13.Location, i13.Location, [i13.LocationStrategy]), i0.Éµmpd(5120, i31.UrlSerializer, i31.setupUrlSerializer, [i20.App, i31.DeepLinkConfigToken]), i0.Éµmpd(5120, i32.DeepLinker, i32.setupDeepLinker, [i20.App, i31.UrlSerializer, i13.Location, i33.ModuleLoader, i0.ComponentFactoryResolver]), i0.Éµmpd(4608, i34.ModalController, i34.ModalController, [i20.App, i21.Config, i32.DeepLinker]), i0.Éµmpd(4608, i35.PickerController, i35.PickerController, [i20.App, i21.Config]), i0.Éµmpd(4608, i36.PopoverController, i36.PopoverController, [i20.App, i21.Config, i32.DeepLinker]), i0.Éµmpd(4608, i37.TapClick, i37.TapClick, [i21.Config, i26.Platform, i28.DomController, i20.App, i38.GestureController]), i0.Éµmpd(4608, i39.ToastController, i39.ToastController, [i20.App, i21.Config]), i0.Éµmpd(4608, i40.TransitionController, i40.TransitionController, [i26.Platform, i21.Config]), i0.Éµmpd(5120, i41.Storage, i41.provideStorage, [i41.StorageConfigToken]), i0.Éµmpd(4608, i42.SplashScreen, i42.SplashScreen, []), i0.Éµmpd(4608, i43.StatusBar, i43.StatusBar, []), i0.Éµmpd(4608, i44.AndroidFullScreen, i44.AndroidFullScreen, []), i0.Éµmpd(4608, i45.IonicErrorHandler, i45.IonicErrorHandler, []), i0.Éµmpd(4608, i46.File, i46.File, []), i0.Éµmpd(4608, i47.Device, i47.Device, []), i0.Éµmpd(4608, i48.Api, i48.Api, [i16.HttpClient]), i0.Éµmpd(4608, i49.Utils, i49.Utils, []), i0.Éµmpd(4608, i50.Stimuli, i50.Stimuli, [i49.Utils, i26.Platform, i48.Api]), i0.Éµmpd(4608, i51.TrainingProvider, i51.TrainingProvider, [i49.Utils, i50.Stimuli]), i0.Éµmpd(4608, i52.PairComparisonProvider, i52.PairComparisonProvider, [i49.Utils, i50.Stimuli]), i0.Éµmpd(4608, i53.OutputEstimationProvider, i53.OutputEstimationProvider, [i49.Utils, i50.Stimuli, i51.TrainingProvider]), i0.Éµmpd(4608, i54.RankingTaskProvider, i54.RankingTaskProvider, [i18.TranslateService]), i0.Éµmpd(4608, i55.Data, i55.Data, [i41.Storage, i46.File, i39.ToastController, i48.Api, i26.Platform, i47.Device, i50.Stimuli, i51.TrainingProvider, i52.PairComparisonProvider, i53.OutputEstimationProvider, i54.RankingTaskProvider]), i0.Éµmpd(512, i13.CommonModule, i13.CommonModule, []), i0.Éµmpd(512, i0.ErrorHandler, i1.MyErrorHandler, [i0.Injector]), i0.Éµmpd(256, i21.ConfigToken, { preloadModules: true }, []), i0.Éµmpd(1024, i56.PlatformConfigToken, i56.providePlatformConfigs, []), i0.Éµmpd(1024, i26.Platform, i26.setupPlatform, [i14.DOCUMENT, i56.PlatformConfigToken, i0.NgZone]), i0.Éµmpd(1024, i21.Config, i21.setupConfig, [i21.ConfigToken, i26.Platform]), i0.Éµmpd(512, i28.DomController, i28.DomController, [i26.Platform]), i0.Éµmpd(512, i57.MenuController, i57.MenuController, []), i0.Éµmpd(512, i20.App, i20.App, [i21.Config, i26.Platform, [2, i57.MenuController]]), i0.Éµmpd(512, i38.GestureController, i38.GestureController, [i20.App]), i0.Éµmpd(256, i31.DeepLinkConfigToken, { links: [{ loadChildren: \"../pages/instructions-check/instructions-check.module.ngfactory#InstructionsCheckPageModuleNgFactory\", name: \"InstructionsCheckPage\", segment: \"instructions-check\", priority: \"low\", defaultHistory: [] }, { loadChildren: \"../pages/failure/failure.module.ngfactory#FailureModuleNgFactory\", name: \"FailurePage\", segment: \"failure\", priority: \"high\", defaultHistory: [] }, { loadChildren: \"../pages/consent-form/consent-form.module.ngfactory#ConsentFormPageModuleNgFactory\", name: \"ConsentFormPage\", segment: \"consent-form\", priority: \"low\", defaultHistory: [] }, { loadChildren: \"../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory#OutputEstimationInstructionsPageModuleNgFactory\", name: \"OutputEstimationInstructionsPage\", segment: \"output-estimation-instructions\", priority: \"low\", defaultHistory: [] }, { loadChildren: \"../pages/output-estimation/output-estimation.module.ngfactory#OutputEstimationPageModuleNgFactory\", name: \"OutputEstimationPage\", segment: \"output-estimation\", priority: \"low\", defaultHistory: [] }, { loadChildren: \"../pages/ranking-task/ranking-task.module.ngfactory#RankingTaskPageModuleNgFactory\", name: \"RankingTaskPage\", segment: \"ranking-task\", priority: \"low\", defaultHistory: [] }, { loadChildren: \"../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory#PairComparisonInstructionsPageModuleNgFactory\", name: \"PairComparisonInstructionsPage\", segment: \"pair-comparison-instructions\", priority: \"low\", defaultHistory: [] }, { loadChildren: \"../pages/registration-online/registration-online.module.ngfactory#RegistrationOnlinePageModuleNgFactory\", name: \"RegistrationOnlinePage\", segment: \"registration-online\", priority: \"high\", defaultHistory: [] }, { loadChildren: \"../pages/pair-comparison/pair-comparison.module.ngfactory#PairComparisonPageModuleNgFactory\", name: \"PairComparisonPage\", segment: \"pair-comparison\", priority: \"low\", defaultHistory: [] }, { loadChildren: \"../pages/training-instructions/training-instructions.module.ngfactory#TrainingInstructionsPageModuleNgFactory\", name: \"TrainingInstructionsPage\", segment: \"training-instructions\", priority: \"high\", defaultHistory: [] }, { loadChildren: \"../pages/registration/registration.module.ngfactory#RegistrationPageModuleNgFactory\", name: \"RegistrationPage\", segment: \"registration\", priority: \"high\", defaultHistory: [] }, { loadChildren: \"../pages/reward/reward.module.ngfactory#RewardPageModuleNgFactory\", name: \"RewardPage\", segment: \"reward\", priority: \"low\", defaultHistory: [] }, { loadChildren: \"../pages/training-instructions2/training-instructions2.module.ngfactory#TrainingInstructions2PageModuleNgFactory\", name: \"TrainingInstructions2Page\", segment: \"training-instructions2\", priority: \"low\", defaultHistory: [] }, { loadChildren: \"../pages/training/training.module.ngfactory#TrainingPageModuleNgFactory\", name: \"TrainingPage\", segment: \"training\", priority: \"high\", defaultHistory: [] }, { loadChildren: \"../pages/view-records/view-records.module.ngfactory#ViewRecordsPageModuleNgFactory\", name: \"ViewRecordsPage\", segment: \"view-records\", priority: \"low\", defaultHistory: [] }] }, []), i0.Éµmpd(512, i0.Compiler, i0.Compiler, []), i0.Éµmpd(512, i58.NgModuleLoader, i58.NgModuleLoader, [i0.Compiler]), i0.Éµmpd(1024, i33.ModuleLoader, i33.provideModuleLoader, [i58.NgModuleLoader, i0.Injector]), i0.Éµmpd(1024, i0.APP_INITIALIZER, function (p0_0, p1_0, p2_0, p2_1, p3_0, p3_1, p3_2, p3_3, p3_4, p4_0, p4_1, p4_2, p4_3) { return [i14.Éµh(p0_0), i59.registerModeConfigs(p1_0), i23.setupProvideEvents(p2_0, p2_1), i37.setupTapClick(p3_0, p3_1, p3_2, p3_3, p3_4), i33.setupPreloading(p4_0, p4_1, p4_2, p4_3)]; }, [[2, i0.NgProbeToken], i21.Config, i26.Platform, i28.DomController, i21.Config, i26.Platform, i28.DomController, i20.App, i38.GestureController, i21.Config, i31.DeepLinkConfigToken, i33.ModuleLoader, i0.NgZone]), i0.Éµmpd(512, i0.ApplicationInitStatus, i0.ApplicationInitStatus, [[2, i0.APP_INITIALIZER]]), i0.Éµmpd(131584, i0.ApplicationRef, i0.ApplicationRef, [i0.NgZone, i0.ÉµConsole, i0.Injector, i0.ErrorHandler, i0.ComponentFactoryResolver, i0.ApplicationInitStatus]), i0.Éµmpd(512, i0.ApplicationModule, i0.ApplicationModule, [i0.ApplicationRef]), i0.Éµmpd(512, i14.BrowserModule, i14.BrowserModule, [[3, i14.BrowserModule]]), i0.Éµmpd(512, i16.HttpClientXsrfModule, i16.HttpClientXsrfModule, []), i0.Éµmpd(512, i16.HttpClientModule, i16.HttpClientModule, []), i0.Éµmpd(512, i18.TranslateModule, i18.TranslateModule, []), i0.Éµmpd(512, i17.Éµba, i17.Éµba, []), i0.Éµmpd(512, i17.FormsModule, i17.FormsModule, []), i0.Éµmpd(512, i17.ReactiveFormsModule, i17.ReactiveFormsModule, []), i0.Éµmpd(512, i30.IonicModule, i30.IonicModule, []), i0.Éµmpd(512, i60.IonicStorageModule, i60.IonicStorageModule, []), i0.Éµmpd(512, i1.AppModule, i1.AppModule, []), i0.Éµmpd(256, i16.Éµe, \"XSRF-TOKEN\", []), i0.Éµmpd(256, i16.Éµf, \"X-XSRF-TOKEN\", []), i0.Éµmpd(256, i18.USE_STORE, undefined, []), i0.Éµmpd(256, i18.USE_DEFAULT_LANG, undefined, []), i0.Éµmpd(256, i2.AppRootToken, i61.MyApp, []), i0.Éµmpd(256, i13.APP_BASE_HREF, \"/\", []), i0.Éµmpd(256, i41.StorageConfigToken, { name: \"5c42aff5\", driverOrder: [\"sqlite\", \"indexeddb\", \"websql\"] }, [])]); });\r\nexport { AppModuleNgFactory as AppModuleNgFactory };\r\n//# sourceMappingURL=app.module.ngfactory.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ngfactory.js.pre-build-optimizer.js","export class Participant {\r\n\r\n  code: string;\r\n  workerId: string;\r\n  assignmentId: string;\r\n  hitId: string;\r\n  gender: string;\r\n  age: number;\r\n  ageGroup: string;\r\n  dob: Date;\r\n  grade: number;\r\n  playedBefore: boolean = false;\r\n  languageProficiency: number;\r\n  isMturk: boolean = false;\r\n  isSandbox: boolean = false;\r\n\r\n  constructor(code: string) {\r\n    this.code = code;\r\n  }\r\n\r\n  public equals(obj: Participant): boolean {\r\n    return this.code === obj.code;\r\n  }\r\n\r\n}  \n\n\n// WEBPACK FOOTER //\n// ./src/models/participant.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { Injectable, EventEmitter } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { Utils } from '../utils/utils';\r\nimport { Participant } from '../../models/participant';\r\nimport { TESTS_ORDER, CONDITIONS, CONDITIONS_ACTIVE_ONLY, ONLINE_DEFAULT_CONDITION, CONDITIONS_EXTENDED } from './constants';\r\nimport { AppInfo } from './app-info';\r\nimport { Api } from '../api/api';\r\nimport { Pro } from '@ionic/pro';\r\nvar Stimuli = (function () {\r\n    function Stimuli(utils, platform, api) {\r\n        this.utils = utils;\r\n        this.platform = platform;\r\n        this.api = api;\r\n        this.appInfo = AppInfo;\r\n        this.langChangedEvent = new EventEmitter();\r\n        this.lang = \"en\";\r\n        // onlineVersion\r\n        this.onlineVersion = false;\r\n        this.currentTestIndex = -1;\r\n        this.runInBrowser = false;\r\n        this.conditionCounterOverride = null;\r\n        this.questionsCheck = [];\r\n        this.questionsCheckCounter = 0;\r\n        //console.log('Hello Stimuli Provider');\r\n        this.participant = new Participant(\"\");\r\n        this.runInBrowser = this.platform.is('core') || this.platform.is('mobileweb');\r\n        if (localStorage.getItem('lang') != null && localStorage.getItem('lang') != \"\") {\r\n            this.lang = localStorage.getItem('lang');\r\n        }\r\n    }\r\n    Stimuli.prototype.initialize = function () {\r\n        this.initialTimestamp = Date.now();\r\n        this.participant = new Participant(\"\");\r\n        this.currentTestIndex = -1;\r\n    };\r\n    Stimuli.prototype.setCondition = function (nTraining, func, trainingType, testingOrder) {\r\n        var condition = {\r\n            \"trainingTasks\": nTraining ? nTraining : ONLINE_DEFAULT_CONDITION.trainingTasks,\r\n            \"func\": func ? func : ONLINE_DEFAULT_CONDITION.func,\r\n            \"training\": trainingType ? trainingType : ONLINE_DEFAULT_CONDITION.training,\r\n            \"testingOrder\": testingOrder ? testingOrder : ONLINE_DEFAULT_CONDITION.testingOrder\r\n        };\r\n        this.condition = condition;\r\n    };\r\n    Stimuli.prototype.getConditionFromServer = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var res, id, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this.api.get('conditions/random').toPromise()];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        id = res ? res['conditionId'] : 0;\r\n                        console.log('Got condition id from server:', id);\r\n                        this.condition = CONDITIONS_EXTENDED[id % CONDITIONS_EXTENDED.length];\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        e_1 = _a.sent();\r\n                        console.log('ERROR in getting condition from server:', e_1);\r\n                        Pro.monitoring.log('ERROR getting condition from server: ' + e_1, { level: 'error' });\r\n                        this.condition = CONDITIONS_EXTENDED[0];\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Stimuli.prototype.setConditionById = function (id) {\r\n        this.condition = CONDITIONS_EXTENDED[id % CONDITIONS_EXTENDED.length];\r\n    };\r\n    Stimuli.prototype.initializeConditions = function (isActiveOnly, hideReward) {\r\n        if (isActiveOnly === void 0) { isActiveOnly = false; }\r\n        if (hideReward === void 0) { hideReward = false; }\r\n        this.hideReward = hideReward;\r\n        this.activeOnlyVersion = isActiveOnly;\r\n        this.pickCondition();\r\n        this.pickFeaturesOrder();\r\n    };\r\n    Stimuli.prototype.pickCondition = function () {\r\n        var condition;\r\n        if (this.condition != null) {\r\n            condition = this.condition;\r\n            console.log(\"[DEBUG] Using condition override\", condition);\r\n        }\r\n        else {\r\n            var counter = 0;\r\n            if (this.conditionCounterOverride != null) {\r\n                //console.log(\"conditionCounterOverride\", this.conditionCounterOverride);\r\n                counter = this.conditionCounterOverride;\r\n            }\r\n            else {\r\n                counter = this.utils.getCounterValue();\r\n                //TODO: move to the data saving \r\n                this.utils.incrementCounter();\r\n            }\r\n            condition = CONDITIONS[counter % CONDITIONS.length];\r\n            if (this.activeOnlyVersion) {\r\n                condition = CONDITIONS_ACTIVE_ONLY[counter % CONDITIONS_ACTIVE_ONLY.length];\r\n                this.conditionIndex = counter % CONDITIONS_ACTIVE_ONLY.length;\r\n            }\r\n            else {\r\n                this.conditionIndex = counter % CONDITIONS.length;\r\n            }\r\n        }\r\n        this.condition = condition;\r\n        this.trainingType = condition.training;\r\n        this.testTypes = TESTS_ORDER[condition.testingOrder];\r\n        this.currentTestIndex = -1;\r\n        this.criterionFunctionIndex = condition.func;\r\n        this.trainingTasksNuber = condition.trainingTasks;\r\n        console.log(\"[trainingType]\", this.trainingType);\r\n        console.log(\"[testTypes]\", this.testTypes);\r\n    };\r\n    Stimuli.prototype.pickFeaturesOrder = function () {\r\n        var perms = this.utils.permute([\"feature_a\", \"feature_b\", \"feature_c\"]);\r\n        this.featuresOrder = this.utils.pickRandomFromArray(perms);\r\n        //console.log(\"[DEBUG] Features Order]\", this.featuresOrder);\r\n    };\r\n    Stimuli.prototype.isPassive = function () {\r\n        return this.trainingType == \"passive\";\r\n    };\r\n    Stimuli.prototype.isActive = function () {\r\n        return this.trainingType == \"active\";\r\n    };\r\n    Stimuli.prototype.getNextTestType = function () {\r\n        this.currentTestIndex++;\r\n        return this.testTypes[this.currentTestIndex];\r\n    };\r\n    Stimuli.prototype.runOutOfTests = function () {\r\n        return this.currentTestIndex >= (this.testTypes.length - 1);\r\n    };\r\n    Stimuli.prototype.calculateCriterion = function (feature_a, feature_b, feature_c) {\r\n        if (this.criterionFunctionIndex == 1) {\r\n            return this.criterionFunction1(feature_a, feature_b, feature_c);\r\n        }\r\n        if (this.criterionFunctionIndex == 2) {\r\n            return this.criterionFunction2(feature_a, feature_b, feature_c);\r\n        }\r\n        return this.criterionFunction1(feature_a, feature_b, feature_c);\r\n    };\r\n    Stimuli.prototype.criterionFunction1 = function (feature_a, feature_b, feature_c) {\r\n        var features = {\r\n            \"feature_a\": feature_a,\r\n            \"feature_b\": feature_b,\r\n            \"feature_c\": feature_c\r\n        };\r\n        var x = features[this.featuresOrder[0]];\r\n        var y = features[this.featuresOrder[1]];\r\n        var z = features[this.featuresOrder[2]];\r\n        return (6 * x) + (3 * y) + z - 10;\r\n    };\r\n    Stimuli.prototype.criterionFunction2 = function (feature_a, feature_b, feature_c) {\r\n        var features = {\r\n            \"feature_a\": feature_a,\r\n            \"feature_b\": feature_b,\r\n            \"feature_c\": feature_c\r\n        };\r\n        var x = features[this.featuresOrder[0]];\r\n        var y = features[this.featuresOrder[1]];\r\n        var z = features[this.featuresOrder[2]];\r\n        return -x * x + 3 * y + z + 21;\r\n    };\r\n    // TODO: age groups\r\n    Stimuli.prototype.getParticipantAgeGroup = function (age) {\r\n        if (this.participant.age >= 18)\r\n            return \"18\";\r\n        return this.participant.age + \"\";\r\n    };\r\n    Stimuli.prototype.setLang = function (langCode) {\r\n        this.langChangedEvent.emit(langCode);\r\n    };\r\n    Stimuli.prototype.hi = function () {\r\n    };\r\n    Stimuli = __decorate([\r\n        Injectable(),\r\n        __metadata(\"design:paramtypes\", [Utils,\r\n            Platform,\r\n            Api])\r\n    ], Stimuli);\r\n    return Stimuli;\r\n}());\r\nexport { Stimuli };\r\n//# sourceMappingURL=stimuli.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/stimuli.ts.pre-build-optimizer.js","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { Utils } from '../utils/utils';\r\nimport { Participant } from '../../models/participant';\r\nimport { TESTS_ORDER, CONDITIONS, CONDITIONS_ACTIVE_ONLY, ONLINE_DEFAULT_CONDITION, CONDITIONS_EXTENDED } from './constants';\r\nimport { AppInfo } from './app-info';\r\nimport { Api } from '../api/api';\r\nimport { Pro } from '@ionic/pro';\r\n\r\n@Injectable()\r\nexport class Stimuli {\r\n\r\n  appInfo: AppInfo = AppInfo;\r\n\r\n  public langChangedEvent: EventEmitter<string> = new EventEmitter();\r\n  lang: string = \"en\";\r\n\r\n  activeOnlyVersion: boolean;\r\n  hideReward: boolean;\r\n\r\n  // onlineVersion\r\n  onlineVersion: boolean = false;\r\n \r\n  conditionIndex: number;\r\n  condition: { trainingTasks: number, func: number, training: string, testingOrder: number };\r\n  criterionFunctionIndex: number;\r\n  trainingTasksNuber: number;\r\n\r\n  initialTimestamp: number;\r\n  participant: Participant;\r\n  featuresOrder: string[];\r\n  trainingType: string;\r\n  testTypes: string[];\r\n  currentTestIndex: number = -1;\r\n  runInBrowser: boolean = false;\r\n  conditionCounterOverride: number = null;\r\n  questionsCheck: any[] = [];\r\n  questionsCheckCounter: number = 0;\r\n\r\n  constructor(\r\n    private utils: Utils, \r\n    private platform: Platform,\r\n    private api: Api\r\n    ) {\r\n\r\n    //console.log('Hello Stimuli Provider');\r\n    this.participant = new Participant(\"\");\r\n    this.runInBrowser = this.platform.is('core') || this.platform.is('mobileweb');\r\n\r\n    if (localStorage.getItem('lang') != null && localStorage.getItem('lang') != \"\") {\r\n      this.lang = localStorage.getItem('lang')\r\n    }\r\n  }\r\n\r\n  initialize() {\r\n    this.initialTimestamp = Date.now();\r\n    this.participant = new Participant(\"\");\r\n    this.currentTestIndex = -1;\r\n  }\r\n\r\n  public setCondition(nTraining: number, func: number, trainingType: string, testingOrder: number) {\r\n    const condition = { \r\n      \"trainingTasks\": nTraining ? nTraining : ONLINE_DEFAULT_CONDITION.trainingTasks, \r\n      \"func\": func ? func : ONLINE_DEFAULT_CONDITION.func, \r\n      \"training\": trainingType ? trainingType : ONLINE_DEFAULT_CONDITION.training, \r\n      \"testingOrder\": testingOrder ? testingOrder : ONLINE_DEFAULT_CONDITION.testingOrder \r\n    }\r\n    this.condition = condition;\r\n  }\r\n\r\n  async getConditionFromServer() {\r\n    try {\r\n      const res = await this.api.get('conditions/random').toPromise();\r\n      const id: number = res ? res['conditionId'] : 0;\r\n      console.log('Got condition id from server:', id);\r\n      this.condition = CONDITIONS_EXTENDED[id % CONDITIONS_EXTENDED.length];\r\n    }\r\n    catch(e) {\r\n      console.log('ERROR in getting condition from server:', e);\r\n      Pro.monitoring.log('ERROR getting condition from server: ' + e, { level: 'error' });\r\n      this.condition = CONDITIONS_EXTENDED[0];\r\n    }\r\n  }\r\n\r\n  public setConditionById(id: number) {\r\n    this.condition = CONDITIONS_EXTENDED[id % CONDITIONS_EXTENDED.length];\r\n  }\r\n\r\n  initializeConditions(isActiveOnly: boolean = false, hideReward: boolean = false) {\r\n    this.hideReward = hideReward;\r\n    this.activeOnlyVersion = isActiveOnly;\r\n    this.pickCondition();\r\n    this.pickFeaturesOrder();\r\n  }\r\n\r\n  pickCondition() {\r\n\r\n    let condition: { trainingTasks: number, func: number, training: string, testingOrder: number };\r\n\r\n    if (this.condition != null) {\r\n      condition = this.condition;\r\n      console.log(\"[DEBUG] Using condition override\", condition);\r\n    }\r\n\r\n    else {\r\n\r\n      let counter = 0;\r\n\r\n      if (this.conditionCounterOverride != null) {\r\n        //console.log(\"conditionCounterOverride\", this.conditionCounterOverride);\r\n        counter = this.conditionCounterOverride;\r\n      }\r\n      else {\r\n        counter = this.utils.getCounterValue();\r\n        //TODO: move to the data saving \r\n        this.utils.incrementCounter();\r\n      }\r\n\r\n      condition = CONDITIONS[counter % CONDITIONS.length];\r\n\r\n      if (this.activeOnlyVersion) {\r\n        condition = CONDITIONS_ACTIVE_ONLY[counter % CONDITIONS_ACTIVE_ONLY.length];\r\n        this.conditionIndex = counter % CONDITIONS_ACTIVE_ONLY.length;\r\n      }\r\n      else {\r\n        this.conditionIndex = counter % CONDITIONS.length;\r\n      }\r\n\r\n    }\r\n\r\n    this.condition = condition;\r\n    this.trainingType = condition.training;\r\n    this.testTypes = TESTS_ORDER[condition.testingOrder];\r\n    this.currentTestIndex = -1;\r\n\r\n    this.criterionFunctionIndex = condition.func;\r\n    this.trainingTasksNuber = condition.trainingTasks;\r\n\r\n    console.log(\"[trainingType]\", this.trainingType);\r\n    console.log(\"[testTypes]\", this.testTypes);\r\n  }\r\n\r\n  pickFeaturesOrder() {\r\n    let perms = this.utils.permute([\"feature_a\", \"feature_b\", \"feature_c\"]);\r\n    this.featuresOrder = this.utils.pickRandomFromArray(perms);\r\n    //console.log(\"[DEBUG] Features Order]\", this.featuresOrder);\r\n  }\r\n\r\n  isPassive() {\r\n    return this.trainingType == \"passive\";\r\n  }\r\n\r\n  isActive() {\r\n    return this.trainingType == \"active\";\r\n  }\r\n\r\n  getNextTestType() {\r\n    this.currentTestIndex++;\r\n    return this.testTypes[this.currentTestIndex];\r\n  }\r\n\r\n  runOutOfTests() {\r\n    return this.currentTestIndex >= (this.testTypes.length - 1);\r\n  }\r\n\r\n  calculateCriterion(feature_a: number, feature_b: number, feature_c: number): number {\r\n    if (this.criterionFunctionIndex == 1) {\r\n      return this.criterionFunction1(feature_a, feature_b, feature_c);\r\n    }\r\n    if (this.criterionFunctionIndex == 2) {\r\n      return this.criterionFunction2(feature_a, feature_b, feature_c);\r\n    }\r\n\r\n    return this.criterionFunction1(feature_a, feature_b, feature_c);\r\n  }\r\n\r\n  criterionFunction1(feature_a: number, feature_b: number, feature_c: number): number {\r\n    const features = {\r\n      \"feature_a\": feature_a,\r\n      \"feature_b\": feature_b,\r\n      \"feature_c\": feature_c\r\n    };\r\n    const x = features[this.featuresOrder[0]];\r\n    const y = features[this.featuresOrder[1]];\r\n    const z = features[this.featuresOrder[2]];\r\n    return (6 * x) + (3 * y) + z - 10;\r\n  }\r\n\r\n  criterionFunction2(feature_a: number, feature_b: number, feature_c: number): number {\r\n    const features = {\r\n      \"feature_a\": feature_a,\r\n      \"feature_b\": feature_b,\r\n      \"feature_c\": feature_c\r\n    };\r\n    const x = features[this.featuresOrder[0]];\r\n    const y = features[this.featuresOrder[1]];\r\n    const z = features[this.featuresOrder[2]];\r\n    return -x*x + 3*y + z + 21;\r\n  }\r\n\r\n  // TODO: age groups\r\n  getParticipantAgeGroup(age: number): string {\r\n    if (this.participant.age >= 18) return \"18\";\r\n    return this.participant.age + \"\";\r\n  }\r\n\r\n\r\n  setLang(langCode: string) {\r\n    this.langChangedEvent.emit(langCode);\r\n  }\r\n\r\n  hi() {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/stimuli.ts","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\n\r\n/*\r\n  Generated class for the UtilsProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class Utils {\r\n\r\n  constructor() {\r\n    //console.log('Hello Utils Provider');\r\n  }\r\n\r\n  getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n\r\n  shuffleArray(a) {\r\n    for (let i = a.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [a[i], a[j]] = [a[j], a[i]];\r\n    }\r\n  }\r\n\r\n  pickRandomFromArray(items) {\r\n    return items[Math.floor(Math.random()*items.length)];\r\n  }\r\n\r\n  range(start, end) {\r\n    return Array.from({length: (end - start)}, (v, k) => k + start);\r\n  }\r\n\r\n  combine(alphabet, length, curstr) {\r\n    if (curstr.length == length) return [curstr];\r\n    var ret = [];\r\n    for (var i = 0; i < alphabet.length; i++) {\r\n      ret.push.apply(ret, this.combine(alphabet, length, curstr + alphabet[i]));\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  permute(permutation) {\r\n    var length = permutation.length,\r\n        result = [permutation.slice()],\r\n        c = new Array(length).fill(0),\r\n        i = 1, k, p;\r\n  \r\n    while (i < length) {\r\n      if (c[i] < i) {\r\n        k = i % 2 && c[i];\r\n        p = permutation[i];\r\n        permutation[i] = permutation[k];\r\n        permutation[k] = p;\r\n        ++c[i];\r\n        i = 1;\r\n        result.push(permutation.slice());\r\n      } else {\r\n        c[i] = 0;\r\n        ++i;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n\r\n\r\n  /* Counters */\r\n  getCounterValue(counterIndex: number = 1) {\r\n    let counterName = \"isrc-counter-\" + counterIndex;\r\n    if (localStorage.getItem(counterName) === null) {\r\n      return 0;\r\n    }\r\n    return parseInt(localStorage.getItem(counterName));\r\n  }\r\n\r\n  incrementCounter(counterIndex: number = 1) {\r\n    let counterName = \"isrc-counter-\" + counterIndex;\r\n    let count: number = 1;\r\n    if (localStorage.getItem(counterName) != null) {\r\n      count = parseInt(localStorage.getItem(counterName)) + 1;\r\n    }\r\n    localStorage.setItem(counterName, count.toString());  \r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/utils/utils.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\n/*\r\n  Generated class for the UtilsProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\nvar Utils = (function () {\r\n    function Utils() {\r\n        //console.log('Hello Utils Provider');\r\n    }\r\n    Utils.prototype.getRandomInt = function (min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    };\r\n    Utils.prototype.shuffleArray = function (a) {\r\n        for (var i = a.length - 1; i > 0; i--) {\r\n            var j = Math.floor(Math.random() * (i + 1));\r\n            _a = [a[j], a[i]], a[i] = _a[0], a[j] = _a[1];\r\n        }\r\n        var _a;\r\n    };\r\n    Utils.prototype.pickRandomFromArray = function (items) {\r\n        return items[Math.floor(Math.random() * items.length)];\r\n    };\r\n    Utils.prototype.range = function (start, end) {\r\n        return Array.from({ length: (end - start) }, function (v, k) { return k + start; });\r\n    };\r\n    Utils.prototype.combine = function (alphabet, length, curstr) {\r\n        if (curstr.length == length)\r\n            return [curstr];\r\n        var ret = [];\r\n        for (var i = 0; i < alphabet.length; i++) {\r\n            ret.push.apply(ret, this.combine(alphabet, length, curstr + alphabet[i]));\r\n        }\r\n        return ret;\r\n    };\r\n    Utils.prototype.permute = function (permutation) {\r\n        var length = permutation.length, result = [permutation.slice()], c = new Array(length).fill(0), i = 1, k, p;\r\n        while (i < length) {\r\n            if (c[i] < i) {\r\n                k = i % 2 && c[i];\r\n                p = permutation[i];\r\n                permutation[i] = permutation[k];\r\n                permutation[k] = p;\r\n                ++c[i];\r\n                i = 1;\r\n                result.push(permutation.slice());\r\n            }\r\n            else {\r\n                c[i] = 0;\r\n                ++i;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /* Counters */\r\n    Utils.prototype.getCounterValue = function (counterIndex) {\r\n        if (counterIndex === void 0) { counterIndex = 1; }\r\n        var counterName = \"isrc-counter-\" + counterIndex;\r\n        if (localStorage.getItem(counterName) === null) {\r\n            return 0;\r\n        }\r\n        return parseInt(localStorage.getItem(counterName));\r\n    };\r\n    Utils.prototype.incrementCounter = function (counterIndex) {\r\n        if (counterIndex === void 0) { counterIndex = 1; }\r\n        var counterName = \"isrc-counter-\" + counterIndex;\r\n        var count = 1;\r\n        if (localStorage.getItem(counterName) != null) {\r\n            count = parseInt(localStorage.getItem(counterName)) + 1;\r\n        }\r\n        localStorage.setItem(counterName, count.toString());\r\n    };\r\n    Utils = __decorate([\r\n        Injectable(),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], Utils);\r\n    return Utils;\r\n}());\r\nexport { Utils };\r\n//# sourceMappingURL=utils.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/utils/utils.ts.pre-build-optimizer.js","import { Injectable } from '@angular/core';\r\nimport { Monster } from '../../models/monster';\r\nimport { TrainingCard } from '../../models/training-card';\r\nimport { Utils } from '../utils/utils';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport { NUMBERS } from '../stimuli/constants';\r\n\r\n@Injectable()\r\nexport class TrainingProvider {\r\n\r\n  cards: TrainingCard[];\r\n  revealedCards: TrainingCard[];\r\n  revealedCardsCounter: number;\r\n\r\n  constructor(private utils: Utils, private stimuli: Stimuli) {\r\n    //console.log('Hello TrainingMonsters Provider');\r\n  }\r\n\r\n  initialize() {\r\n    this.cards = [];\r\n    this.revealedCards = [];\r\n    this.revealedCardsCounter = 0; //TODO: now redundant\r\n    this.generateCards();\r\n  }\r\n\r\n  generateCards() {\r\n    let genes = this.utils.combine([2, 3, 4], 3, \"\");\r\n    let ids = this.utils.range(1, genes.length + 1)\r\n    this.utils.shuffleArray(genes);\r\n    this.utils.shuffleArray(ids);\r\n\r\n    let i = 0;\r\n    for (let gene of genes) {\r\n\r\n      let monsterId = \"monster\" + (ids[i]);\r\n\r\n      let feature_a = parseInt(gene.charAt(0));\r\n      let feature_b = parseInt(gene.charAt(1));\r\n      let feature_c = parseInt(gene.charAt(2));\r\n\r\n      let criterion = this.stimuli.calculateCriterion(\r\n        feature_a,\r\n        feature_b,\r\n        feature_c\r\n      );\r\n\r\n      let monster = new Monster(\r\n        monsterId, \r\n        feature_a, \r\n        feature_b, \r\n        feature_c,\r\n        criterion\r\n      );\r\n      this.cards.push(new TrainingCard(monster));\r\n      i++;\r\n    }\r\n  }\r\n\r\n  getAllCards() {\r\n    return this.cards;\r\n  }\r\n\r\n  addCard(card: TrainingCard) {\r\n    this.cards.push(card);\r\n  }\r\n\r\n  deleteCard(card: TrainingCard) {\r\n    this.cards.splice(this.cards.indexOf(card), 1);\r\n  }\r\n\r\n  updateCard(card: TrainingCard) {\r\n    const idx = this.cards.indexOf(card);\r\n    this.cards[idx] = card;\r\n    if (card.hasBeenRevealed()) {\r\n      this.revealedCards.push(card);\r\n      this.revealedCardsCounter++;\r\n    }\r\n  }\r\n\r\n  getRevealedCardsCount() {\r\n    return this.revealedCardsCounter;\r\n  }\r\n\r\n  runOutOfTasks() {\r\n    return this.revealedCardsCounter >= this.stimuli.trainingTasksNuber;\r\n  }\r\n\r\n  getRevealedCards() {\r\n    let revealedCards: TrainingCard[] = [];\r\n    for (let card of this.cards) {\r\n      if (card.hasBeenRevealed()) {\r\n        revealedCards.push(card);\r\n      }\r\n    }\r\n    return revealedCards;\r\n  }\r\n\r\n  getUnrevealedCards() {\r\n    let unrevealedCards: TrainingCard[] = [];\r\n    for (let card of this.cards) {\r\n      if (!card.hasBeenRevealed()) {\r\n        unrevealedCards.push(card);\r\n      }\r\n    }\r\n    return unrevealedCards;\r\n  }\r\n\r\n  getRevealedMonsters() {\r\n    let revealedMonsters: Monster[] = [];\r\n    for (let card of this.cards) {\r\n      if (card.hasBeenRevealed()) {\r\n        revealedMonsters.push(card.monster);\r\n      }\r\n    }\r\n    return revealedMonsters;\r\n  }\r\n\r\n  getUnrevealedMonsters() {\r\n    let unrevealedMonsters: Monster[] = [];\r\n    for (let card of this.cards) {\r\n      if (!card.hasBeenRevealed()) {\r\n        unrevealedMonsters.push(card.monster);\r\n      }\r\n    }\r\n    return unrevealedMonsters;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/training/training.ts","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n/**\r\n * Api is a generic REST Api handler. Set your API url first.\r\n */\r\n@Injectable()\r\nexport class Api {\r\n\r\n  //url: string = 'https://localhost:5001/api'; // TODO: change in production!!!\r\n  url: string = 'https://mtt-api.isearchlab.org/api';\r\n\r\n  constructor(public http: HttpClient) {\r\n  }\r\n\r\n  get(endpoint: string, params?: any, reqOpts?: any) {\r\n    if (!reqOpts) {\r\n      reqOpts = {\r\n        params: new HttpParams()\r\n      };\r\n    }\r\n\r\n    // Support easy query params for GET requests\r\n    if (params) {\r\n      reqOpts.params = new HttpParams();\r\n      for (let k in params) {\r\n        reqOpts.params.set(k, params[k]);\r\n      }\r\n    }\r\n\r\n    return this.http.get(this.url + '/' + endpoint, reqOpts);\r\n  }\r\n\r\n  post(endpoint: string, body: any, reqOpts?: any) {\r\n    return this.http.post(this.url + '/' + endpoint, body, reqOpts);\r\n  }\r\n\r\n  put(endpoint: string, body: any, reqOpts?: any) {\r\n    return this.http.put(this.url + '/' + endpoint, body, reqOpts);\r\n  }\r\n\r\n  delete(endpoint: string, reqOpts?: any) {\r\n    return this.http.delete(this.url + '/' + endpoint, reqOpts);\r\n  }\r\n\r\n  patch(endpoint: string, body: any, reqOpts?: any) {\r\n    return this.http.put(this.url + '/' + endpoint, body, reqOpts);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/api/api.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { File } from '@ionic-native/file';\r\nimport { Platform, ToastController } from 'ionic-angular';\r\nimport { Device } from '@ionic-native/device';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport { Api } from '../api/api';\r\nimport { TrainingProvider } from '../training/training';\r\nimport { PairComparisonProvider } from '../pair-comparison/pair-comparison';\r\nimport { OutputEstimationProvider } from '../output-estimation/output-estimation';\r\nimport { RankingTaskProvider } from '../ranking-task/ranking-task';\r\nimport { AppInfo } from '../stimuli/app-info';\r\nimport shortid from 'shortid';\r\nimport { Pro } from '@ionic/pro';\r\nvar Data = (function () {\r\n    function Data(storage, filesystem, toastCtrl, api, platform, device, stimuli, training, pairComparison, outputEstimation, rankingTask) {\r\n        this.storage = storage;\r\n        this.filesystem = filesystem;\r\n        this.toastCtrl = toastCtrl;\r\n        this.api = api;\r\n        this.platform = platform;\r\n        this.device = device;\r\n        this.stimuli = stimuli;\r\n        this.training = training;\r\n        this.pairComparison = pairComparison;\r\n        this.outputEstimation = outputEstimation;\r\n        this.rankingTask = rankingTask;\r\n        this.serverURI = \"\";\r\n        //console.log('Hello Data Provider');\r\n    }\r\n    Data.prototype.initialize = function () {\r\n        this.updateRecordsNumber();\r\n    };\r\n    Data.prototype.serializeStimuliData = function () {\r\n        var data = new Map();\r\n        var i = 0;\r\n        // save conditions data\r\n        data.set(\"condition\", this.stimuli.condition);\r\n        data.set(\"condition_index\", this.stimuli.conditionIndex);\r\n        data.set(\"condition_features_weigth_6\", this.stimuli.featuresOrder[0]);\r\n        data.set(\"condition_features_weigth_3\", this.stimuli.featuresOrder[1]);\r\n        data.set(\"condition_features_weigth_1\", this.stimuli.featuresOrder[2]);\r\n        data.set(\"condition_training_type\", this.stimuli.trainingType);\r\n        data.set(\"condition_tests_order_1\", this.stimuli.testTypes[0]);\r\n        data.set(\"condition_tests_order_2\", this.stimuli.testTypes[1]);\r\n        // save instructions check data\r\n        data.set(\"instructions_check_attempts_counter\", this.stimuli.questionsCheckCounter);\r\n        data.set(\"instructions_check_answers\", JSON.stringify(this.stimuli.questionsCheck));\r\n        // save training data (revealed cards)\r\n        i = 1;\r\n        for (var _i = 0, _a = this.training.revealedCards; _i < _a.length; _i++) {\r\n            var card = _a[_i];\r\n            data.set(\"training_revealed_\" + i + \"_card\", card.monster != null ? card.monster.toString() : null);\r\n            i++;\r\n        }\r\n        // save training data (unrevealed cards)\r\n        i = 1;\r\n        for (var _b = 0, _c = this.training.cards; _b < _c.length; _b++) {\r\n            var card = _c[_b];\r\n            if (!card.hasBeenRevealed()) {\r\n                data.set(\"training_unrevealed_\" + i + \"_card\", card.monster != null ? card.monster.toString() : null);\r\n                i++;\r\n            }\r\n        }\r\n        // save test \"pair comparison\" data\r\n        i = 1;\r\n        for (var _d = 0, _e = this.pairComparison.questions; _d < _e.length; _d++) {\r\n            var question = _e[_d];\r\n            data.set(\"test_comparison_\" + i + \"_card_a\", question.pair.left != null ? question.pair.left.toString() : null);\r\n            data.set(\"test_comparison_\" + i + \"_card_b\", question.pair.right != null ? question.pair.right.toString() : null);\r\n            data.set(\"test_comparison_\" + i + \"_chosen_card\", question.chosenMonster != null ? question.chosenMonster.toString() : null);\r\n            data.set(\"test_comparison_\" + i + \"_correct\", question.isAnswerCorrect() ? 1 : 0);\r\n            i++;\r\n        }\r\n        // save test \"output estimation\" extrapolation data\r\n        i = 1;\r\n        for (var _f = 0, _g = this.outputEstimation.questions; _f < _g.length; _f++) {\r\n            var question = _g[_f];\r\n            if (question.type === \"extrapolation\") {\r\n                data.set(\"test_estimation_extrapolation_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n                data.set(\"test_estimation_extrapolation_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n                data.set(\"test_estimation_extrapolation_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n                i++;\r\n            }\r\n        }\r\n        // save test \"output estimation\" interpolation data\r\n        i = 1;\r\n        for (var _h = 0, _j = this.outputEstimation.questions; _h < _j.length; _h++) {\r\n            var question = _j[_h];\r\n            if (question.type === \"interpolation\") {\r\n                data.set(\"test_estimation_interpolation_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n                data.set(\"test_estimation_interpolation_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n                data.set(\"test_estimation_interpolation_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n                i++;\r\n            }\r\n        }\r\n        // save test \"output estimation\" recall data\r\n        i = 1;\r\n        for (var _k = 0, _l = this.outputEstimation.questions; _k < _l.length; _k++) {\r\n            var question = _l[_k];\r\n            if (question.type === \"recall\") {\r\n                data.set(\"test_estimation_recall_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n                data.set(\"test_estimation_recall_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n                data.set(\"test_estimation_recall_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n                i++;\r\n            }\r\n        }\r\n        // save ranking task data\r\n        i = 1;\r\n        for (var _m = 0, _o = this.rankingTask.features; _m < _o.length; _m++) {\r\n            var feature = _o[_m];\r\n            data.set(\"ranking_task_feature_\" + i, feature.id);\r\n            i++;\r\n        }\r\n        // save ranking task free text question (some hopefully working sanitization here...)\r\n        var freeText = this.rankingTask.freeText != null ? this.rankingTask.freeText.replace(/[^\\w\\s!?\\-*+\\/\\.\\(\\)]/g, ' ') : \"\";\r\n        freeText.replace(/\\r?\\n|\\r/g, ' ');\r\n        freeText = \"'\" + freeText + \"'\";\r\n        data.set(\"ranking_task_question_adults\", freeText);\r\n        // save rewards data\r\n        data.set(\"reward_test_comparison_cents\", this.pairComparison.getTotalReward());\r\n        data.set(\"reward_test_estimation_cents\", this.outputEstimation.getTotalReward());\r\n        var totalReward = this.pairComparison.getTotalReward() + this.outputEstimation.getTotalReward();\r\n        data.set(\"reward_total_cents\", totalReward);\r\n        data.set(\"reward_total_euros\", (totalReward / 100).toFixed(2));\r\n        data.set(\"reward_mturk_total_euros\", ((totalReward / 5) / 100).toFixed(2));\r\n        return this.mapToObj(data);\r\n    };\r\n    Data.prototype.save = function () {\r\n        console.log(\"[DEBUG] DB driver: \" + this.storage.driver);\r\n        // Generate unique short id\r\n        var recordId = shortid.generate();\r\n        console.log(\"[DEBUG] Saving data to DB...\", recordId);\r\n        // Create data object\r\n        var dataObject = {\r\n            \"id\": recordId,\r\n            \"participant\": this.getParticipantInfo(),\r\n            \"app\": this.getAppInfo(),\r\n            \"session\": this.getSessionInfo(),\r\n            \"data\": this.serializeStimuliData(),\r\n            \"platformInfo\": this.getPlatformInfo()\r\n        };\r\n        console.log(\"[DEBUG] Serialized data: \", dataObject);\r\n        // Save data...\r\n        if (this.stimuli.onlineVersion) {\r\n            // online\r\n            this.postDataToServer(dataObject);\r\n            // If run inside an iframe, send data as Post Message to parent window\r\n            if (window.parent) {\r\n                window.parent.postMessage({\r\n                    'state': 'end',\r\n                    'data': dataObject\r\n                }, '*');\r\n            }\r\n        }\r\n        else {\r\n            // locally\r\n            this.storage.set(recordId, dataObject);\r\n        }\r\n        return dataObject;\r\n    };\r\n    Data.prototype.getParticipantInfo = function () {\r\n        return {\r\n            \"code\": this.stimuli.participant.code,\r\n            \"workerId\": this.stimuli.participant.workerId,\r\n            \"assignmentId\": this.stimuli.participant.assignmentId,\r\n            \"hitId\": this.stimuli.participant.hitId,\r\n            \"age\": this.stimuli.participant.age,\r\n            \"ageGroup\": this.stimuli.participant.ageGroup,\r\n            \"grade\": this.stimuli.participant.grade,\r\n            \"gender\": this.stimuli.participant.gender,\r\n            \"playedBefore\": this.stimuli.participant.playedBefore,\r\n            \"languageProficiency\": this.stimuli.participant.languageProficiency\r\n        };\r\n    };\r\n    Data.prototype.getSessionInfo = function () {\r\n        var now = new Date();\r\n        var duration = Math.floor(Date.now() - this.stimuli.initialTimestamp);\r\n        return {\r\n            \"datetime\": now.toJSON(),\r\n            \"duration\": duration\r\n        };\r\n    };\r\n    Data.prototype.getAppInfo = function () {\r\n        return {\r\n            \"id\": AppInfo.id,\r\n            \"version\": AppInfo.version,\r\n            \"nameLabel\": AppInfo.nameLabel,\r\n            \"lang\": localStorage.getItem('lang')\r\n        };\r\n    };\r\n    Data.prototype.getPlatformInfo = function () {\r\n        return {\r\n            'platform': {\r\n                'userAgent': this.platform.userAgent(),\r\n                'platforms': this.platform.platforms(),\r\n                'navigatorPlatform': this.platform.navigatorPlatform(),\r\n                'height': this.platform.height(),\r\n                'width': this.platform.width()\r\n            },\r\n            'device': {\r\n                'uuid': this.device.uuid,\r\n                'model': this.device.model,\r\n                'cordovaVersion': this.device.cordova,\r\n                'version': this.device.version,\r\n                'manufacturer': this.device.manufacturer,\r\n                'serial': this.device.serial\r\n            }\r\n        };\r\n    };\r\n    Data.prototype.postDataToServer = function (dataObject) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var body, res, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.log('Participant', this.stimuli.participant);\r\n                        body = {\r\n                            workerId: this.stimuli.participant.workerId,\r\n                            assignmentId: this.stimuli.participant.assignmentId,\r\n                            hitId: this.stimuli.participant.hitId,\r\n                            status: RecordStatus.Completed,\r\n                            isMturk: this.stimuli.participant.isMturk,\r\n                            isSandbox: this.stimuli.participant.isSandbox,\r\n                            bonus: parseFloat(dataObject['data']['reward_mturk_total_euros']),\r\n                            dataString: JSON.stringify(dataObject)\r\n                        };\r\n                        console.log('Saving data to the server...', body);\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.api.post('records', body).toPromise()];\r\n                    case 2:\r\n                        res = _a.sent();\r\n                        console.log('Data saved to the server:', res);\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        // Send error to Ionic Monitoring\r\n                        Pro.monitoring.log(\"ERROR saving data to the server. \\n        Uid: \" + this.stimuli.participant.code + \". WorkerId: \" + this.stimuli.participant.workerId + \".\\n        Error: \" + e_1 + \"\\n        \", { level: 'error' });\r\n                        console.log('Error saving data to the server:', e_1);\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Data.prototype.sendStartedToServer = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var body, res, e_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        body = {\r\n                            workerId: this.stimuli.participant.workerId,\r\n                            assignmentId: this.stimuli.participant.assignmentId,\r\n                            hitId: this.stimuli.participant.hitId,\r\n                            status: RecordStatus.Started,\r\n                            isMturk: this.stimuli.participant.isMturk,\r\n                            isSandbox: this.stimuli.participant.isSandbox,\r\n                        };\r\n                        console.log('Saving data to the server...', body);\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.api.post('records', body).toPromise()];\r\n                    case 2:\r\n                        res = _a.sent();\r\n                        console.log('Data saved to the server:', res);\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_2 = _a.sent();\r\n                        // Send error to Ionic Monitoring\r\n                        Pro.monitoring.log(\"ERROR sending Start to the server. \\n        Uid: \" + this.stimuli.participant.code + \". WorkerId: \" + this.stimuli.participant.workerId + \".\\n        Error: \" + e_2 + \"\\n        \", { level: 'error' });\r\n                        console.log('ERROR sending Start to the server:', e_2);\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Data.prototype.sendFailureToServer = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var body, res, e_3;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        body = {\r\n                            workerId: this.stimuli.participant.workerId,\r\n                            assignmentId: this.stimuli.participant.assignmentId,\r\n                            hitId: this.stimuli.participant.hitId,\r\n                            status: RecordStatus.Failed\r\n                        };\r\n                        console.log('Saving data to the server...', body);\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.api.post('records', body).toPromise()];\r\n                    case 2:\r\n                        res = _a.sent();\r\n                        console.log('Data saved to the server:', res);\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_3 = _a.sent();\r\n                        // Send error to Ionic Monitoring\r\n                        Pro.monitoring.log(\"ERROR sending Failure to the server. \\n        Uid: \" + this.stimuli.participant.code + \". WorkerId: \" + this.stimuli.participant.workerId + \".\\n        Error: \" + e_3 + \"\\n        \", { level: 'error' });\r\n                        console.log('ERROR sending Failure to the server:', e_3);\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Data.prototype.loadAllRecords = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var records;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.log(\"[debug] Loading all records...\");\r\n                        return [4 /*yield*/, this.storageGetAll()];\r\n                    case 1:\r\n                        records = _a.sent();\r\n                        // order records by date\r\n                        records.sort(function (a, b) { return new Date(b[\"session\"][\"datetime\"]).getTime()\r\n                            - new Date(a[\"session\"][\"datetime\"]).getTime(); });\r\n                        this.allRecords = records;\r\n                        console.log(\"All records\", this.allRecords);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Data.prototype.exportRecordsAsJSON = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var records, fileContent;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.log(\"[debug] Exporting all records as JSON...\");\r\n                        return [4 /*yield*/, this.storageGetAll()];\r\n                    case 1:\r\n                        records = _a.sent();\r\n                        // order records by date\r\n                        records.sort(function (a, b) { return new Date(b[\"session\"][\"datetime\"]).getTime()\r\n                            - new Date(a[\"session\"][\"datetime\"]).getTime(); });\r\n                        // debug records\r\n                        console.log(\"All records\", records);\r\n                        fileContent = JSON.stringify(records);\r\n                        this.saveOutputFile(fileContent);\r\n                        // show toast\r\n                        this.toastCtrl.create({\r\n                            message: 'Saving JSON file to internal memory...',\r\n                            duration: 2000,\r\n                            position: 'top'\r\n                        }).present();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Data.prototype.updateRecordsNumber = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var records;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.storageGetAll()];\r\n                    case 1:\r\n                        records = _a.sent();\r\n                        if (records == null)\r\n                            return [2 /*return*/, 0];\r\n                        this.recordsNumber = records.length;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns a Promise with the raw records from Storage\r\n     */\r\n    Data.prototype.storageGetAll = function () {\r\n        var _this = this;\r\n        return this.storage.keys()\r\n            .then(function (keys) { return Promise.all(keys.map(function (k) { return _this.storage.get(k); })); });\r\n    };\r\n    Data.prototype.saveOutputFile = function (csvContent, fileExt) {\r\n        var _this = this;\r\n        if (fileExt === void 0) { fileExt = \"json\"; }\r\n        // build file name\r\n        var currentdate = new Date();\r\n        var day = (\"0\" + currentdate.getDate()).slice(-2);\r\n        var month = (\"0\" + (currentdate.getMonth() + 1)).slice(-2);\r\n        var filename = \"data-\" + day + month + currentdate.getFullYear() + \"-\"\r\n            + currentdate.getHours() + currentdate.getMinutes() + \".\" + fileExt;\r\n        // access file system\r\n        this.filesystem.resolveDirectoryUrl(this.filesystem.externalDataDirectory)\r\n            .then(function (directory) {\r\n            // get or create results file\r\n            _this.filesystem.getFile(directory, filename, { create: true, exclusive: false })\r\n                .then(function (file) {\r\n                console.log(\"fileEntry is file?\" + file.isFile.toString());\r\n                _this.writeFile(file, csvContent);\r\n            })\r\n                .catch(function (err) {\r\n                console.log(\"Resolve file error: \" + err);\r\n            });\r\n        })\r\n            .catch(function (err) {\r\n            console.log(\"Resolve filesystem error: \" + err);\r\n        });\r\n    };\r\n    Data.prototype.writeFile = function (fileEntry, data) {\r\n        fileEntry.createWriter(function (writer) {\r\n            writer.onwriteend = function (evt) {\r\n                console.log(\"File successfully created!\");\r\n            };\r\n            writer.write(data);\r\n        }, function (evt, where) {\r\n            console.log(\"Error writing file \" + where + \" :\");\r\n            console.log(JSON.stringify(evt));\r\n        });\r\n    };\r\n    Data.prototype.mapToObj = function (strMap) {\r\n        var obj = {};\r\n        strMap.forEach(function (value, key, map) {\r\n            obj[key] = value;\r\n        });\r\n        return obj;\r\n    };\r\n    Data = __decorate([\r\n        Injectable(),\r\n        __metadata(\"design:paramtypes\", [Storage,\r\n            File,\r\n            ToastController,\r\n            Api,\r\n            Platform,\r\n            Device,\r\n            Stimuli,\r\n            TrainingProvider,\r\n            PairComparisonProvider,\r\n            OutputEstimationProvider,\r\n            RankingTaskProvider])\r\n    ], Data);\r\n    return Data;\r\n}());\r\nexport { Data };\r\nvar RecordStatus;\r\n(function (RecordStatus) {\r\n    RecordStatus[RecordStatus[\"Assigned\"] = 0] = \"Assigned\";\r\n    RecordStatus[RecordStatus[\"Started\"] = 1] = \"Started\";\r\n    RecordStatus[RecordStatus[\"Failed\"] = 2] = \"Failed\";\r\n    RecordStatus[RecordStatus[\"Completed\"] = 3] = \"Completed\";\r\n    RecordStatus[RecordStatus[\"Submitted\"] = 4] = \"Submitted\";\r\n    RecordStatus[RecordStatus[\"Approved\"] = 5] = \"Approved\";\r\n    RecordStatus[RecordStatus[\"Rejected\"] = 6] = \"Rejected\";\r\n})(RecordStatus || (RecordStatus = {}));\r\n//# sourceMappingURL=data.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/data/data.ts.pre-build-optimizer.js","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { File } from '@ionic-native/file';\r\nimport { Platform, ToastController } from 'ionic-angular';\r\nimport { Device } from '@ionic-native/device';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport { Api } from '../api/api';\r\nimport { TrainingProvider } from '../training/training';\r\nimport { PairComparisonProvider } from '../pair-comparison/pair-comparison';\r\nimport { OutputEstimationProvider } from '../output-estimation/output-estimation';\r\nimport { RankingTaskProvider } from '../ranking-task/ranking-task';\r\nimport { AppInfo } from '../stimuli/app-info';\r\nimport shortid from 'shortid';\r\nimport { Pro } from '@ionic/pro';\r\n\r\n\r\n@Injectable()\r\nexport class Data {\r\n\r\n  serverURI: string = \"\";\r\n  recordsNumber: number;\r\n  allRecords: any;\r\n\r\n  constructor(\r\n    private storage: Storage,\r\n    private filesystem: File,\r\n    private toastCtrl: ToastController,\r\n    private api: Api,\r\n    private platform: Platform,\r\n    private device: Device,\r\n    private stimuli: Stimuli,\r\n    private training: TrainingProvider,\r\n    private pairComparison: PairComparisonProvider,\r\n    private outputEstimation: OutputEstimationProvider,\r\n    private rankingTask: RankingTaskProvider\r\n  ) {\r\n    //console.log('Hello Data Provider');\r\n  }\r\n\r\n  initialize() {\r\n    this.updateRecordsNumber();\r\n  }\r\n\r\n  serializeStimuliData() {\r\n    let data = new Map();\r\n    let i = 0;\r\n\r\n    // save conditions data\r\n    data.set(\"condition\", this.stimuli.condition);\r\n    data.set(\"condition_index\", this.stimuli.conditionIndex);\r\n    data.set(\"condition_features_weigth_6\", this.stimuli.featuresOrder[0]);\r\n    data.set(\"condition_features_weigth_3\", this.stimuli.featuresOrder[1]);\r\n    data.set(\"condition_features_weigth_1\", this.stimuli.featuresOrder[2]);\r\n    data.set(\"condition_training_type\", this.stimuli.trainingType);\r\n    data.set(\"condition_tests_order_1\", this.stimuli.testTypes[0]);\r\n    data.set(\"condition_tests_order_2\", this.stimuli.testTypes[1]);\r\n\r\n    // save instructions check data\r\n    data.set(\"instructions_check_attempts_counter\", this.stimuli.questionsCheckCounter);\r\n    data.set(\"instructions_check_answers\", JSON.stringify(this.stimuli.questionsCheck));\r\n\r\n    // save training data (revealed cards)\r\n    i = 1;\r\n    for (let card of this.training.revealedCards) {\r\n      data.set(\"training_revealed_\" + i + \"_card\", card.monster != null ? card.monster.toString() : null);\r\n      i++;\r\n    }\r\n\r\n    // save training data (unrevealed cards)\r\n    i = 1;\r\n    for (let card of this.training.cards) {\r\n      if (!card.hasBeenRevealed()) {\r\n        data.set(\"training_unrevealed_\" + i + \"_card\", card.monster != null ? card.monster.toString() : null);\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // save test \"pair comparison\" data\r\n    i = 1;\r\n    for (let question of this.pairComparison.questions) {\r\n      data.set(\"test_comparison_\" + i + \"_card_a\", question.pair.left != null ? question.pair.left.toString() : null);\r\n      data.set(\"test_comparison_\" + i + \"_card_b\", question.pair.right != null ? question.pair.right.toString() : null);\r\n      data.set(\"test_comparison_\" + i + \"_chosen_card\", question.chosenMonster != null ? question.chosenMonster.toString() : null);\r\n      data.set(\"test_comparison_\" + i + \"_correct\", question.isAnswerCorrect() ? 1 : 0);\r\n      i++;\r\n    }\r\n\r\n    // save test \"output estimation\" extrapolation data\r\n    i = 1;\r\n    for (let question of this.outputEstimation.questions) {\r\n      if (question.type === \"extrapolation\") {\r\n        data.set(\"test_estimation_extrapolation_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n        data.set(\"test_estimation_extrapolation_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n        data.set(\"test_estimation_extrapolation_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // save test \"output estimation\" interpolation data\r\n    i = 1;\r\n    for (let question of this.outputEstimation.questions) {\r\n      if (question.type === \"interpolation\") {\r\n        data.set(\"test_estimation_interpolation_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n        data.set(\"test_estimation_interpolation_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n        data.set(\"test_estimation_interpolation_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // save test \"output estimation\" recall data\r\n    i = 1;\r\n    for (let question of this.outputEstimation.questions) {\r\n      if (question.type === \"recall\") {\r\n        data.set(\"test_estimation_recall_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n        data.set(\"test_estimation_recall_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n        data.set(\"test_estimation_recall_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // save ranking task data\r\n    i = 1;\r\n    for (let feature of this.rankingTask.features) {\r\n      data.set(\"ranking_task_feature_\" + i, feature.id);\r\n      i++;\r\n    }\r\n\r\n    // save ranking task free text question (some hopefully working sanitization here...)\r\n    let freeText = this.rankingTask.freeText != null ? this.rankingTask.freeText.replace(/[^\\w\\s!?\\-*+\\/\\.\\(\\)]/g, ' ') : \"\";\r\n    freeText.replace(/\\r?\\n|\\r/g, ' ');\r\n    freeText = \"'\" + freeText + \"'\";\r\n    data.set(\"ranking_task_question_adults\", freeText);\r\n\r\n    // save rewards data\r\n    data.set(\"reward_test_comparison_cents\", this.pairComparison.getTotalReward());\r\n    data.set(\"reward_test_estimation_cents\", this.outputEstimation.getTotalReward());\r\n    const totalReward = this.pairComparison.getTotalReward() + this.outputEstimation.getTotalReward();\r\n    data.set(\"reward_total_cents\", totalReward);\r\n    data.set(\"reward_total_euros\", (totalReward / 100).toFixed(2));\r\n    data.set(\"reward_mturk_total_euros\", ((totalReward / 5) / 100).toFixed(2));\r\n\r\n    return this.mapToObj(data);\r\n  }\r\n\r\n  save() {\r\n\r\n    console.log(\"[DEBUG] DB driver: \" + this.storage.driver);\r\n\r\n    // Generate unique short id\r\n    const recordId = shortid.generate();\r\n\r\n    console.log(\"[DEBUG] Saving data to DB...\", recordId);\r\n\r\n    // Create data object\r\n    let dataObject = {\r\n      \"id\": recordId,\r\n      \"participant\": this.getParticipantInfo(),\r\n      \"app\": this.getAppInfo(),\r\n      \"session\": this.getSessionInfo(),\r\n      \"data\": this.serializeStimuliData(),\r\n      \"platformInfo\": this.getPlatformInfo()\r\n    }\r\n    console.log(\"[DEBUG] Serialized data: \", dataObject);\r\n\r\n    // Save data...\r\n    if (this.stimuli.onlineVersion) {\r\n\r\n      // online\r\n      this.postDataToServer(dataObject);\r\n\r\n      // If run inside an iframe, send data as Post Message to parent window\r\n      if (window.parent) {\r\n        window.parent.postMessage({\r\n          'state': 'end',\r\n          'data': dataObject\r\n        }, '*');\r\n      }\r\n\r\n    }\r\n    else {\r\n      // locally\r\n      this.storage.set(recordId, dataObject);\r\n    }\r\n\r\n    return dataObject;\r\n\r\n  }\r\n\r\n  getParticipantInfo() {\r\n    return {\r\n      \"code\": this.stimuli.participant.code,\r\n      \"workerId\": this.stimuli.participant.workerId,\r\n      \"assignmentId\": this.stimuli.participant.assignmentId,\r\n      \"hitId\": this.stimuli.participant.hitId,\r\n      \"age\": this.stimuli.participant.age,\r\n      \"ageGroup\": this.stimuli.participant.ageGroup,\r\n      \"grade\": this.stimuli.participant.grade,\r\n      \"gender\": this.stimuli.participant.gender,\r\n      \"playedBefore\": this.stimuli.participant.playedBefore,\r\n      \"languageProficiency\": this.stimuli.participant.languageProficiency\r\n    }\r\n  }\r\n\r\n  getSessionInfo() {\r\n    const now = new Date();\r\n    const duration = Math.floor(Date.now() - this.stimuli.initialTimestamp);\r\n    return {\r\n      \"datetime\": now.toJSON(),\r\n      \"duration\": duration\r\n    }\r\n  }\r\n\r\n  getAppInfo() {\r\n    return {\r\n      \"id\": AppInfo.id,\r\n      \"version\": AppInfo.version,\r\n      \"nameLabel\": AppInfo.nameLabel,\r\n      \"lang\": localStorage.getItem('lang')\r\n    }\r\n  }\r\n\r\n  getPlatformInfo() {\r\n    return {\r\n      'platform': {\r\n        'userAgent': this.platform.userAgent(),\r\n        'platforms': this.platform.platforms(),\r\n        'navigatorPlatform': this.platform.navigatorPlatform(),\r\n        'height': this.platform.height(),\r\n        'width': this.platform.width()\r\n      },\r\n      'device': {\r\n        'uuid': this.device.uuid,\r\n        'model': this.device.model,\r\n        'cordovaVersion': this.device.cordova,\r\n        'version': this.device.version,\r\n        'manufacturer': this.device.manufacturer,\r\n        'serial': this.device.serial\r\n      }\r\n    }\r\n  }\r\n\r\n  async postDataToServer(dataObject: any) {\r\n\r\n    console.log('Participant', this.stimuli.participant);\r\n\r\n    const body = {\r\n      workerId: this.stimuli.participant.workerId,\r\n      assignmentId: this.stimuli.participant.assignmentId,\r\n      hitId: this.stimuli.participant.hitId,\r\n      status: RecordStatus.Completed,\r\n      isMturk: this.stimuli.participant.isMturk,\r\n      isSandbox: this.stimuli.participant.isSandbox,\r\n      bonus: parseFloat(dataObject['data']['reward_mturk_total_euros']),\r\n      dataString: JSON.stringify(dataObject)\r\n    };\r\n\r\n    console.log('Saving data to the server...', body);\r\n    //console.log('Saving data to the server...', JSON.stringify(dataObject));\r\n\r\n    try {\r\n      const res = await this.api.post('records', body).toPromise();\r\n      console.log('Data saved to the server:', res);\r\n    }\r\n    catch (e) {\r\n\r\n      // Send error to Ionic Monitoring\r\n      Pro.monitoring.log(\r\n        `ERROR saving data to the server. \r\n        Uid: ${this.stimuli.participant.code}. WorkerId: ${this.stimuli.participant.workerId}.\r\n        Error: ${e}\r\n        `, { level: 'error' }\r\n      );\r\n\r\n      console.log('Error saving data to the server:', e);\r\n    }\r\n\r\n\r\n  }\r\n\r\n  async sendStartedToServer() {\r\n    const body = {\r\n      workerId: this.stimuli.participant.workerId,\r\n      assignmentId: this.stimuli.participant.assignmentId,\r\n      hitId: this.stimuli.participant.hitId,\r\n      status: RecordStatus.Started,\r\n      isMturk: this.stimuli.participant.isMturk,\r\n      isSandbox: this.stimuli.participant.isSandbox,\r\n    };\r\n\r\n    console.log('Saving data to the server...', body);\r\n\r\n    try {\r\n      const res = await this.api.post('records', body).toPromise();\r\n      console.log('Data saved to the server:', res);\r\n    }\r\n    catch (e) {\r\n\r\n      // Send error to Ionic Monitoring\r\n      Pro.monitoring.log(\r\n        `ERROR sending Start to the server. \r\n        Uid: ${this.stimuli.participant.code}. WorkerId: ${this.stimuli.participant.workerId}.\r\n        Error: ${e}\r\n        `, { level: 'error' }\r\n      );\r\n      \r\n      console.log('ERROR sending Start to the server:', e);\r\n    }\r\n  }\r\n\r\n  async sendFailureToServer() {\r\n    const body = {\r\n      workerId: this.stimuli.participant.workerId,\r\n      assignmentId: this.stimuli.participant.assignmentId,\r\n      hitId: this.stimuli.participant.hitId,\r\n      status: RecordStatus.Failed\r\n    };\r\n\r\n    console.log('Saving data to the server...', body);\r\n\r\n    try {\r\n      const res = await this.api.post('records', body).toPromise();\r\n      console.log('Data saved to the server:', res);\r\n    }\r\n    catch (e) {\r\n\r\n      // Send error to Ionic Monitoring\r\n      Pro.monitoring.log(\r\n        `ERROR sending Failure to the server. \r\n        Uid: ${this.stimuli.participant.code}. WorkerId: ${this.stimuli.participant.workerId}.\r\n        Error: ${e}\r\n        `, { level: 'error' }\r\n      );\r\n\r\n      console.log('ERROR sending Failure to the server:', e);\r\n    }\r\n  }\r\n\r\n  async loadAllRecords() {\r\n    console.log(\"[debug] Loading all records...\");\r\n\r\n    // get records\r\n    let records = await this.storageGetAll();\r\n\r\n    // order records by date\r\n    records.sort((a, b) => new Date(b[\"session\"][\"datetime\"]).getTime()\r\n      - new Date(a[\"session\"][\"datetime\"]).getTime());\r\n\r\n    this.allRecords = records;\r\n    console.log(\"All records\", this.allRecords);\r\n  }\r\n\r\n\r\n  async exportRecordsAsJSON() {\r\n    console.log(\"[debug] Exporting all records as JSON...\");\r\n\r\n    // get records\r\n    let records = await this.storageGetAll();\r\n\r\n    // order records by date\r\n    records.sort((a, b) => new Date(b[\"session\"][\"datetime\"]).getTime()\r\n      - new Date(a[\"session\"][\"datetime\"]).getTime());\r\n\r\n    // debug records\r\n    console.log(\"All records\", records);\r\n\r\n    // save records to JSON file\r\n    let fileContent = JSON.stringify(records);\r\n    this.saveOutputFile(fileContent);\r\n\r\n    // show toast\r\n    this.toastCtrl.create({\r\n      message: 'Saving JSON file to internal memory...',\r\n      duration: 2000,\r\n      position: 'top'\r\n    }).present();\r\n  }\r\n\r\n\r\n  async updateRecordsNumber() {\r\n    let records = await this.storageGetAll();\r\n    if (records == null) return 0;\r\n    this.recordsNumber = records.length;\r\n  }\r\n\r\n\r\n  /**\r\n   * Returns a Promise with the raw records from Storage\r\n   */\r\n  storageGetAll() {\r\n    return this.storage.keys()\r\n      .then(keys => Promise.all(keys.map(k => this.storage.get(k))));\r\n  }\r\n\r\n\r\n  saveOutputFile(csvContent, fileExt = \"json\") {\r\n    // build file name\r\n    let currentdate = new Date();\r\n    let day = (\"0\" + currentdate.getDate()).slice(-2);\r\n    let month = (\"0\" + (currentdate.getMonth() + 1)).slice(-2);\r\n    let filename = \"data-\" + day + month + currentdate.getFullYear() + \"-\"\r\n      + currentdate.getHours() + currentdate.getMinutes() + \".\" + fileExt;\r\n\r\n    // access file system\r\n    this.filesystem.resolveDirectoryUrl(this.filesystem.externalDataDirectory)\r\n      .then(directory => {\r\n        // get or create results file\r\n        this.filesystem.getFile(directory, filename, { create: true, exclusive: false })\r\n          .then(file => {\r\n            console.log(\"fileEntry is file?\" + file.isFile.toString());\r\n            this.writeFile(file, csvContent);\r\n          })\r\n          .catch(err => {\r\n            console.log(\"Resolve file error: \" + err);\r\n          });\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Resolve filesystem error: \" + err);\r\n      });\r\n  }\r\n\r\n  writeFile(fileEntry, data) {\r\n    fileEntry.createWriter(\r\n      function (writer) {\r\n        writer.onwriteend = function (evt) {\r\n          console.log(\"File successfully created!\");\r\n        };\r\n        writer.write(data);\r\n      },\r\n      function (evt, where) {\r\n        console.log(\"Error writing file \" + where + \" :\");\r\n        console.log(JSON.stringify(evt));\r\n      }\r\n    );\r\n  }\r\n\r\n  mapToObj(strMap) {\r\n    let obj = {};\r\n    strMap.forEach((value, key, map) => {\r\n      obj[key] = value;\r\n    });\r\n    return obj;\r\n  }\r\n\r\n}\r\n\r\nenum RecordStatus { Assigned, Started, Failed, Completed, Submitted, Approved, Rejected }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/data/data.ts","export class Monster {\r\n\r\n  id: string;\r\n  img: string;\r\n  feature_a: number\r\n  feature_b: number;\r\n  feature_c: number;\r\n  criterion: number;\r\n\r\n  constructor(id: string = \"default\", feature_a: number = 0, feature_b: number = 0, feature_c: number = 0, criterion: number = 0) {\r\n    this.id = id;\r\n    this.img = \"assets/img/monsters/\" + id + \".png\";\r\n    this.feature_a = feature_a;\r\n    this.feature_b = feature_b;\r\n    this.feature_c = feature_c;\r\n    this.criterion = criterion;\r\n  }\r\n\r\n  public updateId(id: string) {\r\n    this.id = id;\r\n    this.img = \"assets/img/monsters/\" + id + \".png\";\r\n  }\r\n\r\n  public equals(obj: Monster): boolean {\r\n    return this.id === obj.id;\r\n  }\r\n\r\n  public toString() {\r\n    return this.feature_a + \";\" + this.feature_b + \";\" + this.feature_c  + \";\" + this.criterion + \";\" + this.id;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/monster.ts","import { Monster } from './monster';\r\n\r\nexport class Pair {\r\n\r\n  left: Monster;\r\n  right: Monster;\r\n\r\n  constructor(leftMonster: Monster, rightMonster: Monster) {\r\n    this.left = leftMonster;\r\n    this.right = rightMonster;\r\n  }\r\n\r\n  getWinner() {\r\n    if (this.left.criterion > this.right.criterion) {\r\n      return this.left;\r\n    }\r\n    return this.right;\r\n  }\r\n\r\n  public equals(obj: Pair) : boolean { \r\n    return this.left === obj.left && this.right === obj.right;\r\n  } \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/pair.ts","import { Pair } from './pair';\r\nimport { Monster } from './monster';\r\n\r\nexport class PairComparisonQuestion {\r\n\r\n  pair: Pair;\r\n  chosenMonster: Monster;\r\n\r\n  constructor(questionPair: Pair) {\r\n    this.pair = questionPair;\r\n  }\r\n\r\n  answer(monster: Monster) {\r\n    this.chosenMonster = monster;\r\n  }\r\n\r\n  isAnswerCorrect() {\r\n    return this.pair.getWinner() == this.chosenMonster;\r\n  }\r\n\r\n  getAnswerReward() {\r\n    if (this.isAnswerCorrect()) return 20;\r\n    return 0;\r\n  }\r\n\r\n  public equals(obj: PairComparisonQuestion) : boolean { \r\n    return this.pair === obj.pair && this.chosenMonster === obj.chosenMonster;\r\n  } \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/pair-comparison-question.ts","import { Injectable } from '@angular/core';\r\nimport { Monster } from '../../models/monster';\r\nimport { Pair } from '../../models/pair';\r\nimport { PairComparisonQuestion } from '../../models/pair-comparison-question';\r\nimport { Utils } from '../utils/utils';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport 'rxjs/add/operator/map';\r\nimport { NUMBERS, PAIR_COMPARISONS } from '../stimuli/constants';\r\n\r\n/*\r\n  Generated class for the PairComparisonProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class PairComparisonProvider {\r\n\r\n  questions: PairComparisonQuestion[] = [];\r\n  questionsCounter: number = -1;\r\n\r\n  constructor(private utils: Utils, private stimuli: Stimuli) {\r\n    //console.log('Hello PairComparisonProvider Provider');\r\n  }\r\n\r\n  initialize() {\r\n    this.questions = [];\r\n    this.questionsCounter = -1;\r\n    this.generateQuestions();\r\n  }\r\n\r\n  generateQuestions() {\r\n\r\n    // generate monsters IDs\r\n    let ids = [];\r\n    let counter = NUMBERS.TRAINING_CARDS + 1;\r\n    while (ids.length < (NUMBERS.PAIR_COMPARISONS*2)) {\r\n      ids.push(\"monster\"+counter);\r\n      counter++;\r\n    }\r\n    this.utils.shuffleArray(ids);\r\n    //console.log(ids);\r\n\r\n    // generate pairs\r\n    let j=0;\r\n    for (let i=0; i < NUMBERS.PAIR_COMPARISONS; i++) {\r\n\r\n      let pairMonsters = [];\r\n\r\n      // generate monster a\r\n      const features_a = PAIR_COMPARISONS[i][0];\r\n      const criterion_a = this.stimuli.calculateCriterion(\r\n        features_a[0],\r\n        features_a[1],\r\n        features_a[2]\r\n      );\r\n      pairMonsters.push(new Monster(ids[j], features_a[0], features_a[1], features_a[2], criterion_a));\r\n      j++;\r\n\r\n      // generate monster b\r\n      let features_b = PAIR_COMPARISONS[i][1];\r\n      const criterion_b = this.stimuli.calculateCriterion(\r\n        features_b[0],\r\n        features_b[1],\r\n        features_b[2]\r\n      );\r\n      pairMonsters.push(new Monster(ids[j], features_b[0], features_b[1], features_b[2], criterion_b));\r\n      j++;\r\n\r\n      // generate pair\r\n      this.utils.shuffleArray(pairMonsters);\r\n      const pair = new Pair(pairMonsters[0], pairMonsters[1]);\r\n      const question = new PairComparisonQuestion(pair);\r\n      this.questions.push(question);\r\n    }\r\n    \r\n  }\r\n\r\n  getNextQuestion() {\r\n    this.questionsCounter++;\r\n    return this.questions[this.questionsCounter];\r\n  }\r\n\r\n  updateQuestion(question: PairComparisonQuestion) {\r\n    const idx = this.questions.indexOf(question);\r\n    this.questions[idx] = question;\r\n  }\r\n\r\n  runOutOfQuestions() {\r\n    return this.questionsCounter >= (this.questions.length - 1);\r\n  }\r\n\r\n  getTotalReward() {\r\n    let total = 0;\r\n    for (let question of this.questions) {\r\n      total = total + question.getAnswerReward();\r\n    }\r\n    return total;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/pair-comparison/pair-comparison.ts","import { Monster } from './monster';\r\n\r\nexport class OutputEstimationQuestion {\r\n\r\n  type: string;\r\n  monster: Monster;\r\n  guessedCriterion: number;\r\n\r\n  constructor(type: string, monster: Monster) {\r\n    this.type = type;\r\n    this.monster = monster;\r\n  }\r\n\r\n  isAnswerCorrect() {\r\n    return this.monster.criterion == this.guessedCriterion;\r\n  }\r\n\r\n  getAnswerDistance() {\r\n    return Math.abs(this.guessedCriterion - this.monster.criterion);\r\n  }\r\n\r\n  getAnswerReward() {\r\n    if (this.getAnswerDistance() <= 5) return 30;\r\n    if (this.getAnswerDistance() <= 10) return 20;\r\n    if (this.getAnswerDistance() <= 20) return 10;\r\n    return 0;\r\n  }\r\n\r\n  public equals(obj: OutputEstimationQuestion) : boolean { \r\n    return this.type === obj.type && this.monster === obj.monster;\r\n  } \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/output-estimation-question.ts","import { Injectable } from '@angular/core';\r\nimport { Monster } from '../../models/monster';\r\nimport { OutputEstimationQuestion } from '../../models/output-estimation-question';\r\nimport { Utils } from '../utils/utils';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport { TrainingProvider } from '../training/training';\r\nimport 'rxjs/add/operator/map';\r\nimport { NUMBERS } from '../stimuli/constants';\r\n\r\n@Injectable()\r\nexport class OutputEstimationProvider {\r\n\r\n  questions: OutputEstimationQuestion[] = [];\r\n  questionsCounter: number = -1;\r\n\r\n  constructor(private utils: Utils, private stimuli: Stimuli, private training: TrainingProvider) {\r\n    //console.log('Hello OutputEstimationProvider Provider');\r\n    //this.generateQuestions();\r\n  }\r\n\r\n  initialize() {\r\n    this.questions = [];\r\n    this.questionsCounter = -1;\r\n    this.generateQuestions();\r\n  }\r\n\r\n  generateQuestions() {\r\n\r\n    // generate monsters IDs\r\n    const firstId = NUMBERS.TRAINING_CARDS + NUMBERS.PAIR_COMPARISONS + 1;\r\n    const questionsNumber = NUMBERS.OUTPUT_ESTIMATION_EXTRAPOLATION + NUMBERS.OUTPUT_ESTIMATION_INTERPOLATION\r\n      + NUMBERS.OUTPUT_ESTIMATION_RECALL;\r\n    let ids = this.utils.range(firstId, firstId + questionsNumber);\r\n    this.utils.shuffleArray(ids);\r\n    //console.log(ids);\r\n\r\n    // generate interpolation questions\r\n    let unrevealedMonsters = this.training.getUnrevealedMonsters();\r\n    let baseIdIndex = 0;\r\n    for (let i = 0; i < NUMBERS.OUTPUT_ESTIMATION_INTERPOLATION; i++) {\r\n      unrevealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\r\n      let question = new OutputEstimationQuestion(\"interpolation\", unrevealedMonsters[i]);\r\n      this.questions.push(question);\r\n    }\r\n\r\n    // generate recall questions\r\n    let revealedMonsters = this.training.getRevealedMonsters();\r\n    baseIdIndex = this.questions.length;\r\n    for (let i = 0; i < NUMBERS.OUTPUT_ESTIMATION_RECALL; i++) {  \r\n      revealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\r\n      let question = new OutputEstimationQuestion(\"recall\", revealedMonsters[i]);\r\n      this.questions.push(question);\r\n    }\r\n\r\n    // generate extrapolation questions\r\n    let genes = this.utils.combine([1, 5], 3, \"\");\r\n    baseIdIndex = this.questions.length;\r\n    //console.log(\"extr base index\", baseIdIndex);\r\n    let i = 0;\r\n    for (let gene of genes) {\r\n      let monsterId = \"monster\" + ids[baseIdIndex + i];\r\n      //console.log(\"extr monsterId\", monsterId);\r\n      let feature_a = parseInt(gene.charAt(0));\r\n      let feature_b = parseInt(gene.charAt(1));\r\n      let feature_c = parseInt(gene.charAt(2));\r\n      let criterion = this.stimuli.calculateCriterion(feature_a, feature_b, feature_c);\r\n      let monster = new Monster(monsterId, feature_a, feature_b, feature_c, criterion);\r\n      let question = new OutputEstimationQuestion(\"extrapolation\", monster);\r\n      this.questions.push(question);\r\n      i++;\r\n    }\r\n\r\n    this.utils.shuffleArray(this.questions);\r\n    //console.log(\"[DEBUG] OutputEstimation questions\", this.questions);\r\n        \r\n  }\r\n\r\n  getNextQuestion() {\r\n    this.questionsCounter++;\r\n    return this.questions[this.questionsCounter];\r\n  }\r\n\r\n  updateQuestion(question: OutputEstimationQuestion) {\r\n    const idx = this.questions.indexOf(question);\r\n    this.questions[idx] = question;\r\n  }\r\n\r\n  runOutOfQuestions() {\r\n    return this.questionsCounter >= (this.questions.length - 1);\r\n  }\r\n\r\n  getTotalReward() {\r\n    let total = 0;\r\n    for (let question of this.questions) {\r\n      total = total + question.getAnswerReward();\r\n    }\r\n    return total;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/output-estimation/output-estimation.ts","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Injectable()\r\nexport class RankingTaskProvider {\r\n\r\n  features: {id: string, label: string}[];\r\n  freeText: string;\r\n\r\n  constructor(\r\n    public translate: TranslateService\r\n  ) {\r\n    //console.log('Hello RankingTaskProvider Provider');\r\n  }\r\n\r\n  initialize() {\r\n    this.freeText = \"\";\r\n    this.translate.get(['MONSTER.FEATURE_A_LABEL', 'MONSTER.FEATURE_B_LABEL', 'MONSTER.FEATURE_C_LABEL']).subscribe(labels => {\r\n      this.features = [\r\n        {\"id\": \"feature_a\", \"label\": labels[\"MONSTER.FEATURE_A_LABEL\"]},\r\n        {\"id\": \"feature_b\", \"label\": labels[\"MONSTER.FEATURE_B_LABEL\"]},\r\n        {\"id\": \"feature_c\", \"label\": labels[\"MONSTER.FEATURE_C_LABEL\"]}\r\n      ];\r\n    });\r\n  }\r\n\r\n  \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/ranking-task/ranking-task.ts"]}