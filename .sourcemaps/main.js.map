{"version":3,"sources":["../../src/providers/ranking-task/ranking-task.ts","../../src/providers/api/api.ts","../../src/providers/stimuli/constants.ts","../../src/providers/stimuli/app-info.ts","../../src/providers/settings/settings.ts","../../src/providers/settings/settings.ts.pre-build-optimizer.js","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/models/training-card.ts","../../src/pages/pages.ts","../../src/app/app.module.ts","../../src/app/app.component.ngfactory.ts","../../src/app/app.component.ts","../../src/app/app.module.ngfactory.ts","../../src/app/main.ts","../../src/models/participant.ts","../../src/providers/stimuli/stimuli.ts","../../src/providers/utils/utils.ts","../../src/providers/utils/utils.ts.pre-build-optimizer.js","../../src/providers/training/training.ts","../../src/providers/data/data.ts","../../src/providers/data/data.ts.pre-build-optimizer.js","../../src/models/monster.ts","../../src/models/pair.ts","../../src/models/pair-comparison-question.ts","../../src/providers/pair-comparison/pair-comparison.ts","../../src/models/output-estimation-question.ts","../../src/providers/output-estimation/output-estimation.ts"],"names":["RankingTaskProvider","translate","this","prototype","initialize","_this","freeText","get","subscribe","labels","features","id","label","Api","http","url","endpoint","params","reqOpts","__WEBPACK_IMPORTED_MODULE_1__angular_common_http__","k","set","post","body","put","delete","patch","TESTS_ORDER","ONLINE_DEFAULT_CONDITION","trainingTasks","func","training","testingOrder","CONDITIONS","CONDITIONS_ACTIVE_ONLY","NUMBERS","TRAINING_CARDS","PAIR_COMPARISONS","OUTPUT_ESTIMATION_EXTRAPOLATION","OUTPUT_ESTIMATION_INTERPOLATION","OUTPUT_ESTIMATION_RECALL","__webpack_require__","d","__webpack_exports__","AppInfo","nameLabel","version","Settings","storage","defaults","SETTINGS_KEY","_defaults","load","then","value","settings","_mergeDefaults","setAll","val","merge","save","setValue","key","getValue","Object","defineProperty","enumerable","configurable","webpackEmptyAsyncContext","req","Promise","resolve","Error","keys","module","exports","webpackAsyncContext","ids","map","e","reject","../pages/consent-form/consent-form.module.ngfactory","../pages/instructions-check/instructions-check.module.ngfactory","../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory","../pages/output-estimation/output-estimation.module.ngfactory","../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory","../pages/pair-comparison/pair-comparison.module.ngfactory","../pages/ranking-task/ranking-task.module.ngfactory","../pages/registration-online/registration-online.module.ngfactory","../pages/registration/registration.module.ngfactory","../pages/reward/reward.module.ngfactory","../pages/training-instructions/training-instructions.module.ngfactory","../pages/training-instructions2/training-instructions2.module.ngfactory","../pages/training/training.module.ngfactory","../pages/view-records/view-records.module.ngfactory","TrainingCard","monster","revealed","reveal","hasBeenRevealed","equals","obj","OnlineFirstRunPage","FirstRunPage","createTranslateLoader","http_loader","View_MyApp_1","_l","core_es5","_v","en","$event","ad","_co","component","close","openPage","context","$implicit","item_ngfactory","item","util_form","config","item_reorder","contentLabel","_buttons","_icons","item_content","menu_close","menu_controller","menuClose","_ck","title","View_MyApp_0","nav","menu_ngfactory","split_pane","menu","platform_platform","keyboard","gesture_controller","dom_controller","app","content","menuContent","menuNav","toolbar_header","view_controller","toolbar_ngfactory","toolbar","toolbar_title_ngfactory","toolbar_title","navbar","resize","content_ngfactory","nav_controller","list","common_es5","ngForOf","nav_ngfactory","transition_controller","deep_linker","root","pages","rootPage","_sbPadding","statusbarPadding","_hasRefresher","app_component_MyApp","MyApp","platform","statusBar","splashScreen","androidFullScreen","stimuli","data","ready","styleDefault","hide","enterPinnedMode","enterImmersiveMode","initTranslate","parseUrlParams","URLSearchParams","window","location","search","console","log","onlineVersion","participant","code","age","Number","grade","dob","Date","gender","setCondition","cordova","plugins","screenPinning","error","isImmersiveModeSupported","immersiveMode","catch","addLangs","setDefaultLang","localStorage","getItem","use","langChangedEvent","lang","page","setRoot","ionic_pro_module_min","init","app_info","appVersion","app_module_MyErrorHandler","MyErrorHandler","injector","ionicErrorHandler","ionic_angular","handleError","err","monitoring","handleNewError","AppModule","RenderType_MyApp","encapsulation","styles","MyAppNgFactory","translate_service","status_bar","splash_screen","android_full_screen","stimuli_stimuli","data_data","AppModuleNgFactory","app_root","action_sheet_component_ngfactory","alert_component_ngfactory","app_root_ngfactory","loading_component_ngfactory","modal_component_ngfactory","picker_component_ngfactory","popover_component_ngfactory","select_popover_component_ngfactory","toast_component_ngfactory","platform_browser_es5","gesture_config","p0_0","p1_0","p2_0","p2_1","http_es5","forms_es5","translate_loader","translate_compiler","translate_parser","missing_translation_handler","translate_store","action_sheet_controller","alert_controller","events","haptic","loading_controller","ionic_angular_module","url_serializer","module_loader","modal_controller","picker_controller","popover_controller","tap_click","toast_controller","ionic_error_handler","file","device","api","utils","pair_comparison","output_estimation","ranking_task","preloadModules","platform_registry","links","loadChildren","name","segment","priority","defaultHistory","ng_module_loader","p0_1","p3_0","p3_1","p3_2","p3_3","p3_4","p4_0","p4_1","p4_2","p4_3","mode_registry","core","es2015","undefined","driverOrder","bootstrapModuleFactory","Participant","stimuli_Stimuli","Stimuli","appInfo","currentTestIndex","runInBrowser","conditionCounterOverride","questionsCheck","questionsCheckCounter","getCounterValue","is","initialTimestamp","now","nTraining","trainingType","condition","constants","initializeConditions","isActiveOnly","activeOnlyVersion","pickCondition","pickFeaturesOrder","counter","incrementCounter","length","conditionIndex","testTypes","criterionFunctionIndex","trainingTasksNuber","perms","permute","featuresOrder","pickRandomFromArray","isPassive","isActive","getNextTestType","runOutOfTests","calculateCriterion","feature_a","feature_b","feature_c","criterionFunction1","criterionFunction2","getParticipantAgeGroup","setLang","langCode","emit","hi","Utils","getRandomInt","min","max","Math","floor","random","shuffleArray","a","i","j","_a","items","range","start","end","Array","from","v","combine","alphabet","curstr","ret","push","apply","permutation","p","result","slice","c","fill","counterIndex","counterName","parseInt","count","setItem","toString","TrainingProvider","cards","revealedCards","revealedCardsCounter","generateCards","genes","_i","genes_1","gene","monsterId","charAt","criterion","__WEBPACK_IMPORTED_MODULE_2__models_monster__","__WEBPACK_IMPORTED_MODULE_3__models_training_card__","getAllCards","addCard","card","deleteCard","splice","indexOf","updateCard","idx","getRevealedCardsCount","runOutOfTasks","getRevealedCards","getUnrevealedCards","unrevealedCards","getRevealedMonsters","revealedMonsters","getUnrevealedMonsters","unrevealedMonsters","Data","filesystem","pairComparison","outputEstimation","rankingTask","serverURI","updateRecordsNumber","serializeStimuliData","Map","JSON","stringify","_b","_c","_d","_e","questions","question","pair","left","right","chosenMonster","isAnswerCorrect","_f","_g","type","guessedCriterion","getAnswerDistance","_h","_j","_k","_m","_o","replace","getTotalReward","totalReward","toFixed","mapToObj","driver","recordId","dataObject","getParticipantInfo","getAppInfo","session","getSessionInfo","platformInfo","getPlatformInfo","postDataToServer","ageGroup","duration","datetime","toJSON","__WEBPACK_IMPORTED_MODULE_12__stimuli_app_info__","userAgent","platforms","navigatorPlatform","height","width","uuid","model","cordovaVersion","manufacturer","serial","jsonData","participant_code","resp","loadAllRecords","storageGetAll","records","allRecords","exportRecordsAsJSON","fileContent","saveOutputFile","exportRecordsAsCsv","csvContent","fromRecordsToCsv","recordsNumber","all","csvKeys","csvRows","first","_loop_1","record","x","csvRow","join","records_1","fileExt","currentdate","filename","getDate","getMonth","getFullYear","getHours","getMinutes","resolveDirectoryUrl","externalDataDirectory","directory","getFile","create","exclusive","isFile","writeFile","fileEntry","createWriter","writer","onwriteend","evt","write","where","strMap","forEach","Monster","img","updateId","Pair","leftMonster","rightMonster","getWinner","PairComparisonQuestion","questionPair","answer","getAnswerReward","pair_comparison_PairComparisonProvider","PairComparisonProvider","questionsCounter","generateQuestions","pairMonsters","features_a","criterion_a","features_b","criterion_b","getNextQuestion","updateQuestion","runOutOfQuestions","total","OutputEstimationQuestion","abs","output_estimation_OutputEstimationProvider","OutputEstimationProvider","firstId","baseIdIndex","i_1","i_2","models_monster"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Injectable()\nexport class RankingTaskProvider {\n\n  features: {id: string, label: string}[];\n  freeText: string;\n\n  constructor(\n    public translate: TranslateService\n  ) {\n    //console.log('Hello RankingTaskProvider Provider');\n  }\n\n  initialize() {\n    this.freeText = \"\";\n    this.translate.get(['MONSTER.FEATURE_A_LABEL', 'MONSTER.FEATURE_B_LABEL', 'MONSTER.FEATURE_C_LABEL']).subscribe(labels => {\n      this.features = [\n        {\"id\": \"feature_a\", \"label\": labels[\"MONSTER.FEATURE_A_LABEL\"]},\n        {\"id\": \"feature_b\", \"label\": labels[\"MONSTER.FEATURE_B_LABEL\"]},\n        {\"id\": \"feature_c\", \"label\": labels[\"MONSTER.FEATURE_C_LABEL\"]}\n      ];\n    });\n  }\n\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/ranking-task/ranking-task.ts","import { HttpClient, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\n/**\n * Api is a generic REST Api handler. Set your API url first.\n */\n@Injectable()\nexport class Api {\n  url: string = 'https://isrc.mpib-berlin.mpg.de';\n\n  constructor(public http: HttpClient) {\n  }\n\n  get(endpoint: string, params?: any, reqOpts?: any) {\n    if (!reqOpts) {\n      reqOpts = {\n        params: new HttpParams()\n      };\n    }\n\n    // Support easy query params for GET requests\n    if (params) {\n      reqOpts.params = new HttpParams();\n      for (let k in params) {\n        reqOpts.params.set(k, params[k]);\n      }\n    }\n\n    return this.http.get(this.url + '/' + endpoint, reqOpts);\n  }\n\n  post(endpoint: string, body: any, reqOpts?: any) {\n    return this.http.post(this.url + '/' + endpoint, body, reqOpts);\n  }\n\n  put(endpoint: string, body: any, reqOpts?: any) {\n    return this.http.put(this.url + '/' + endpoint, body, reqOpts);\n  }\n\n  delete(endpoint: string, reqOpts?: any) {\n    return this.http.delete(this.url + '/' + endpoint, reqOpts);\n  }\n\n  patch(endpoint: string, body: any, reqOpts?: any) {\n    return this.http.put(this.url + '/' + endpoint, body, reqOpts);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/api/api.ts","export const TESTS_ORDER: string[][] = [\r\n  [\"comparison\", \"estimation\"],\r\n  [\"estimation\", \"comparison\"]\r\n];\r\n\r\nexport const ONLINE_DEFAULT_CONDITION: {trainingTasks: number, func: number, training: string, testingOrder: number} = {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0};\r\n\r\nexport const CONDITIONS: {trainingTasks: number, func: number, training: string, testingOrder: number}[] = [\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1}\r\n];\r\n\r\nexport const CONDITIONS_ACTIVE_ONLY: {trainingTasks: number, func: number, training: string, testingOrder: number}[] = [\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1}\r\n];\r\n\r\nexport const CONDITIONS_EXTENDED: {trainingTasks: number, func: number, training: string, testingOrder: number}[] = [\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 1}\r\n];\r\n\r\nexport const NUMBERS = {\r\n  TRAINING_CARDS: 27,\r\n  PAIR_COMPARISONS: 8,\r\n  OUTPUT_ESTIMATION_EXTRAPOLATION: 8,\r\n  OUTPUT_ESTIMATION_INTERPOLATION: 5,\r\n  OUTPUT_ESTIMATION_RECALL: 5\r\n}\r\n\r\nexport const PAIR_COMPARISONS = [\r\n  [ [4,2,2], [3,4,4] ],\r\n  [ [3,2,2], [2,4,4] ],\r\n  [ [1,4,1], [2,1,2] ],\r\n  [ [2,2,2], [3,1,1] ],\r\n  [ [1,1,4], [2,1,1] ],\r\n  [ [3,2,2], [2,2,2] ],\r\n  [ [2,3,2], [2,2,2] ],\r\n  [ [2,2,3], [2,2,2] ],\r\n];\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/constants.ts","export abstract class AppInfo {\r\n    static id: string = \"5c42aff5\";\r\n    static nameLabel: string = \"MTT\";\r\n    static version: string = \"2.6.1\";\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/app-info.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\n\n/**\n * A simple settings/config class for storing key/value pairs with persistence.\n */\n@Injectable()\nexport class Settings {\n  private SETTINGS_KEY: string = '_settings';\n\n  settings: any;\n\n  _defaults: any;\n  _readyPromise: Promise<any>;\n\n  constructor(public storage: Storage, defaults: any) {\n    this._defaults = defaults;\n  }\n\n  load() {\n    return this.storage.get(this.SETTINGS_KEY).then((value) => {\n      if (value) {\n        this.settings = value;\n        return this._mergeDefaults(this._defaults);\n      } else {\n        return this.setAll(this._defaults).then((val) => {\n          this.settings = val;\n        })\n      }\n    });\n  }\n\n  _mergeDefaults(defaults: any) {\n    for (let k in defaults) {\n      if (!(k in this.settings)) {\n        this.settings[k] = defaults[k];\n      }\n    }\n    return this.setAll(this.settings);\n  }\n\n  merge(settings: any) {\n    for (let k in settings) {\n      this.settings[k] = settings[k];\n    }\n    return this.save();\n  }\n\n  setValue(key: string, value: any) {\n    this.settings[key] = value;\n    return this.storage.set(this.SETTINGS_KEY, this.settings);\n  }\n\n  setAll(value: any) {\n    return this.storage.set(this.SETTINGS_KEY, value);\n  }\n\n  getValue(key: string) {\n    return this.storage.get(this.SETTINGS_KEY)\n      .then(settings => {\n        return settings[key];\n      });\n  }\n\n  save() {\n    return this.setAll(this.settings);\n  }\n\n  get allSettings() {\n    return this.settings;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/settings/settings.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\n/**\r\n * A simple settings/config class for storing key/value pairs with persistence.\r\n */\r\nvar Settings = (function () {\r\n    function Settings(storage, defaults) {\r\n        this.storage = storage;\r\n        this.SETTINGS_KEY = '_settings';\r\n        this._defaults = defaults;\r\n    }\r\n    Settings.prototype.load = function () {\r\n        var _this = this;\r\n        return this.storage.get(this.SETTINGS_KEY).then(function (value) {\r\n            if (value) {\r\n                _this.settings = value;\r\n                return _this._mergeDefaults(_this._defaults);\r\n            }\r\n            else {\r\n                return _this.setAll(_this._defaults).then(function (val) {\r\n                    _this.settings = val;\r\n                });\r\n            }\r\n        });\r\n    };\r\n    Settings.prototype._mergeDefaults = function (defaults) {\r\n        for (var k in defaults) {\r\n            if (!(k in this.settings)) {\r\n                this.settings[k] = defaults[k];\r\n            }\r\n        }\r\n        return this.setAll(this.settings);\r\n    };\r\n    Settings.prototype.merge = function (settings) {\r\n        for (var k in settings) {\r\n            this.settings[k] = settings[k];\r\n        }\r\n        return this.save();\r\n    };\r\n    Settings.prototype.setValue = function (key, value) {\r\n        this.settings[key] = value;\r\n        return this.storage.set(this.SETTINGS_KEY, this.settings);\r\n    };\r\n    Settings.prototype.setAll = function (value) {\r\n        return this.storage.set(this.SETTINGS_KEY, value);\r\n    };\r\n    Settings.prototype.getValue = function (key) {\r\n        return this.storage.get(this.SETTINGS_KEY)\r\n            .then(function (settings) {\r\n            return settings[key];\r\n        });\r\n    };\r\n    Settings.prototype.save = function () {\r\n        return this.setAll(this.settings);\r\n    };\r\n    Object.defineProperty(Settings.prototype, \"allSettings\", {\r\n        get: function () {\r\n            return this.settings;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Settings;\r\n}());\r\nSettings = __decorate([\r\n    Injectable(),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Storage !== \"undefined\" && Storage) === \"function\" && _a || Object, Object])\r\n], Settings);\r\nexport { Settings };\r\nvar _a;\r\n//# sourceMappingURL=settings.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/settings/settings.ts.pre-build-optimizer.js","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 167;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 167\n// module chunks = 14","var map = {\n\t\"../pages/consent-form/consent-form.module.ngfactory\": [\n\t\t277,\n\t\t13\n\t],\n\t\"../pages/instructions-check/instructions-check.module.ngfactory\": [\n\t\t278,\n\t\t12\n\t],\n\t\"../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory\": [\n\t\t276,\n\t\t11\n\t],\n\t\"../pages/output-estimation/output-estimation.module.ngfactory\": [\n\t\t279,\n\t\t2\n\t],\n\t\"../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory\": [\n\t\t280,\n\t\t10\n\t],\n\t\"../pages/pair-comparison/pair-comparison.module.ngfactory\": [\n\t\t283,\n\t\t1\n\t],\n\t\"../pages/ranking-task/ranking-task.module.ngfactory\": [\n\t\t281,\n\t\t6\n\t],\n\t\"../pages/registration-online/registration-online.module.ngfactory\": [\n\t\t282,\n\t\t4\n\t],\n\t\"../pages/registration/registration.module.ngfactory\": [\n\t\t285,\n\t\t3\n\t],\n\t\"../pages/reward/reward.module.ngfactory\": [\n\t\t286,\n\t\t9\n\t],\n\t\"../pages/training-instructions/training-instructions.module.ngfactory\": [\n\t\t284,\n\t\t7\n\t],\n\t\"../pages/training-instructions2/training-instructions2.module.ngfactory\": [\n\t\t287,\n\t\t8\n\t],\n\t\"../pages/training/training.module.ngfactory\": [\n\t\t289,\n\t\t0\n\t],\n\t\"../pages/view-records/view-records.module.ngfactory\": [\n\t\t288,\n\t\t5\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 196;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 196\n// module chunks = 14","import { Monster } from './monster';\n\nexport class TrainingCard {\n\n  monster: Monster;\n  revealed: boolean;\n\n  constructor(monster: Monster) {\n    this.monster = monster;\n    this.revealed = false;\n  }\n\n  reveal() {\n    this.revealed = true;\n  }\n\n  hasBeenRevealed() {\n    return this.revealed === true;\n  }\n\n  public equals(obj: TrainingCard) : boolean { \n    return this.monster === obj.monster;\n  } \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/training-card.ts","// The page the user lands on after opening the app and without a session\nexport const FirstRunPage = 'RegistrationPage';\nexport const OnlineFirstRunPage = 'RegistrationOnlinePage';\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pages.ts","import { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { ErrorHandler, NgModule, Injectable, Injector } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { AndroidFullScreen } from '@ionic-native/android-full-screen';\r\nimport { File } from '@ionic-native/file';\r\nimport { Device } from '@ionic-native/device';\r\nimport { Pro } from '@ionic/pro';\r\n\r\nimport { Api, Utils, Data, Stimuli, TrainingProvider, PairComparisonProvider, \r\n  OutputEstimationProvider, RankingTaskProvider} from '../providers/providers';\r\nimport { AppInfo } from '../providers/stimuli/app-info';\r\nimport { MyApp } from './app.component';\r\n\r\n\r\n// Ionic Pro\r\nPro.init(AppInfo.id, {\r\n  appVersion: AppInfo.version\r\n})\r\n\r\n\r\n// The translate loader needs to know where to load i18n files\r\n// in Ionic's static asset pipeline.\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\n\r\n\r\n// Error Handler\r\n@Injectable()\r\nexport class MyErrorHandler implements ErrorHandler {\r\n  ionicErrorHandler: IonicErrorHandler;\r\n\r\n  constructor(injector: Injector) {\r\n    try {\r\n      this.ionicErrorHandler = injector.get(IonicErrorHandler);\r\n    } catch(e) {\r\n      // Unable to get the IonicErrorHandler provider, ensure\r\n      // IonicErrorHandler has been added to the providers list below\r\n    }\r\n  }\r\n\r\n  handleError(err: any): void {\r\n    Pro.monitoring.handleNewError(err);\r\n    // Remove this if you want to disable Ionic's auto exception handling\r\n    // in development mode.\r\n    this.ionicErrorHandler && this.ionicErrorHandler.handleError(err);\r\n  }\r\n}\r\n\r\n\r\n// App Module\r\n@NgModule({\r\n  declarations: [\r\n    MyApp\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: (createTranslateLoader),\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    IonicModule.forRoot(MyApp, {\r\n      preloadModules: true\r\n    }, \n{\n  links: [\n    { loadChildren: '../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory#OutputEstimationInstructionsPageModuleNgFactory', name: 'OutputEstimationInstructionsPage', segment: 'output-estimation-instructions', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/consent-form/consent-form.module.ngfactory#ConsentFormPageModuleNgFactory', name: 'ConsentFormPage', segment: 'consent-form', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/instructions-check/instructions-check.module.ngfactory#InstructionsCheckPageModuleNgFactory', name: 'InstructionsCheckPage', segment: 'instructions-check', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/output-estimation/output-estimation.module.ngfactory#OutputEstimationPageModuleNgFactory', name: 'OutputEstimationPage', segment: 'output-estimation', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory#PairComparisonInstructionsPageModuleNgFactory', name: 'PairComparisonInstructionsPage', segment: 'pair-comparison-instructions', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ranking-task/ranking-task.module.ngfactory#RankingTaskPageModuleNgFactory', name: 'RankingTaskPage', segment: 'ranking-task', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/registration-online/registration-online.module.ngfactory#RegistrationOnlinePageModuleNgFactory', name: 'RegistrationOnlinePage', segment: 'registration-online', priority: 'high', defaultHistory: [] },\n    { loadChildren: '../pages/pair-comparison/pair-comparison.module.ngfactory#PairComparisonPageModuleNgFactory', name: 'PairComparisonPage', segment: 'pair-comparison', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/training-instructions/training-instructions.module.ngfactory#TrainingInstructionsPageModuleNgFactory', name: 'TrainingInstructionsPage', segment: 'training-instructions', priority: 'high', defaultHistory: [] },\n    { loadChildren: '../pages/registration/registration.module.ngfactory#RegistrationPageModuleNgFactory', name: 'RegistrationPage', segment: 'registration', priority: 'high', defaultHistory: [] },\n    { loadChildren: '../pages/reward/reward.module.ngfactory#RewardPageModuleNgFactory', name: 'RewardPage', segment: 'reward', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/training-instructions2/training-instructions2.module.ngfactory#TrainingInstructions2PageModuleNgFactory', name: 'TrainingInstructions2Page', segment: 'training-instructions2', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/view-records/view-records.module.ngfactory#ViewRecordsPageModuleNgFactory', name: 'ViewRecordsPage', segment: 'view-records', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/training/training.module.ngfactory#TrainingPageModuleNgFactory', name: 'TrainingPage', segment: 'training', priority: 'high', defaultHistory: [] }\n  ]\n}),\r\n    IonicStorageModule.forRoot({\r\n      name: 'data',\r\n      driverOrder: ['sqlite', 'indexeddb', 'websql']\r\n    })\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp\r\n  ],\r\n  providers: [\r\n    SplashScreen,\r\n    StatusBar,\r\n    AndroidFullScreen,\r\n    IonicErrorHandler,\r\n    [{ provide: ErrorHandler, useClass: MyErrorHandler }],\r\n    File,\r\n    Device,\r\n    Api,\r\n    Utils,\r\n    Data,\r\n    Stimuli,\r\n    TrainingProvider,\r\n    PairComparisonProvider,\r\n    OutputEstimationProvider,\r\n    RankingTaskProvider\r\n  ]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","/**\n * @fileoverview This file is generated by the Angular template compiler.\n * Do not edit.\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride}\n */\n /* tslint:disable */\n\n\nimport * as i0 from '@angular/core';\nimport * as i1 from '../../node_modules/ionic-angular/components/item/item.ngfactory';\nimport * as i2 from 'ionic-angular/components/item/item';\nimport * as i3 from 'ionic-angular/util/form';\nimport * as i4 from 'ionic-angular/config/config';\nimport * as i5 from 'ionic-angular/components/item/item-reorder';\nimport * as i6 from 'ionic-angular/components/item/item-content';\nimport * as i7 from 'ionic-angular/components/menu/menu-close';\nimport * as i8 from 'ionic-angular/components/app/menu-controller';\nimport * as i9 from '../../node_modules/ionic-angular/components/menu/menu.ngfactory';\nimport * as i10 from 'ionic-angular/components/split-pane/split-pane';\nimport * as i11 from 'ionic-angular/components/menu/menu';\nimport * as i12 from 'ionic-angular/platform/platform';\nimport * as i13 from 'ionic-angular/platform/keyboard';\nimport * as i14 from 'ionic-angular/gestures/gesture-controller';\nimport * as i15 from 'ionic-angular/platform/dom-controller';\nimport * as i16 from 'ionic-angular/components/app/app';\nimport * as i17 from 'ionic-angular/components/toolbar/toolbar-header';\nimport * as i18 from 'ionic-angular/navigation/view-controller';\nimport * as i19 from '../../node_modules/ionic-angular/components/toolbar/toolbar.ngfactory';\nimport * as i20 from 'ionic-angular/components/toolbar/toolbar';\nimport * as i21 from '../../node_modules/ionic-angular/components/toolbar/toolbar-title.ngfactory';\nimport * as i22 from 'ionic-angular/components/toolbar/toolbar-title';\nimport * as i23 from 'ionic-angular/components/toolbar/navbar';\nimport * as i24 from '../../node_modules/ionic-angular/components/content/content.ngfactory';\nimport * as i25 from 'ionic-angular/components/content/content';\nimport * as i26 from 'ionic-angular/navigation/nav-controller';\nimport * as i27 from 'ionic-angular/components/list/list';\nimport * as i28 from '@angular/common';\nimport * as i29 from '../../node_modules/ionic-angular/components/nav/nav.ngfactory';\nimport * as i30 from 'ionic-angular/components/nav/nav';\nimport * as i31 from 'ionic-angular/transitions/transition-controller';\nimport * as i32 from 'ionic-angular/navigation/deep-linker';\nimport * as i33 from './app.component';\nimport * as i34 from '@ngx-translate/core/src/translate.service';\nimport * as i35 from '@ionic-native/status-bar/index';\nimport * as i36 from '@ionic-native/splash-screen/index';\nimport * as i37 from '@ionic-native/android-full-screen/index';\nimport * as i38 from '../providers/stimuli/stimuli';\nimport * as i39 from '../providers/data/data';\nconst styles_MyApp:any[] = ([] as any[]);\nexport const RenderType_MyApp:i0.RendererType2 = i0.ɵcrt({encapsulation:2,styles:styles_MyApp,\n    data:{}});\nfunction View_MyApp_1(_l:any):i0.ɵViewDefinition {\n  return i0.ɵvid(0,[(_l()(),i0.ɵeld(0,(null as any),(null as any),7,'button',[['class',\n      'item item-block'],['ion-item',''],['menuClose','']],(null as any),[[(null as any),\n      'click']],(_v,en,$event) => {\n    var ad:boolean = true;\n    var _co:any = _v.component;\n    if (('click' === en)) {\n      const pd_0:any = ((<any>i0.ɵnov(_v,6).close()) !== false);\n      ad = (pd_0 && ad);\n    }\n    if (('click' === en)) {\n      const pd_1:any = ((<any>_co.openPage(_v.context.$implicit)) !== false);\n      ad = (pd_1 && ad);\n    }\n    return ad;\n  },i1.View_Item_0,i1.RenderType_Item)),i0.ɵdid(1097728,(null as any),3,i2.Item,[i3.Form,\n      i4.Config,i0.ElementRef,i0.Renderer,[2,i5.ItemReorder]],(null as any),(null as any)),\n      i0.ɵqud(335544320,4,{contentLabel:0}),i0.ɵqud(603979776,5,{_buttons:1}),i0.ɵqud(603979776,\n          6,{_icons:1}),i0.ɵdid(16384,(null as any),0,i6.ItemContent,([] as any[]),\n          (null as any),(null as any)),i0.ɵdid(16384,(null as any),0,i7.MenuClose,\n          [i8.MenuController],{menuClose:[0,'menuClose']},(null as any)),(_l()(),i0.ɵted(2,\n          ['\\n          ','\\n        ']))],(_ck,_v) => {\n    const currVal_0:any = '';\n    _ck(_v,6,0,currVal_0);\n  },(_ck,_v) => {\n    const currVal_1:any = _v.context.$implicit.title;\n    _ck(_v,7,0,currVal_1);\n  });\n}\nexport function View_MyApp_0(_l:any):i0.ɵViewDefinition {\n  return i0.ɵvid(0,[i0.ɵqud(402653184,1,{nav:0}),(_l()(),i0.ɵeld(0,(null as any),(null as any),\n      28,'ion-menu',[['role','navigation']],(null as any),(null as any),(null as any),\n      i9.View_Menu_0,i9.RenderType_Menu)),i0.ɵprd(6144,(null as any),i10.RootNode,\n      (null as any),[i11.Menu]),i0.ɵdid(245760,(null as any),2,i11.Menu,[i8.MenuController,\n      i0.ElementRef,i4.Config,i12.Platform,i0.Renderer,i13.Keyboard,i14.GestureController,\n      i15.DomController,i16.App],{content:[0,'content']},(null as any)),i0.ɵqud(335544320,\n      2,{menuContent:0}),i0.ɵqud(335544320,3,{menuNav:0}),(_l()(),i0.ɵted(0,['\\n    '])),\n      (_l()(),i0.ɵeld(0,(null as any),0,10,'ion-header',([] as any[]),(null as any),\n          (null as any),(null as any),(null as any),(null as any))),i0.ɵdid(16384,\n          (null as any),0,i17.Header,[i4.Config,i0.ElementRef,i0.Renderer,[2,i18.ViewController]],\n          (null as any),(null as any)),(_l()(),i0.ɵted((null as any),['\\n      '])),\n      (_l()(),i0.ɵeld(0,(null as any),(null as any),6,'ion-toolbar',[['class','toolbar']],\n          [[2,'statusbar-padding',(null as any)]],(null as any),(null as any),i19.View_Toolbar_0,\n          i19.RenderType_Toolbar)),i0.ɵdid(49152,(null as any),0,i20.Toolbar,[i4.Config,\n          i0.ElementRef,i0.Renderer],(null as any),(null as any)),(_l()(),i0.ɵted(3,\n          ['\\n        '])),(_l()(),i0.ɵeld(0,(null as any),3,2,'ion-title',([] as any[]),\n          (null as any),(null as any),(null as any),i21.View_ToolbarTitle_0,i21.RenderType_ToolbarTitle)),\n      i0.ɵdid(49152,(null as any),0,i22.ToolbarTitle,[i4.Config,i0.ElementRef,i0.Renderer,\n          [2,i20.Toolbar],[2,i23.Navbar]],(null as any),(null as any)),(_l()(),i0.ɵted(0,\n          ['Pages'])),(_l()(),i0.ɵted(3,['\\n      '])),(_l()(),i0.ɵted((null as any),\n          ['\\n    '])),(_l()(),i0.ɵted(0,['\\n\\n    '])),(_l()(),i0.ɵeld(0,(null as any),\n          0,9,'ion-content',([] as any[]),[[2,'statusbar-padding',(null as any)],[2,\n              'has-refresher',(null as any)]],[['window','resize']],(_v,en,$event) => {\n            var ad:boolean = true;\n            if (('window:resize' === en)) {\n              const pd_0:any = ((<any>i0.ɵnov(_v,20).resize()) !== false);\n              ad = (pd_0 && ad);\n            }\n            return ad;\n          },i24.View_Content_0,i24.RenderType_Content)),i0.ɵdid(4374528,[[2,4]],0,\n          i25.Content,[i4.Config,i12.Platform,i15.DomController,i0.ElementRef,i0.Renderer,\n              i16.App,i13.Keyboard,i0.NgZone,[2,i18.ViewController],[2,i26.NavController]],\n          (null as any),(null as any)),(_l()(),i0.ɵted(1,['\\n      '])),(_l()(),i0.ɵeld(0,\n          (null as any),1,5,'ion-list',([] as any[]),(null as any),(null as any),(null as any),\n          (null as any),(null as any))),i0.ɵdid(16384,(null as any),0,i27.List,[i4.Config,\n          i0.ElementRef,i0.Renderer,i12.Platform,i14.GestureController,i15.DomController],\n          (null as any),(null as any)),(_l()(),i0.ɵted((null as any),['\\n        '])),\n      (_l()(),i0.ɵand(16777216,(null as any),(null as any),1,(null as any),View_MyApp_1)),\n      i0.ɵdid(802816,(null as any),0,i28.NgForOf,[i0.ViewContainerRef,i0.TemplateRef,\n          i0.IterableDiffers],{ngForOf:[0,'ngForOf']},(null as any)),(_l()(),i0.ɵted((null as any),\n          ['\\n      '])),(_l()(),i0.ɵted(1,['\\n    '])),(_l()(),i0.ɵted(0,['\\n\\n  '])),\n      (_l()(),i0.ɵted((null as any),['\\n  '])),(_l()(),i0.ɵeld(0,(null as any),(null as any),\n          2,'ion-nav',([] as any[]),(null as any),(null as any),(null as any),i29.View_Nav_0,\n          i29.RenderType_Nav)),i0.ɵprd(6144,(null as any),i10.RootNode,(null as any),\n          [i30.Nav]),i0.ɵdid(4374528,[[1,4],['content',4]],0,i30.Nav,[[2,i18.ViewController],\n          [2,i26.NavController],i16.App,i4.Config,i12.Platform,i0.ElementRef,i0.NgZone,\n          i0.Renderer,i0.ComponentFactoryResolver,i14.GestureController,i31.TransitionController,\n          [2,i32.DeepLinker],i15.DomController,i0.ErrorHandler],{root:[0,'root']},\n          (null as any))],(_ck,_v) => {\n    var _co:i33.MyApp = _v.component;\n    const currVal_0:any = i0.ɵnov(_v,33);\n    _ck(_v,3,0,currVal_0);\n    const currVal_4:any = _co.pages;\n    _ck(_v,26,0,currVal_4);\n    const currVal_5:any = _co.rootPage;\n    _ck(_v,33,0,currVal_5);\n  },(_ck,_v) => {\n    const currVal_1:any = i0.ɵnov(_v,11)._sbPadding;\n    _ck(_v,10,0,currVal_1);\n    const currVal_2:any = i0.ɵnov(_v,20).statusbarPadding;\n    const currVal_3:any = i0.ɵnov(_v,20)._hasRefresher;\n    _ck(_v,19,0,currVal_2,currVal_3);\n  });\n}\nexport function View_MyApp_Host_0(_l:any):i0.ɵViewDefinition {\n  return i0.ɵvid(0,[(_l()(),i0.ɵeld(0,(null as any),(null as any),1,'ng-component',\n      ([] as any[]),(null as any),(null as any),(null as any),View_MyApp_0,RenderType_MyApp)),\n      i0.ɵdid(49152,(null as any),0,i33.MyApp,[i34.TranslateService,i12.Platform,i35.StatusBar,\n          i36.SplashScreen,i37.AndroidFullScreen,i38.Stimuli,i39.Data],(null as any),\n          (null as any))],(null as any),(null as any));\n}\nexport const MyAppNgFactory:i0.ComponentFactory<i33.MyApp> = i0.ɵccf('ng-component',\n    i33.MyApp,View_MyApp_Host_0,{},{},([] as any[]));\n//# sourceMappingURL=data:application/json;base64,eyJmaWxlIjoiQzovVXNlcnMvbWVpbmkvTVBJL3Byb2plY3RzL210dC9zcmMvYXBwL2FwcC5jb21wb25lbnQubmdmYWN0b3J5LnRzIiwidmVyc2lvbiI6Mywic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibmc6Ly8vQzovVXNlcnMvbWVpbmkvTVBJL3Byb2plY3RzL210dC9zcmMvYXBwL2FwcC5jb21wb25lbnQudHMiLCJuZzovLy9DOi9Vc2Vycy9tZWluaS9NUEkvcHJvamVjdHMvbXR0L3NyYy9hcHAvYXBwLmNvbXBvbmVudC50cy5NeUFwcC5odG1sIiwibmc6Ly8vQzovVXNlcnMvbWVpbmkvTVBJL3Byb2plY3RzL210dC9zcmMvYXBwL2FwcC5jb21wb25lbnQudHMuTXlBcHBfSG9zdC5odG1sIl0sInNvdXJjZXNDb250ZW50IjpbIiAiLCI8aW9uLW1lbnUgW2NvbnRlbnRdPVwiY29udGVudFwiPlxuICAgIDxpb24taGVhZGVyPlxuICAgICAgPGlvbi10b29sYmFyPlxuICAgICAgICA8aW9uLXRpdGxlPlBhZ2VzPC9pb24tdGl0bGU+XG4gICAgICA8L2lvbi10b29sYmFyPlxuICAgIDwvaW9uLWhlYWRlcj5cblxuICAgIDxpb24tY29udGVudD5cbiAgICAgIDxpb24tbGlzdD5cbiAgICAgICAgPGJ1dHRvbiBtZW51Q2xvc2UgaW9uLWl0ZW0gKm5nRm9yPVwibGV0IHAgb2YgcGFnZXNcIiAoY2xpY2spPVwib3BlblBhZ2UocClcIj5cbiAgICAgICAgICB7e3AudGl0bGV9fVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvaW9uLWxpc3Q+XG4gICAgPC9pb24tY29udGVudD5cblxuICA8L2lvbi1tZW51PlxuICA8aW9uLW5hdiAjY29udGVudCBbcm9vdF09XCJyb290UGFnZVwiPjwvaW9uLW5hdj4iLCI8bmctY29tcG9uZW50PjwvbmctY29tcG9uZW50PiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JDU1E7TUFBQTtNQUFBO0lBQUE7SUFBQTtJQUFBO01BQUE7TUFBQTtJQUFBO0lBQW1EO01BQUE7TUFBQTtJQUFBO0lBQW5EO0VBQUEsNkNBQUE7MENBQUE7YUFBQTtVQUFBLHFCQUFBO1VBQUEsb0NBQUE7VUFBQSwrREFBeUU7VUFBQTtJQUFqRTtJQUFSLFdBQVEsU0FBUjs7SUFBeUU7SUFBQTs7OztpREFUakY7TUFBQTt1Q0FBQTtNQUFBLGlDQUFBOzsrQkFBQTtNQUFBLG9EQUE4QjtNQUMxQjtVQUFBLGlFQUFBO1VBQUE7VUFBQSw2QkFBWTtNQUNWO1VBQUE7Z0NBQUEsVUFBQTttQ0FBQSwrQkFBYTtVQUFBLGlCQUNYO1VBQUE7YUFBQTtVQUFBLDZEQUFXO1VBQUEsWUFBaUIsaUNBQ2hCO1VBQUEsYUFDSCxpQ0FFYjtVQUFBO2NBQUE7WUFBQTtZQUFBO2NBQUE7Y0FBQTtZQUFBO1lBQUE7VUFBQSxxREFBQTtzQkFBQTs2Q0FBQTtVQUFBLDZCQUFhLGlDQUNYO1VBQUE7VUFBQSxxQ0FBQTt3RkFBQTtVQUFBLDZCQUFVO01BQ1I7YUFBQTs0QkFBQSx5Q0FFUztVQUFBLGVBQ0EsK0JBQ0M7TUFFTCx5Q0FDWDtVQUFBOzRCQUFBO1VBQUEsa0JBQUE7VUFBQTs7VUFBQTtVQUFBOztJQWhCUTtJQUFWLFdBQVUsU0FBVjtJQVNtQztJQUEzQixZQUEyQixTQUEzQjtJQU9ZO0lBQWxCLFlBQWtCLFNBQWxCOztJQWRJO0lBQUEsWUFBQSxTQUFBO0lBS0Y7SUFBQTtJQUFBLFlBQUEsbUJBQUE7Ozs7b0JDUEo7TUFBQTthQUFBO3FFQUFBO1VBQUE7OzsifQ==\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ngfactory.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Nav, Platform } from 'ionic-angular';\r\nimport { AndroidFullScreen } from '@ionic-native/android-full-screen';\r\n\r\nimport { FirstRunPage, OnlineFirstRunPage } from '../pages/pages';\r\nimport { Stimuli, Data } from '../providers/providers';\r\n\r\ndeclare var cordova: any;\r\n\r\n@Component({\r\n  template: `<ion-menu [content]=\"content\">\r\n    <ion-header>\r\n      <ion-toolbar>\r\n        <ion-title>Pages</ion-title>\r\n      </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <ion-content>\r\n      <ion-list>\r\n        <button menuClose ion-item *ngFor=\"let p of pages\" (click)=\"openPage(p)\">\r\n          {{p.title}}\r\n        </button>\r\n      </ion-list>\r\n    </ion-content>\r\n\r\n  </ion-menu>\r\n  <ion-nav #content [root]=\"rootPage\"></ion-nav>`\r\n})\r\nexport class MyApp {\r\n\r\n  rootPage = FirstRunPage;\r\n\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  constructor(\r\n    private translate: TranslateService, \r\n    private platform: Platform,\r\n    private statusBar: StatusBar, \r\n    private splashScreen: SplashScreen,\r\n    private androidFullScreen: AndroidFullScreen, \r\n    private stimuli: Stimuli,\r\n    private data: Data\r\n  ) {\r\n\r\n      // Set mobile full screen and pinned mode\r\n      this.platform.ready().then(() => {\r\n        this.statusBar.styleDefault();\r\n        this.splashScreen.hide();\r\n        this.enterPinnedMode();\r\n        this.enterImmersiveMode();\r\n      });\r\n\r\n\r\n      // Initialize providers\r\n      this.stimuli.initialize();\r\n      this.data.initialize();\r\n\r\n      // Initialize translation system\r\n      this.initTranslate();\r\n\r\n      // Parse URL params and detect online version\r\n      this.parseUrlParams();\r\n  }\r\n\r\n  /**\r\n\t * ParseUrlParams()\r\n\t */\r\n  parseUrlParams() {\r\n\r\n    // Parse URL params\r\n    const params = new URLSearchParams(window.location.search);\r\n    \r\n    // Check if online version...\r\n    if (params.get(\"uid\")) {\r\n\r\n      console.log(\"[DEBUG] Online Version\");\r\n\r\n      // Parse participant info\r\n      this.stimuli.onlineVersion = true;\r\n      this.stimuli.participant.code = params.get(\"uid\");\r\n      this.stimuli.participant.age = Number(params.get(\"age\"));\r\n      this.stimuli.participant.grade = Number(params.get(\"grade\"));\r\n      this.stimuli.participant.dob = new Date(params.get(\"dob\"));\r\n      this.stimuli.participant.gender = params.get(\"gender\");\r\n\r\n      // Parse conditions\r\n      this.stimuli.setCondition(\r\n        Number(params.get(\"nTraining\")),\r\n        Number(params.get(\"func\")),\r\n        params.get(\"trainingType\"),\r\n        Number(params.get(\"testingOrder\")),\r\n      );\r\n\r\n      // Go to online registration page\r\n      this.rootPage = OnlineFirstRunPage;\r\n    }\r\n  }\r\n\r\n  /**\r\n\t * enterPinnedMode()\r\n\t */\r\n\tenterPinnedMode() {\r\n\t\tif (typeof cordova !== 'undefined') {\r\n\t\t\tcordova.plugins.screenPinning.enterPinnedMode(\r\n\t\t\t\t() => { console.log('entered pinned mode') },\r\n\t\t\t\t(error) => { console.log('error when entering pinned mode: ' + error) },\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * enterImmersiveMode()\r\n\t */\r\n\tenterImmersiveMode() {\r\n\t\tthis.androidFullScreen.isImmersiveModeSupported()\r\n\t\t\t.then(() => this.androidFullScreen.immersiveMode())\r\n\t\t\t.catch((error: any) => console.log(error));\r\n\t}\r\n\r\n  initTranslate() {\r\n    // Set the default language\r\n    this.translate.addLangs(['en', 'de']);\r\n    this.translate.setDefaultLang('en');\r\n\r\n    // Get language from local storage\r\n    if (localStorage.getItem('lang') != null && localStorage.getItem('lang') != '') {\r\n      this.translate.use(localStorage.getItem('lang'));\r\n    }\r\n\r\n    // Update language when changed by an app component\r\n    this.stimuli.langChangedEvent.subscribe(lang => {\r\n      console.log('[DEBUG] language change evend emitted: ', lang);\r\n      this.translate.use(lang);\r\n    });\r\n  }\r\n\r\n  openPage(page) {\r\n    // Reset the content nav to have just this page\r\n    // we wouldn't want the back button to show in this scenario\r\n    this.nav.setRoot(page.component);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","/**\n * @fileoverview This file is generated by the Angular template compiler.\n * Do not edit.\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride}\n */\n /* tslint:disable */\n\n\nimport * as i0 from '@angular/core';\nimport * as i1 from './app.module';\nimport * as i2 from 'ionic-angular/components/app/app-root';\nimport * as i3 from '../../node_modules/ionic-angular/components/action-sheet/action-sheet-component.ngfactory';\nimport * as i4 from '../../node_modules/ionic-angular/components/alert/alert-component.ngfactory';\nimport * as i5 from '../../node_modules/ionic-angular/components/app/app-root.ngfactory';\nimport * as i6 from '../../node_modules/ionic-angular/components/loading/loading-component.ngfactory';\nimport * as i7 from '../../node_modules/ionic-angular/components/modal/modal-component.ngfactory';\nimport * as i8 from '../../node_modules/ionic-angular/components/picker/picker-component.ngfactory';\nimport * as i9 from '../../node_modules/ionic-angular/components/popover/popover-component.ngfactory';\nimport * as i10 from '../../node_modules/ionic-angular/components/select/select-popover-component.ngfactory';\nimport * as i11 from '../../node_modules/ionic-angular/components/toast/toast-component.ngfactory';\nimport * as i12 from './app.component.ngfactory';\nimport * as i13 from '@angular/common';\nimport * as i14 from '@angular/platform-browser';\nimport * as i15 from 'ionic-angular/gestures/gesture-config';\nimport * as i16 from '@angular/common/http';\nimport * as i17 from '@angular/forms';\nimport * as i18 from '@ngx-translate/core/src/translate.loader';\nimport * as i19 from '@ngx-translate/core/src/translate.compiler';\nimport * as i20 from '@ngx-translate/core/src/translate.parser';\nimport * as i21 from '@ngx-translate/core/src/missing-translation-handler';\nimport * as i22 from '@ngx-translate/core/src/translate.store';\nimport * as i23 from '@ngx-translate/core/src/translate.service';\nimport * as i24 from 'ionic-angular/components/action-sheet/action-sheet-controller';\nimport * as i25 from 'ionic-angular/components/app/app';\nimport * as i26 from 'ionic-angular/config/config';\nimport * as i27 from 'ionic-angular/components/alert/alert-controller';\nimport * as i28 from 'ionic-angular/util/events';\nimport * as i29 from 'ionic-angular/util/form';\nimport * as i30 from 'ionic-angular/tap-click/haptic';\nimport * as i31 from 'ionic-angular/platform/platform';\nimport * as i32 from 'ionic-angular/platform/keyboard';\nimport * as i33 from 'ionic-angular/platform/dom-controller';\nimport * as i34 from 'ionic-angular/components/loading/loading-controller';\nimport * as i35 from 'ionic-angular/module';\nimport * as i36 from 'ionic-angular/navigation/url-serializer';\nimport * as i37 from 'ionic-angular/navigation/deep-linker';\nimport * as i38 from 'ionic-angular/util/module-loader';\nimport * as i39 from 'ionic-angular/components/modal/modal-controller';\nimport * as i40 from 'ionic-angular/components/picker/picker-controller';\nimport * as i41 from 'ionic-angular/components/popover/popover-controller';\nimport * as i42 from 'ionic-angular/tap-click/tap-click';\nimport * as i43 from 'ionic-angular/gestures/gesture-controller';\nimport * as i44 from 'ionic-angular/components/toast/toast-controller';\nimport * as i45 from 'ionic-angular/transitions/transition-controller';\nimport * as i46 from '@ionic/storage/es2015/storage';\nimport * as i47 from '@ionic-native/splash-screen/index';\nimport * as i48 from '@ionic-native/status-bar/index';\nimport * as i49 from '@ionic-native/android-full-screen/index';\nimport * as i50 from 'ionic-angular/util/ionic-error-handler';\nimport * as i51 from '@ionic-native/file/index';\nimport * as i52 from '@ionic-native/device/index';\nimport * as i53 from '../providers/api/api';\nimport * as i54 from '../providers/utils/utils';\nimport * as i55 from '../providers/stimuli/stimuli';\nimport * as i56 from '../providers/training/training';\nimport * as i57 from '../providers/pair-comparison/pair-comparison';\nimport * as i58 from '../providers/output-estimation/output-estimation';\nimport * as i59 from '../providers/ranking-task/ranking-task';\nimport * as i60 from '../providers/data/data';\nimport * as i61 from 'ionic-angular/platform/platform-registry';\nimport * as i62 from 'ionic-angular/components/app/menu-controller';\nimport * as i63 from 'ionic-angular/util/ng-module-loader';\nimport * as i64 from 'ionic-angular/config/mode-registry';\nimport * as i65 from '@ngx-translate/core/index';\nimport * as i66 from '@ionic/storage/es2015/index';\nimport * as i67 from './app.component';\nexport const AppModuleNgFactory:i0.NgModuleFactory<i1.AppModule> = i0.ɵcmf(i1.AppModule,\n    [i2.IonicApp],(_l:any) => {\n      return i0.ɵmod([i0.ɵmpd(512,i0.ComponentFactoryResolver,i0.ɵCodegenComponentFactoryResolver,\n          [[8,[i3.ActionSheetCmpNgFactory,i4.AlertCmpNgFactory,i5.IonicAppNgFactory,\n              i6.LoadingCmpNgFactory,i7.ModalCmpNgFactory,i8.PickerCmpNgFactory,i9.PopoverCmpNgFactory,\n              i10.SelectPopoverNgFactory,i11.ToastCmpNgFactory,i12.MyAppNgFactory]],\n              [3,i0.ComponentFactoryResolver],i0.NgModuleRef]),i0.ɵmpd(5120,i0.LOCALE_ID,\n          i0.ɵm,[[3,i0.LOCALE_ID]]),i0.ɵmpd(4608,i13.NgLocalization,i13.NgLocaleLocalization,\n          [i0.LOCALE_ID]),i0.ɵmpd(5120,i0.APP_ID,i0.ɵf,([] as any[])),i0.ɵmpd(5120,\n          i0.IterableDiffers,i0.ɵk,([] as any[])),i0.ɵmpd(5120,i0.KeyValueDiffers,\n          i0.ɵl,([] as any[])),i0.ɵmpd(4608,i14.DomSanitizer,i14.ɵe,[i13.DOCUMENT]),\n          i0.ɵmpd(6144,i0.Sanitizer,(null as any),[i14.DomSanitizer]),i0.ɵmpd(4608,\n              i14.HAMMER_GESTURE_CONFIG,i15.IonicGestureConfig,([] as any[])),i0.ɵmpd(5120,\n              i14.EVENT_MANAGER_PLUGINS,(p0_0:any,p1_0:any,p2_0:any,p2_1:any) => {\n                return [new i14.ɵDomEventsPlugin(p0_0),new i14.ɵKeyEventsPlugin(p1_0),\n                    new i14.ɵHammerGesturesPlugin(p2_0,p2_1)];\n              },[i13.DOCUMENT,i13.DOCUMENT,i13.DOCUMENT,i14.HAMMER_GESTURE_CONFIG]),\n          i0.ɵmpd(4608,i14.EventManager,i14.EventManager,[i14.EVENT_MANAGER_PLUGINS,\n              i0.NgZone]),i0.ɵmpd(135680,i14.ɵDomSharedStylesHost,i14.ɵDomSharedStylesHost,\n              [i13.DOCUMENT]),i0.ɵmpd(4608,i14.ɵDomRendererFactory2,i14.ɵDomRendererFactory2,\n              [i14.EventManager,i14.ɵDomSharedStylesHost]),i0.ɵmpd(6144,i0.RendererFactory2,\n              (null as any),[i14.ɵDomRendererFactory2]),i0.ɵmpd(6144,i14.ɵSharedStylesHost,\n              (null as any),[i14.ɵDomSharedStylesHost]),i0.ɵmpd(4608,i0.Testability,\n              i0.Testability,[i0.NgZone]),i0.ɵmpd(4608,i14.Meta,i14.Meta,[i13.DOCUMENT]),\n          i0.ɵmpd(4608,i14.Title,i14.Title,[i13.DOCUMENT]),i0.ɵmpd(4608,i16.HttpXsrfTokenExtractor,\n              i16.ɵg,[i13.DOCUMENT,i0.PLATFORM_ID,i16.ɵe]),i0.ɵmpd(4608,i16.ɵh,i16.ɵh,\n              [i16.HttpXsrfTokenExtractor,i16.ɵf]),i0.ɵmpd(5120,i16.HTTP_INTERCEPTORS,\n              (p0_0:any) => {\n                return [p0_0];\n              },[i16.ɵh]),i0.ɵmpd(4608,i16.ɵd,i16.ɵd,([] as any[])),i0.ɵmpd(6144,i16.XhrFactory,\n              (null as any),[i16.ɵd]),i0.ɵmpd(4608,i16.HttpXhrBackend,i16.HttpXhrBackend,\n              [i16.XhrFactory]),i0.ɵmpd(6144,i16.HttpBackend,(null as any),[i16.HttpXhrBackend]),\n          i0.ɵmpd(5120,i16.HttpHandler,i16.ɵinterceptingHandler,[i16.HttpBackend,[2,\n              i16.HTTP_INTERCEPTORS]]),i0.ɵmpd(4608,i16.HttpClient,i16.HttpClient,\n              [i16.HttpHandler]),i0.ɵmpd(4608,i17.ɵi,i17.ɵi,([] as any[])),i0.ɵmpd(4608,\n              i17.FormBuilder,i17.FormBuilder,([] as any[])),i0.ɵmpd(5120,i18.TranslateLoader,\n              i1.createTranslateLoader,[i16.HttpClient]),i0.ɵmpd(4608,i19.TranslateCompiler,\n              i19.TranslateFakeCompiler,([] as any[])),i0.ɵmpd(4608,i20.TranslateParser,\n              i20.TranslateDefaultParser,([] as any[])),i0.ɵmpd(4608,i21.MissingTranslationHandler,\n              i21.FakeMissingTranslationHandler,([] as any[])),i0.ɵmpd(4608,i22.TranslateStore,\n              i22.TranslateStore,([] as any[])),i0.ɵmpd(4608,i23.TranslateService,\n              i23.TranslateService,[i22.TranslateStore,i18.TranslateLoader,i19.TranslateCompiler,\n                  i20.TranslateParser,i21.MissingTranslationHandler,i23.USE_DEFAULT_LANG,\n                  i23.USE_STORE]),i0.ɵmpd(4608,i24.ActionSheetController,i24.ActionSheetController,\n              [i25.App,i26.Config]),i0.ɵmpd(4608,i27.AlertController,i27.AlertController,\n              [i25.App,i26.Config]),i0.ɵmpd(4608,i28.Events,i28.Events,([] as any[])),\n          i0.ɵmpd(4608,i29.Form,i29.Form,([] as any[])),i0.ɵmpd(4608,i30.Haptic,i30.Haptic,\n              [i31.Platform]),i0.ɵmpd(4608,i32.Keyboard,i32.Keyboard,[i26.Config,i31.Platform,\n              i0.NgZone,i33.DomController]),i0.ɵmpd(4608,i34.LoadingController,i34.LoadingController,\n              [i25.App,i26.Config]),i0.ɵmpd(5120,i13.LocationStrategy,i35.provideLocationStrategy,\n              [i13.PlatformLocation,[2,i13.APP_BASE_HREF],i26.Config]),i0.ɵmpd(4608,\n              i13.Location,i13.Location,[i13.LocationStrategy]),i0.ɵmpd(5120,i36.UrlSerializer,\n              i36.setupUrlSerializer,[i25.App,i36.DeepLinkConfigToken]),i0.ɵmpd(5120,\n              i37.DeepLinker,i37.setupDeepLinker,[i25.App,i36.UrlSerializer,i13.Location,\n                  i38.ModuleLoader,i0.ComponentFactoryResolver]),i0.ɵmpd(4608,i39.ModalController,\n              i39.ModalController,[i25.App,i26.Config,i37.DeepLinker]),i0.ɵmpd(4608,\n              i40.PickerController,i40.PickerController,[i25.App,i26.Config]),i0.ɵmpd(4608,\n              i41.PopoverController,i41.PopoverController,[i25.App,i26.Config,i37.DeepLinker]),\n          i0.ɵmpd(4608,i42.TapClick,i42.TapClick,[i26.Config,i31.Platform,i33.DomController,\n              i25.App,i43.GestureController]),i0.ɵmpd(4608,i44.ToastController,i44.ToastController,\n              [i25.App,i26.Config]),i0.ɵmpd(4608,i45.TransitionController,i45.TransitionController,\n              [i31.Platform,i26.Config]),i0.ɵmpd(5120,i46.Storage,i46.provideStorage,\n              [i46.StorageConfigToken]),i0.ɵmpd(4608,i47.SplashScreen,i47.SplashScreen,\n              ([] as any[])),i0.ɵmpd(4608,i48.StatusBar,i48.StatusBar,([] as any[])),\n          i0.ɵmpd(4608,i49.AndroidFullScreen,i49.AndroidFullScreen,([] as any[])),\n          i0.ɵmpd(4608,i50.IonicErrorHandler,i50.IonicErrorHandler,([] as any[])),\n          i0.ɵmpd(4608,i51.File,i51.File,([] as any[])),i0.ɵmpd(4608,i52.Device,i52.Device,\n              ([] as any[])),i0.ɵmpd(4608,i53.Api,i53.Api,[i16.HttpClient]),i0.ɵmpd(4608,\n              i54.Utils,i54.Utils,([] as any[])),i0.ɵmpd(4608,i55.Stimuli,i55.Stimuli,\n              [i54.Utils,i31.Platform]),i0.ɵmpd(4608,i56.TrainingProvider,i56.TrainingProvider,\n              [i54.Utils,i55.Stimuli]),i0.ɵmpd(4608,i57.PairComparisonProvider,i57.PairComparisonProvider,\n              [i54.Utils,i55.Stimuli]),i0.ɵmpd(4608,i58.OutputEstimationProvider,i58.OutputEstimationProvider,\n              [i54.Utils,i55.Stimuli,i56.TrainingProvider]),i0.ɵmpd(4608,i59.RankingTaskProvider,\n              i59.RankingTaskProvider,[i23.TranslateService]),i0.ɵmpd(4608,i60.Data,\n              i60.Data,[i46.Storage,i51.File,i53.Api,i31.Platform,i52.Device,i55.Stimuli,\n                  i56.TrainingProvider,i57.PairComparisonProvider,i58.OutputEstimationProvider,\n                  i59.RankingTaskProvider]),i0.ɵmpd(512,i13.CommonModule,i13.CommonModule,\n              ([] as any[])),i0.ɵmpd(512,i0.ErrorHandler,i1.MyErrorHandler,[i0.Injector]),\n          i0.ɵmpd(256,i26.ConfigToken,{preloadModules:true},([] as any[])),i0.ɵmpd(1024,\n              i61.PlatformConfigToken,i61.providePlatformConfigs,([] as any[])),i0.ɵmpd(1024,\n              i31.Platform,i31.setupPlatform,[i14.DOCUMENT,i61.PlatformConfigToken,\n                  i0.NgZone]),i0.ɵmpd(1024,i26.Config,i26.setupConfig,[i26.ConfigToken,\n              i31.Platform]),i0.ɵmpd(512,i33.DomController,i33.DomController,[i31.Platform]),\n          i0.ɵmpd(512,i62.MenuController,i62.MenuController,([] as any[])),i0.ɵmpd(512,\n              i25.App,i25.App,[i26.Config,i31.Platform,[2,i62.MenuController]]),i0.ɵmpd(512,\n              i43.GestureController,i43.GestureController,[i25.App]),i0.ɵmpd(256,i36.DeepLinkConfigToken,\n              {links:[{loadChildren:'../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory#OutputEstimationInstructionsPageModuleNgFactory',\n                  name:'OutputEstimationInstructionsPage',segment:'output-estimation-instructions',\n                  priority:'low',defaultHistory:([] as any[])},{loadChildren:'../pages/consent-form/consent-form.module.ngfactory#ConsentFormPageModuleNgFactory',\n                  name:'ConsentFormPage',segment:'consent-form',priority:'low',defaultHistory:([] as any[])},\n                  {loadChildren:'../pages/instructions-check/instructions-check.module.ngfactory#InstructionsCheckPageModuleNgFactory',\n                      name:'InstructionsCheckPage',segment:'instructions-check',priority:'low',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/output-estimation/output-estimation.module.ngfactory#OutputEstimationPageModuleNgFactory',\n                      name:'OutputEstimationPage',segment:'output-estimation',priority:'low',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory#PairComparisonInstructionsPageModuleNgFactory',\n                      name:'PairComparisonInstructionsPage',segment:'pair-comparison-instructions',\n                      priority:'low',defaultHistory:([] as any[])},{loadChildren:'../pages/ranking-task/ranking-task.module.ngfactory#RankingTaskPageModuleNgFactory',\n                      name:'RankingTaskPage',segment:'ranking-task',priority:'low',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/registration-online/registration-online.module.ngfactory#RegistrationOnlinePageModuleNgFactory',\n                      name:'RegistrationOnlinePage',segment:'registration-online',\n                      priority:'high',defaultHistory:([] as any[])},{loadChildren:'../pages/pair-comparison/pair-comparison.module.ngfactory#PairComparisonPageModuleNgFactory',\n                      name:'PairComparisonPage',segment:'pair-comparison',priority:'low',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/training-instructions/training-instructions.module.ngfactory#TrainingInstructionsPageModuleNgFactory',\n                      name:'TrainingInstructionsPage',segment:'training-instructions',\n                      priority:'high',defaultHistory:([] as any[])},{loadChildren:'../pages/registration/registration.module.ngfactory#RegistrationPageModuleNgFactory',\n                      name:'RegistrationPage',segment:'registration',priority:'high',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/reward/reward.module.ngfactory#RewardPageModuleNgFactory',\n                      name:'RewardPage',segment:'reward',priority:'low',defaultHistory:([] as any[])},\n                  {loadChildren:'../pages/training-instructions2/training-instructions2.module.ngfactory#TrainingInstructions2PageModuleNgFactory',\n                      name:'TrainingInstructions2Page',segment:'training-instructions2',\n                      priority:'low',defaultHistory:([] as any[])},{loadChildren:'../pages/view-records/view-records.module.ngfactory#ViewRecordsPageModuleNgFactory',\n                      name:'ViewRecordsPage',segment:'view-records',priority:'low',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/training/training.module.ngfactory#TrainingPageModuleNgFactory',\n                      name:'TrainingPage',segment:'training',priority:'high',defaultHistory:([] as any[])}]},\n              ([] as any[])),i0.ɵmpd(512,i0.Compiler,i0.Compiler,([] as any[])),i0.ɵmpd(512,\n              i63.NgModuleLoader,i63.NgModuleLoader,[i0.Compiler]),i0.ɵmpd(1024,i38.ModuleLoader,\n              i38.provideModuleLoader,[i63.NgModuleLoader,i0.Injector]),i0.ɵmpd(1024,\n              i0.APP_INITIALIZER,(p0_0:any,p0_1:any,p1_0:any,p2_0:any,p2_1:any,p3_0:any,\n                  p3_1:any,p3_2:any,p3_3:any,p3_4:any,p4_0:any,p4_1:any,p4_2:any,p4_3:any) => {\n                return [i14.ɵc(p0_0,p0_1),i64.registerModeConfigs(p1_0),i28.setupProvideEvents(p2_0,\n                    p2_1),i42.setupTapClick(p3_0,p3_1,p3_2,p3_3,p3_4),i38.setupPreloading(p4_0,\n                    p4_1,p4_2,p4_3)];\n              },[[2,i14.NgProbeToken],[2,i0.NgProbeToken],i26.Config,i31.Platform,\n                  i33.DomController,i26.Config,i31.Platform,i33.DomController,i25.App,\n                  i43.GestureController,i26.Config,i36.DeepLinkConfigToken,i38.ModuleLoader,\n                  i0.NgZone]),i0.ɵmpd(512,i0.ApplicationInitStatus,i0.ApplicationInitStatus,\n              [[2,i0.APP_INITIALIZER]]),i0.ɵmpd(131584,i0.ɵe,i0.ɵe,[i0.NgZone,i0.ɵConsole,\n              i0.Injector,i0.ErrorHandler,i0.ComponentFactoryResolver,i0.ApplicationInitStatus]),\n          i0.ɵmpd(2048,i0.ApplicationRef,(null as any),[i0.ɵe]),i0.ɵmpd(512,i0.ApplicationModule,\n              i0.ApplicationModule,[i0.ApplicationRef]),i0.ɵmpd(512,i14.BrowserModule,\n              i14.BrowserModule,[[3,i14.BrowserModule]]),i0.ɵmpd(512,i16.HttpClientXsrfModule,\n              i16.HttpClientXsrfModule,([] as any[])),i0.ɵmpd(512,i16.HttpClientModule,\n              i16.HttpClientModule,([] as any[])),i0.ɵmpd(512,i65.TranslateModule,\n              i65.TranslateModule,([] as any[])),i0.ɵmpd(512,i17.ɵba,i17.ɵba,([] as any[])),\n          i0.ɵmpd(512,i17.FormsModule,i17.FormsModule,([] as any[])),i0.ɵmpd(512,i17.ReactiveFormsModule,\n              i17.ReactiveFormsModule,([] as any[])),i0.ɵmpd(512,i35.IonicModule,i35.IonicModule,\n              ([] as any[])),i0.ɵmpd(512,i66.IonicStorageModule,i66.IonicStorageModule,\n              ([] as any[])),i0.ɵmpd(512,i1.AppModule,i1.AppModule,([] as any[])),\n          i0.ɵmpd(256,i16.ɵe,'XSRF-TOKEN',([] as any[])),i0.ɵmpd(256,i16.ɵf,'X-XSRF-TOKEN',\n              ([] as any[])),i0.ɵmpd(256,i23.USE_STORE,(undefined as any),([] as any[])),\n          i0.ɵmpd(256,i23.USE_DEFAULT_LANG,(undefined as any),([] as any[])),i0.ɵmpd(256,\n              i2.AppRootToken,i67.MyApp,([] as any[])),i0.ɵmpd(256,i13.APP_BASE_HREF,\n              '/',([] as any[])),i0.ɵmpd(256,i46.StorageConfigToken,{name:'data',driverOrder:['sqlite',\n              'indexeddb','websql']},([] as any[]))]);\n    });\n//# sourceMappingURL=data:application/json;base64,eyJmaWxlIjoiQzovVXNlcnMvbWVpbmkvTVBJL3Byb2plY3RzL210dC9zcmMvYXBwL2FwcC5tb2R1bGUubmdmYWN0b3J5LnRzIiwidmVyc2lvbiI6Mywic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibmc6Ly8vQzovVXNlcnMvbWVpbmkvTVBJL3Byb2plY3RzL210dC9zcmMvYXBwL2FwcC5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiICJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7In0=\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ngfactory.ts","import { platformBrowser } from '@angular/platform-browser';\n\nimport { AppModuleNgFactory } from './app.module.ngfactory';\nimport { enableProdMode } from '@angular/core';\n\n// RELEASE: disable console log\n// console.log = function(){};\n\nenableProdMode();\nplatformBrowser().bootstrapModuleFactory(AppModuleNgFactory);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","export class Participant {\n\n  code: string;\n  gender: string;\n  age: number;\n  ageGroup: string;\n  dob: Date;\n  grade: number;\n\n  constructor(code: string) {\n    this.code = code;\n  }\n\n  public equals(obj: Participant): boolean {\n    return this.code === obj.code;\n  }\n\n}  \n\n\n// WEBPACK FOOTER //\n// ./src/models/participant.ts","import { Injectable, EventEmitter } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { Utils } from '../utils/utils';\nimport { Participant } from '../../models/participant';\nimport { TESTS_ORDER, CONDITIONS, CONDITIONS_ACTIVE_ONLY, ONLINE_DEFAULT_CONDITION } from './constants';\nimport { AppInfo } from './app-info';\n\n@Injectable()\nexport class Stimuli {\n\n  appInfo: AppInfo = AppInfo;\n\n  public langChangedEvent: EventEmitter<string> = new EventEmitter();\n\n  activeOnlyVersion: boolean;\n\n  // onlineVersion\n  onlineVersion: boolean = false;\n \n  conditionIndex: number;\n  condition: { trainingTasks: number, func: number, training: string, testingOrder: number };\n  criterionFunctionIndex: number;\n  trainingTasksNuber: number;\n\n  initialTimestamp: number;\n  participant: Participant;\n  featuresOrder: string[];\n  trainingType: string;\n  testTypes: string[];\n  currentTestIndex: number = -1;\n  runInBrowser: boolean = false;\n  conditionCounterOverride: number = null;\n  questionsCheck: any[] = [];\n  questionsCheckCounter: number = 0;\n\n  constructor(private utils: Utils, private platform: Platform) {\n    //console.log('Hello Stimuli Provider');\n    this.participant = new Participant(\"anonymous-\" + this.utils.getCounterValue());\n    this.runInBrowser = this.platform.is('core') || this.platform.is('mobileweb');\n  }\n\n  initialize() {\n    this.initialTimestamp = Date.now();\n    this.participant = new Participant(\"anonymous-\" + this.utils.getCounterValue());\n    this.currentTestIndex = -1;\n  }\n\n  public setCondition(nTraining: number, func: number, trainingType: string, testingOrder: number) {\n    const condition = { \n      \"trainingTasks\": nTraining ? nTraining : ONLINE_DEFAULT_CONDITION.trainingTasks, \n      \"func\": func ? func : ONLINE_DEFAULT_CONDITION.func, \n      \"training\": trainingType ? trainingType : ONLINE_DEFAULT_CONDITION.training, \n      \"testingOrder\": testingOrder ? testingOrder : ONLINE_DEFAULT_CONDITION.testingOrder \n    }\n    this.condition = condition;\n  }\n\n  initializeConditions(isActiveOnly: boolean = false) {\n    this.activeOnlyVersion = isActiveOnly;\n    this.pickCondition();\n    this.pickFeaturesOrder();\n  }\n\n  pickCondition() {\n\n    let condition: { trainingTasks: number, func: number, training: string, testingOrder: number };\n\n    if (this.condition != null) {\n      condition = this.condition;\n      console.log(\"[DEBUG] Using condition override\", condition);\n    }\n\n    else {\n\n      let counter = 0;\n\n      if (this.conditionCounterOverride != null) {\n        //console.log(\"conditionCounterOverride\", this.conditionCounterOverride);\n        counter = this.conditionCounterOverride;\n      }\n      else {\n        counter = this.utils.getCounterValue();\n        //TODO: move to the data saving \n        this.utils.incrementCounter();\n      }\n\n      condition = CONDITIONS[counter % CONDITIONS.length];\n\n      if (this.activeOnlyVersion) {\n        condition = CONDITIONS_ACTIVE_ONLY[counter % CONDITIONS_ACTIVE_ONLY.length];\n        this.conditionIndex = counter % CONDITIONS_ACTIVE_ONLY.length;\n      }\n      else {\n        this.conditionIndex = counter % CONDITIONS.length;\n      }\n\n    }\n\n    this.condition = condition;\n    this.trainingType = condition.training;\n    this.testTypes = TESTS_ORDER[condition.testingOrder];\n\n    this.criterionFunctionIndex = condition.func;\n    this.trainingTasksNuber = condition.trainingTasks;\n\n    //console.log(\"[trainingType]\", this.trainingType);\n    //console.log(\"[testTypes]\", this.testTypes);\n  }\n\n  pickFeaturesOrder() {\n    let perms = this.utils.permute([\"feature_a\", \"feature_b\", \"feature_c\"]);\n    this.featuresOrder = this.utils.pickRandomFromArray(perms);\n    //console.log(\"[DEBUG] Features Order]\", this.featuresOrder);\n  }\n\n  isPassive() {\n    return this.trainingType == \"passive\";\n  }\n\n  isActive() {\n    return this.trainingType == \"active\";\n  }\n\n  getNextTestType() {\n    this.currentTestIndex++;\n    return this.testTypes[this.currentTestIndex];\n  }\n\n  runOutOfTests() {\n    return this.currentTestIndex >= (this.testTypes.length - 1);\n  }\n\n  calculateCriterion(feature_a: number, feature_b: number, feature_c: number): number {\n    if (this.criterionFunctionIndex == 1) {\n      return this.criterionFunction1(feature_a, feature_b, feature_c);\n    }\n    if (this.criterionFunctionIndex == 2) {\n      return this.criterionFunction2(feature_a, feature_b, feature_c);\n    }\n\n    return this.criterionFunction1(feature_a, feature_b, feature_c);\n  }\n\n  criterionFunction1(feature_a: number, feature_b: number, feature_c: number): number {\n    const features = {\n      \"feature_a\": feature_a,\n      \"feature_b\": feature_b,\n      \"feature_c\": feature_c\n    };\n    const x = features[this.featuresOrder[0]];\n    const y = features[this.featuresOrder[1]];\n    const z = features[this.featuresOrder[2]];\n    return (6 * x) + (3 * y) + z - 10;\n  }\n\n  // TODO: function 2\n  criterionFunction2(feature_a: number, feature_b: number, feature_c: number): number {\n    const features = {\n      \"feature_a\": feature_a,\n      \"feature_b\": feature_b,\n      \"feature_c\": feature_c\n    };\n    const x = features[this.featuresOrder[0]];\n    const y = features[this.featuresOrder[1]];\n    const z = features[this.featuresOrder[2]];\n    return x + y + z;\n  }\n\n  getParticipantAgeGroup() {\n    if (this.participant.age >= 18) return 18;\n    return this.participant.age;\n  }\n\n  setLang(langCode: string) {\n    this.langChangedEvent.emit(langCode);\n  }\n\n  hi() {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/stimuli.ts","import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/map';\n\n/*\n  Generated class for the UtilsProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class Utils {\n\n  constructor() {\n    //console.log('Hello Utils Provider');\n  }\n\n  getRandomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  shuffleArray(a) {\n    for (let i = a.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [a[i], a[j]] = [a[j], a[i]];\n    }\n  }\n\n  pickRandomFromArray(items) {\n    return items[Math.floor(Math.random()*items.length)];\n  }\n\n  range(start, end) {\n    return Array.from({length: (end - start)}, (v, k) => k + start);\n  }\n\n  combine(alphabet, length, curstr) {\n    if (curstr.length == length) return [curstr];\n    var ret = [];\n    for (var i = 0; i < alphabet.length; i++) {\n      ret.push.apply(ret, this.combine(alphabet, length, curstr + alphabet[i]));\n    }\n    return ret;\n  }\n\n  permute(permutation) {\n    var length = permutation.length,\n        result = [permutation.slice()],\n        c = new Array(length).fill(0),\n        i = 1, k, p;\n  \n    while (i < length) {\n      if (c[i] < i) {\n        k = i % 2 && c[i];\n        p = permutation[i];\n        permutation[i] = permutation[k];\n        permutation[k] = p;\n        ++c[i];\n        i = 1;\n        result.push(permutation.slice());\n      } else {\n        c[i] = 0;\n        ++i;\n      }\n    }\n    return result;\n  }\n\n\n\n  /* Counters */\n  getCounterValue(counterIndex: number = 1) {\n    let counterName = \"isrc-counter-\" + counterIndex;\n    if (localStorage.getItem(counterName) === null) {\n      return 0;\n    }\n    return parseInt(localStorage.getItem(counterName));\n  }\n\n  incrementCounter(counterIndex: number = 1) {\n    let counterName = \"isrc-counter-\" + counterIndex;\n    let count: number = 1;\n    if (localStorage.getItem(counterName) != null) {\n      count = parseInt(localStorage.getItem(counterName)) + 1;\n    }\n    localStorage.setItem(counterName, count.toString());  \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/utils/utils.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\n/*\r\n  Generated class for the UtilsProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\nvar Utils = (function () {\r\n    function Utils() {\r\n        //console.log('Hello Utils Provider');\r\n    }\r\n    Utils.prototype.getRandomInt = function (min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    };\r\n    Utils.prototype.shuffleArray = function (a) {\r\n        for (var i = a.length - 1; i > 0; i--) {\r\n            var j = Math.floor(Math.random() * (i + 1));\r\n            _a = [a[j], a[i]], a[i] = _a[0], a[j] = _a[1];\r\n        }\r\n        var _a;\r\n    };\r\n    Utils.prototype.pickRandomFromArray = function (items) {\r\n        return items[Math.floor(Math.random() * items.length)];\r\n    };\r\n    Utils.prototype.range = function (start, end) {\r\n        return Array.from({ length: (end - start) }, function (v, k) { return k + start; });\r\n    };\r\n    Utils.prototype.combine = function (alphabet, length, curstr) {\r\n        if (curstr.length == length)\r\n            return [curstr];\r\n        var ret = [];\r\n        for (var i = 0; i < alphabet.length; i++) {\r\n            ret.push.apply(ret, this.combine(alphabet, length, curstr + alphabet[i]));\r\n        }\r\n        return ret;\r\n    };\r\n    Utils.prototype.permute = function (permutation) {\r\n        var length = permutation.length, result = [permutation.slice()], c = new Array(length).fill(0), i = 1, k, p;\r\n        while (i < length) {\r\n            if (c[i] < i) {\r\n                k = i % 2 && c[i];\r\n                p = permutation[i];\r\n                permutation[i] = permutation[k];\r\n                permutation[k] = p;\r\n                ++c[i];\r\n                i = 1;\r\n                result.push(permutation.slice());\r\n            }\r\n            else {\r\n                c[i] = 0;\r\n                ++i;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /* Counters */\r\n    Utils.prototype.getCounterValue = function (counterIndex) {\r\n        if (counterIndex === void 0) { counterIndex = 1; }\r\n        var counterName = \"isrc-counter-\" + counterIndex;\r\n        if (localStorage.getItem(counterName) === null) {\r\n            return 0;\r\n        }\r\n        return parseInt(localStorage.getItem(counterName));\r\n    };\r\n    Utils.prototype.incrementCounter = function (counterIndex) {\r\n        if (counterIndex === void 0) { counterIndex = 1; }\r\n        var counterName = \"isrc-counter-\" + counterIndex;\r\n        var count = 1;\r\n        if (localStorage.getItem(counterName) != null) {\r\n            count = parseInt(localStorage.getItem(counterName)) + 1;\r\n        }\r\n        localStorage.setItem(counterName, count.toString());\r\n    };\r\n    return Utils;\r\n}());\r\nUtils = __decorate([\r\n    Injectable(),\r\n    __metadata(\"design:paramtypes\", [])\r\n], Utils);\r\nexport { Utils };\r\n//# sourceMappingURL=utils.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/utils/utils.ts.pre-build-optimizer.js","import { Injectable } from '@angular/core';\nimport { Monster } from '../../models/monster';\nimport { TrainingCard } from '../../models/training-card';\nimport { Utils } from '../utils/utils';\nimport { Stimuli } from '../stimuli/stimuli';\nimport { NUMBERS } from '../stimuli/constants';\n\n@Injectable()\nexport class TrainingProvider {\n\n  cards: TrainingCard[];\n  revealedCards: TrainingCard[];\n  revealedCardsCounter: number;\n\n  constructor(private utils: Utils, private stimuli: Stimuli) {\n    //console.log('Hello TrainingMonsters Provider');\n  }\n\n  initialize() {\n    this.cards = [];\n    this.revealedCards = [];\n    this.revealedCardsCounter = 0; //TODO: now redundant\n    this.generateCards();\n  }\n\n  generateCards() {\n    let genes = this.utils.combine([2, 3, 4], 3, \"\");\n    let ids = this.utils.range(1, genes.length + 1)\n    this.utils.shuffleArray(genes);\n    this.utils.shuffleArray(ids);\n\n    let i = 0;\n    for (let gene of genes) {\n\n      let monsterId = \"monster\" + (ids[i]);\n\n      let feature_a = parseInt(gene.charAt(0));\n      let feature_b = parseInt(gene.charAt(1));\n      let feature_c = parseInt(gene.charAt(2));\n\n      let criterion = this.stimuli.calculateCriterion(\n        feature_a,\n        feature_b,\n        feature_c\n      );\n\n      let monster = new Monster(\n        monsterId, \n        feature_a, \n        feature_b, \n        feature_c,\n        criterion\n      );\n      this.cards.push(new TrainingCard(monster));\n      i++;\n    }\n  }\n\n  getAllCards() {\n    return this.cards;\n  }\n\n  addCard(card: TrainingCard) {\n    this.cards.push(card);\n  }\n\n  deleteCard(card: TrainingCard) {\n    this.cards.splice(this.cards.indexOf(card), 1);\n  }\n\n  updateCard(card: TrainingCard) {\n    const idx = this.cards.indexOf(card);\n    this.cards[idx] = card;\n    if (card.hasBeenRevealed()) {\n      this.revealedCards.push(card);\n      this.revealedCardsCounter++;\n    }\n  }\n\n  getRevealedCardsCount() {\n    return this.revealedCardsCounter;\n  }\n\n  runOutOfTasks() {\n    return this.revealedCardsCounter >= this.stimuli.trainingTasksNuber;\n  }\n\n  getRevealedCards() {\n    let revealedCards: TrainingCard[] = [];\n    for (let card of this.cards) {\n      if (card.hasBeenRevealed()) {\n        revealedCards.push(card);\n      }\n    }\n    return revealedCards;\n  }\n\n  getUnrevealedCards() {\n    let unrevealedCards: TrainingCard[] = [];\n    for (let card of this.cards) {\n      if (!card.hasBeenRevealed()) {\n        unrevealedCards.push(card);\n      }\n    }\n    return unrevealedCards;\n  }\n\n  getRevealedMonsters() {\n    let revealedMonsters: Monster[] = [];\n    for (let card of this.cards) {\n      if (card.hasBeenRevealed()) {\n        revealedMonsters.push(card.monster);\n      }\n    }\n    return revealedMonsters;\n  }\n\n  getUnrevealedMonsters() {\n    let unrevealedMonsters: Monster[] = [];\n    for (let card of this.cards) {\n      if (!card.hasBeenRevealed()) {\n        unrevealedMonsters.push(card.monster);\n      }\n    }\n    return unrevealedMonsters;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/training/training.ts","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { File } from '@ionic-native/file';\r\nimport { Platform } from 'ionic-angular';\r\nimport { Device } from '@ionic-native/device';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport { Api } from '../api/api';\r\nimport { TrainingProvider } from '../training/training';\r\nimport { PairComparisonProvider } from '../pair-comparison/pair-comparison';\r\nimport { OutputEstimationProvider } from '../output-estimation/output-estimation';\r\nimport { RankingTaskProvider } from '../ranking-task/ranking-task';\r\nimport { AppInfo } from '../stimuli/app-info';\r\n\r\n\r\n@Injectable()\r\nexport class Data {\r\n\r\n  serverURI: string = \"\";\r\n  recordsNumber: number;\r\n  allRecords: any;\r\n\r\n  constructor(\r\n    private storage: Storage, \r\n    private filesystem: File, \r\n    private api: Api,\r\n    private platform: Platform,\r\n    private device: Device,\r\n    private stimuli: Stimuli, \r\n    private training: TrainingProvider,\r\n    private pairComparison: PairComparisonProvider, \r\n    private outputEstimation: OutputEstimationProvider,\r\n    private rankingTask: RankingTaskProvider\r\n  ) {\r\n      //console.log('Hello Data Provider');\r\n  }\r\n\r\n  initialize() {\r\n    this.updateRecordsNumber();\r\n  }\r\n\r\n  serializeStimuliData() {\r\n    let data = new Map();\r\n    let i = 0;\r\n\r\n    // save conditions data\r\n    data.set(\"condition\", this.stimuli.condition);\r\n    data.set(\"condition_index\", this.stimuli.conditionIndex);\r\n    data.set(\"condition_features_weigth_6\", this.stimuli.featuresOrder[0]);\r\n    data.set(\"condition_features_weigth_3\", this.stimuli.featuresOrder[1]);\r\n    data.set(\"condition_features_weigth_1\", this.stimuli.featuresOrder[2]);\r\n    data.set(\"condition_training_type\", this.stimuli.trainingType);\r\n    data.set(\"condition_tests_order_1\", this.stimuli.testTypes[0]);\r\n    data.set(\"condition_tests_order_2\", this.stimuli.testTypes[1]);\r\n\r\n    // save instructions check data\r\n    data.set(\"instructions_check_attempts_counter\", this.stimuli.questionsCheckCounter);\r\n    data.set(\"instructions_check_answers\", JSON.stringify(this.stimuli.questionsCheck));\r\n\r\n    // save training data (revealed cards)\r\n    i = 1;\r\n    for (let card of this.training.revealedCards) {\r\n      data.set(\"training_revealed_\"+i+\"_card\", card.monster != null ? card.monster.toString() : null);\r\n      i++;\r\n    }\r\n\r\n    // save training data (unrevealed cards)\r\n    i = 1;\r\n    for (let card of this.training.cards) {\r\n      if (!card.hasBeenRevealed()) {\r\n        data.set(\"training_unrevealed_\"+i+\"_card\", card.monster != null ? card.monster.toString() : null);\r\n      i++;\r\n      }\r\n    }\r\n\r\n    // save test \"pair comparison\" data\r\n    i = 1;\r\n    for (let question of this.pairComparison.questions) {\r\n      data.set(\"test_comparison_\"+i+\"_card_a\",  question.pair.left != null ? question.pair.left.toString() : null);\r\n      data.set(\"test_comparison_\"+i+\"_card_b\",  question.pair.right != null ? question.pair.right.toString() : null);\r\n      data.set(\"test_comparison_\"+i+\"_chosen_card\", question.chosenMonster != null ? question.chosenMonster.toString() : null);\r\n      data.set(\"test_comparison_\"+i+\"_correct\", question.isAnswerCorrect() ? 1 : 0);\r\n      i++;\r\n    }\r\n\r\n    // save test \"output estimation\" extrapolation data\r\n    i = 1;\r\n    for (let question of this.outputEstimation.questions) {\r\n      if (question.type === \"extrapolation\") {\r\n        data.set(\"test_estimation_extrapolation_\"+i+\"_card\", question.monster != null ? question.monster.toString() : null);\r\n        data.set(\"test_estimation_extrapolation_\"+i+\"_estimated_criterion\", question.guessedCriterion);\r\n        data.set(\"test_estimation_extrapolation_\"+i+\"_estimation_distance\", question.getAnswerDistance());\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // save test \"output estimation\" interpolation data\r\n    i = 1;\r\n    for (let question of this.outputEstimation.questions) {\r\n      if (question.type === \"interpolation\") {\r\n        data.set(\"test_estimation_interpolation_\"+i+\"_card\", question.monster != null ? question.monster.toString() : null);\r\n        data.set(\"test_estimation_interpolation_\"+i+\"_estimated_criterion\", question.guessedCriterion);\r\n        data.set(\"test_estimation_interpolation_\"+i+\"_estimation_distance\", question.getAnswerDistance());\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // save test \"output estimation\" recall data\r\n    i = 1;\r\n    for (let question of this.outputEstimation.questions) {\r\n      if (question.type === \"recall\") {\r\n        data.set(\"test_estimation_recall_\"+i+\"_card\", question.monster != null ? question.monster.toString() : null);\r\n        data.set(\"test_estimation_recall_\"+i+\"_estimated_criterion\", question.guessedCriterion);\r\n        data.set(\"test_estimation_recall_\"+i+\"_estimation_distance\", question.getAnswerDistance());\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // save ranking task data\r\n    i = 1;\r\n    for (let feature of this.rankingTask.features) {\r\n      data.set(\"ranking_task_feature_\"+i, feature.id);\r\n      i++;\r\n    }\r\n\r\n    // save ranking task free text question (some hopefully working sanitization here...)\r\n    let freeText = this.rankingTask.freeText != null ? this.rankingTask.freeText.replace(/[^\\w\\s!?\\-*+\\/\\.\\(\\)]/g,' ') : \"\";\r\n    freeText.replace(/\\r?\\n|\\r/g, ' ');\r\n    freeText = \"'\"+freeText+\"'\";\r\n    data.set(\"ranking_task_question_adults\", freeText);\r\n\r\n    // save rewards data\r\n    data.set(\"reward_test_comparison_cents\", this.pairComparison.getTotalReward());\r\n    data.set(\"reward_test_estimation_cents\", this.outputEstimation.getTotalReward());\r\n    const totalReward = this.pairComparison.getTotalReward() + this.outputEstimation.getTotalReward();\r\n    data.set(\"reward_total_cents\", totalReward);\r\n    data.set(\"reward_total_euros\", (totalReward / 100).toFixed(2));\r\n    data.set(\"reward_mturk_total_euros\", ((totalReward / 5) / 100).toFixed(2));\r\n\r\n    return this.mapToObj(data);\r\n  }\r\n\r\n  save() {\r\n    // Generate record ID\r\n    console.log(\"[DEBUG] DB driver: \" + this.storage.driver);\r\n    const recordId = \"record_\" + this.stimuli.participant.code;\r\n\r\n    // Create data object\r\n    let dataObject = {\r\n      \"participant\": this.getParticipantInfo(),\r\n      \"app\": this.getAppInfo(),\r\n      \"session\": this.getSessionInfo(),\r\n      \"data\": this.serializeStimuliData(),\r\n      \"platformInfo\": this.getPlatformInfo()\r\n    }\r\n    console.log(\"[DEBUG] Serialized data: \", dataObject);\r\n\r\n    // Save data\r\n    if (this.stimuli.runInBrowser) this.postDataToServer(dataObject);\r\n    else this.storage.set(recordId, dataObject);\r\n  }\r\n\r\n  getParticipantInfo() {\r\n    return {\r\n      \"code\": this.stimuli.participant.code,\r\n      \"age\": this.stimuli.participant.age,\r\n      \"ageGroup\": this.stimuli.participant.age,\r\n      \"grade\": this.stimuli.participant.grade,\r\n      \"gender\": this.stimuli.participant.gender\r\n    }\r\n  }\r\n\r\n  getSessionInfo() {\r\n    const now = new Date();\r\n    const duration = Math.floor(Date.now() - this.stimuli.initialTimestamp);\r\n    return {\r\n      \"datetime\": now.toJSON(),\r\n      \"duration\": duration\r\n    }\r\n  }\r\n\r\n  getAppInfo() {\r\n    return {\r\n      \"id\": AppInfo.id,\r\n      \"version\": AppInfo.version,\r\n      \"nameLabel\": AppInfo.nameLabel,\r\n      \"lang\": localStorage.getItem('lang')\r\n    }\r\n  }\r\n\r\n  getPlatformInfo() {\r\n    return {\r\n      'platform': {\r\n        'userAgent': this.platform.userAgent(),\r\n        'platforms': this.platform.platforms(),\r\n        'navigatorPlatform': this.platform.navigatorPlatform(),\r\n        'height': this.platform.height(),\r\n        'width': this.platform.width()\r\n      },\r\n      'device': {\r\n        'uuid': this.device.uuid,\r\n        'model': this.device.model,\r\n        'cordovaVersion': this.device.cordova,\r\n        'version': this.device.version,\r\n        'manufacturer': this.device.manufacturer,\r\n        'serial': this.device.serial\r\n      }\r\n    }\r\n  }\r\n\r\n  postDataToServer(dataObject: any) {\r\n    const jsonData = JSON.stringify(dataObject);\r\n    console.log(\"[saving data][browser][participant_code]\", this.stimuli.participant.code);\r\n    console.log(\"[saving data][browser][data]\", dataObject);\r\n\r\n    const requestBody = {\r\n      participant_code: this.stimuli.participant.code,\r\n      data: jsonData\r\n    };\r\n\r\n    this.api.post(this.serverURI, requestBody).subscribe(\r\n      (resp) => {\r\n        console.log(\"[saving data][browser][POST] resp\", resp);\r\n      },\r\n      (err) => {\r\n        console.log(\"[saving data][browser][POST] ERROR!!!\", err);\r\n      }\r\n    );\r\n  }\r\n\r\n  loadAllRecords() {\r\n    this.storageGetAll()\r\n      .then(records => {\r\n        console.log(\"[debug] storage.loadAllRecords()\");\r\n        this.allRecords = records;\r\n        console.log(this.allRecords);\r\n      });\r\n  }\r\n\r\n  exportRecordsAsJSON() {\r\n    this.storageGetAll()\r\n      .then(records => {\r\n        console.log(\"records:\");\r\n        console.log(records);\r\n        let fileContent = JSON.stringify(records);\r\n        this.saveOutputFile(fileContent, \"json\");\r\n      });\r\n  }\r\n\r\n  exportRecordsAsCsv() {\r\n    this.storageGetAll()\r\n      .then(records => {\r\n        console.log(\"records:\");\r\n        console.log(records);\r\n        let csvContent = this.fromRecordsToCsv(records);\r\n        this.saveOutputFile(csvContent, \"csv\");\r\n      });\r\n  }\r\n\r\n  updateRecordsNumber() {\r\n    this.storageGetAll()\r\n      .then(records => {\r\n        if (records == null) return 0;\r\n        this.recordsNumber = records.length;\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Returns a Promise with the raw records from Storage\r\n   */\r\n  storageGetAll() {\r\n    return this.storage.keys()\r\n      .then(keys => Promise.all(keys.map(k => this.storage.get(k))));\r\n  }\r\n\r\n\r\n  fromRecordsToCsv(records) {\r\n    console.log(\"[DEBUG] fromRecordsToCsv: \", records);\r\n    let csvKeys = [];\r\n    let csvRows = [];\r\n    let first = true;\r\n    for (let record of records) {\r\n      if (first) {\r\n        csvKeys = Object.keys(record).map(x => JSON.stringify(x));\r\n        first = false;\r\n      }\r\n      let csvRow = Object.keys(record).map(key=>record[key]).map(x => JSON.stringify(x));\r\n      csvRows.push(csvRow.join(\",\"));\r\n    }\r\n    let csvContent = csvKeys.join(\",\") + \"\\n\";\r\n    csvContent += csvRows.join(\"\\n\");\r\n    return csvContent;\r\n  }\r\n\r\n  saveOutputFile(csvContent, fileExt = \"csv\") {\r\n    // build file name\r\n    let currentdate = new Date();\r\n    let day = (\"0\" + currentdate.getDate()).slice(-2);\r\n    let month = (\"0\" + (currentdate.getMonth() + 1)).slice(-2);\r\n    let filename = \"data-\" + day + month + currentdate.getFullYear() + \"-\"\r\n      + currentdate.getHours() + currentdate.getMinutes() + \".\" + fileExt;\r\n\r\n    // access file system\r\n    this.filesystem.resolveDirectoryUrl(this.filesystem.externalDataDirectory)\r\n      .then(directory => {\r\n        // get or create results file\r\n        this.filesystem.getFile(directory, filename, { create: true, exclusive: false })\r\n          .then(file => {\r\n            console.log(\"fileEntry is file?\" + file.isFile.toString());\r\n            this.writeFile(file, csvContent);\r\n          })\r\n          .catch(err => {\r\n            console.log(\"Resolve file error: \" + err);\r\n          });\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Resolve filesystem error: \" + err);\r\n      });\r\n  }\r\n\r\n  writeFile(fileEntry, data) {\r\n    fileEntry.createWriter(\r\n      function (writer) {\r\n        writer.onwriteend = function (evt) {\r\n          console.log(\"File successfully created!\");\r\n        };\r\n        writer.write(data);\r\n      },\r\n      function (evt, where) {\r\n        console.log(\"Error writing file \" + where + \" :\");\r\n        console.log(JSON.stringify(evt));\r\n      }\r\n    );\r\n  }\r\n\r\n  mapToObj(strMap) {\r\n    let obj = {};\r\n    strMap.forEach((value, key, map) => {\r\n      obj[key] = value;\r\n    });\r\n    return obj;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/data/data.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { File } from '@ionic-native/file';\r\nimport { Platform } from 'ionic-angular';\r\nimport { Device } from '@ionic-native/device';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport { Api } from '../api/api';\r\nimport { TrainingProvider } from '../training/training';\r\nimport { PairComparisonProvider } from '../pair-comparison/pair-comparison';\r\nimport { OutputEstimationProvider } from '../output-estimation/output-estimation';\r\nimport { RankingTaskProvider } from '../ranking-task/ranking-task';\r\nimport { AppInfo } from '../stimuli/app-info';\r\nvar Data = (function () {\r\n    function Data(storage, filesystem, api, platform, device, stimuli, training, pairComparison, outputEstimation, rankingTask) {\r\n        this.storage = storage;\r\n        this.filesystem = filesystem;\r\n        this.api = api;\r\n        this.platform = platform;\r\n        this.device = device;\r\n        this.stimuli = stimuli;\r\n        this.training = training;\r\n        this.pairComparison = pairComparison;\r\n        this.outputEstimation = outputEstimation;\r\n        this.rankingTask = rankingTask;\r\n        this.serverURI = \"\";\r\n        //console.log('Hello Data Provider');\r\n    }\r\n    Data.prototype.initialize = function () {\r\n        this.updateRecordsNumber();\r\n    };\r\n    Data.prototype.serializeStimuliData = function () {\r\n        var data = new Map();\r\n        var i = 0;\r\n        // save conditions data\r\n        data.set(\"condition\", this.stimuli.condition);\r\n        data.set(\"condition_index\", this.stimuli.conditionIndex);\r\n        data.set(\"condition_features_weigth_6\", this.stimuli.featuresOrder[0]);\r\n        data.set(\"condition_features_weigth_3\", this.stimuli.featuresOrder[1]);\r\n        data.set(\"condition_features_weigth_1\", this.stimuli.featuresOrder[2]);\r\n        data.set(\"condition_training_type\", this.stimuli.trainingType);\r\n        data.set(\"condition_tests_order_1\", this.stimuli.testTypes[0]);\r\n        data.set(\"condition_tests_order_2\", this.stimuli.testTypes[1]);\r\n        // save instructions check data\r\n        data.set(\"instructions_check_attempts_counter\", this.stimuli.questionsCheckCounter);\r\n        data.set(\"instructions_check_answers\", JSON.stringify(this.stimuli.questionsCheck));\r\n        // save training data (revealed cards)\r\n        i = 1;\r\n        for (var _i = 0, _a = this.training.revealedCards; _i < _a.length; _i++) {\r\n            var card = _a[_i];\r\n            data.set(\"training_revealed_\" + i + \"_card\", card.monster != null ? card.monster.toString() : null);\r\n            i++;\r\n        }\r\n        // save training data (unrevealed cards)\r\n        i = 1;\r\n        for (var _b = 0, _c = this.training.cards; _b < _c.length; _b++) {\r\n            var card = _c[_b];\r\n            if (!card.hasBeenRevealed()) {\r\n                data.set(\"training_unrevealed_\" + i + \"_card\", card.monster != null ? card.monster.toString() : null);\r\n                i++;\r\n            }\r\n        }\r\n        // save test \"pair comparison\" data\r\n        i = 1;\r\n        for (var _d = 0, _e = this.pairComparison.questions; _d < _e.length; _d++) {\r\n            var question = _e[_d];\r\n            data.set(\"test_comparison_\" + i + \"_card_a\", question.pair.left != null ? question.pair.left.toString() : null);\r\n            data.set(\"test_comparison_\" + i + \"_card_b\", question.pair.right != null ? question.pair.right.toString() : null);\r\n            data.set(\"test_comparison_\" + i + \"_chosen_card\", question.chosenMonster != null ? question.chosenMonster.toString() : null);\r\n            data.set(\"test_comparison_\" + i + \"_correct\", question.isAnswerCorrect() ? 1 : 0);\r\n            i++;\r\n        }\r\n        // save test \"output estimation\" extrapolation data\r\n        i = 1;\r\n        for (var _f = 0, _g = this.outputEstimation.questions; _f < _g.length; _f++) {\r\n            var question = _g[_f];\r\n            if (question.type === \"extrapolation\") {\r\n                data.set(\"test_estimation_extrapolation_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n                data.set(\"test_estimation_extrapolation_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n                data.set(\"test_estimation_extrapolation_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n                i++;\r\n            }\r\n        }\r\n        // save test \"output estimation\" interpolation data\r\n        i = 1;\r\n        for (var _h = 0, _j = this.outputEstimation.questions; _h < _j.length; _h++) {\r\n            var question = _j[_h];\r\n            if (question.type === \"interpolation\") {\r\n                data.set(\"test_estimation_interpolation_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n                data.set(\"test_estimation_interpolation_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n                data.set(\"test_estimation_interpolation_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n                i++;\r\n            }\r\n        }\r\n        // save test \"output estimation\" recall data\r\n        i = 1;\r\n        for (var _k = 0, _l = this.outputEstimation.questions; _k < _l.length; _k++) {\r\n            var question = _l[_k];\r\n            if (question.type === \"recall\") {\r\n                data.set(\"test_estimation_recall_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n                data.set(\"test_estimation_recall_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n                data.set(\"test_estimation_recall_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n                i++;\r\n            }\r\n        }\r\n        // save ranking task data\r\n        i = 1;\r\n        for (var _m = 0, _o = this.rankingTask.features; _m < _o.length; _m++) {\r\n            var feature = _o[_m];\r\n            data.set(\"ranking_task_feature_\" + i, feature.id);\r\n            i++;\r\n        }\r\n        // save ranking task free text question (some hopefully working sanitization here...)\r\n        var freeText = this.rankingTask.freeText != null ? this.rankingTask.freeText.replace(/[^\\w\\s!?\\-*+\\/\\.\\(\\)]/g, ' ') : \"\";\r\n        freeText.replace(/\\r?\\n|\\r/g, ' ');\r\n        freeText = \"'\" + freeText + \"'\";\r\n        data.set(\"ranking_task_question_adults\", freeText);\r\n        // save rewards data\r\n        data.set(\"reward_test_comparison_cents\", this.pairComparison.getTotalReward());\r\n        data.set(\"reward_test_estimation_cents\", this.outputEstimation.getTotalReward());\r\n        var totalReward = this.pairComparison.getTotalReward() + this.outputEstimation.getTotalReward();\r\n        data.set(\"reward_total_cents\", totalReward);\r\n        data.set(\"reward_total_euros\", (totalReward / 100).toFixed(2));\r\n        data.set(\"reward_mturk_total_euros\", ((totalReward / 5) / 100).toFixed(2));\r\n        return this.mapToObj(data);\r\n    };\r\n    Data.prototype.save = function () {\r\n        // Generate record ID\r\n        console.log(\"[DEBUG] DB driver: \" + this.storage.driver);\r\n        var recordId = \"record_\" + this.stimuli.participant.code;\r\n        // Create data object\r\n        var dataObject = {\r\n            \"participant\": this.getParticipantInfo(),\r\n            \"app\": this.getAppInfo(),\r\n            \"session\": this.getSessionInfo(),\r\n            \"data\": this.serializeStimuliData(),\r\n            \"platformInfo\": this.getPlatformInfo()\r\n        };\r\n        console.log(\"[DEBUG] Serialized data: \", dataObject);\r\n        // Save data\r\n        if (this.stimuli.runInBrowser)\r\n            this.postDataToServer(dataObject);\r\n        else\r\n            this.storage.set(recordId, dataObject);\r\n    };\r\n    Data.prototype.getParticipantInfo = function () {\r\n        return {\r\n            \"code\": this.stimuli.participant.code,\r\n            \"age\": this.stimuli.participant.age,\r\n            \"ageGroup\": this.stimuli.participant.age,\r\n            \"grade\": this.stimuli.participant.grade,\r\n            \"gender\": this.stimuli.participant.gender\r\n        };\r\n    };\r\n    Data.prototype.getSessionInfo = function () {\r\n        var now = new Date();\r\n        var duration = Math.floor(Date.now() - this.stimuli.initialTimestamp);\r\n        return {\r\n            \"datetime\": now.toJSON(),\r\n            \"duration\": duration\r\n        };\r\n    };\r\n    Data.prototype.getAppInfo = function () {\r\n        return {\r\n            \"id\": AppInfo.id,\r\n            \"version\": AppInfo.version,\r\n            \"nameLabel\": AppInfo.nameLabel,\r\n            \"lang\": localStorage.getItem('lang')\r\n        };\r\n    };\r\n    Data.prototype.getPlatformInfo = function () {\r\n        return {\r\n            'platform': {\r\n                'userAgent': this.platform.userAgent(),\r\n                'platforms': this.platform.platforms(),\r\n                'navigatorPlatform': this.platform.navigatorPlatform(),\r\n                'height': this.platform.height(),\r\n                'width': this.platform.width()\r\n            },\r\n            'device': {\r\n                'uuid': this.device.uuid,\r\n                'model': this.device.model,\r\n                'cordovaVersion': this.device.cordova,\r\n                'version': this.device.version,\r\n                'manufacturer': this.device.manufacturer,\r\n                'serial': this.device.serial\r\n            }\r\n        };\r\n    };\r\n    Data.prototype.postDataToServer = function (dataObject) {\r\n        var jsonData = JSON.stringify(dataObject);\r\n        console.log(\"[saving data][browser][participant_code]\", this.stimuli.participant.code);\r\n        console.log(\"[saving data][browser][data]\", dataObject);\r\n        var requestBody = {\r\n            participant_code: this.stimuli.participant.code,\r\n            data: jsonData\r\n        };\r\n        this.api.post(this.serverURI, requestBody).subscribe(function (resp) {\r\n            console.log(\"[saving data][browser][POST] resp\", resp);\r\n        }, function (err) {\r\n            console.log(\"[saving data][browser][POST] ERROR!!!\", err);\r\n        });\r\n    };\r\n    Data.prototype.loadAllRecords = function () {\r\n        var _this = this;\r\n        this.storageGetAll()\r\n            .then(function (records) {\r\n            console.log(\"[debug] storage.loadAllRecords()\");\r\n            _this.allRecords = records;\r\n            console.log(_this.allRecords);\r\n        });\r\n    };\r\n    Data.prototype.exportRecordsAsJSON = function () {\r\n        var _this = this;\r\n        this.storageGetAll()\r\n            .then(function (records) {\r\n            console.log(\"records:\");\r\n            console.log(records);\r\n            var fileContent = JSON.stringify(records);\r\n            _this.saveOutputFile(fileContent, \"json\");\r\n        });\r\n    };\r\n    Data.prototype.exportRecordsAsCsv = function () {\r\n        var _this = this;\r\n        this.storageGetAll()\r\n            .then(function (records) {\r\n            console.log(\"records:\");\r\n            console.log(records);\r\n            var csvContent = _this.fromRecordsToCsv(records);\r\n            _this.saveOutputFile(csvContent, \"csv\");\r\n        });\r\n    };\r\n    Data.prototype.updateRecordsNumber = function () {\r\n        var _this = this;\r\n        this.storageGetAll()\r\n            .then(function (records) {\r\n            if (records == null)\r\n                return 0;\r\n            _this.recordsNumber = records.length;\r\n        });\r\n    };\r\n    /**\r\n     * Returns a Promise with the raw records from Storage\r\n     */\r\n    Data.prototype.storageGetAll = function () {\r\n        var _this = this;\r\n        return this.storage.keys()\r\n            .then(function (keys) { return Promise.all(keys.map(function (k) { return _this.storage.get(k); })); });\r\n    };\r\n    Data.prototype.fromRecordsToCsv = function (records) {\r\n        console.log(\"[DEBUG] fromRecordsToCsv: \", records);\r\n        var csvKeys = [];\r\n        var csvRows = [];\r\n        var first = true;\r\n        var _loop_1 = function (record) {\r\n            if (first) {\r\n                csvKeys = Object.keys(record).map(function (x) { return JSON.stringify(x); });\r\n                first = false;\r\n            }\r\n            var csvRow = Object.keys(record).map(function (key) { return record[key]; }).map(function (x) { return JSON.stringify(x); });\r\n            csvRows.push(csvRow.join(\",\"));\r\n        };\r\n        for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\r\n            var record = records_1[_i];\r\n            _loop_1(record);\r\n        }\r\n        var csvContent = csvKeys.join(\",\") + \"\\n\";\r\n        csvContent += csvRows.join(\"\\n\");\r\n        return csvContent;\r\n    };\r\n    Data.prototype.saveOutputFile = function (csvContent, fileExt) {\r\n        var _this = this;\r\n        if (fileExt === void 0) { fileExt = \"csv\"; }\r\n        // build file name\r\n        var currentdate = new Date();\r\n        var day = (\"0\" + currentdate.getDate()).slice(-2);\r\n        var month = (\"0\" + (currentdate.getMonth() + 1)).slice(-2);\r\n        var filename = \"data-\" + day + month + currentdate.getFullYear() + \"-\"\r\n            + currentdate.getHours() + currentdate.getMinutes() + \".\" + fileExt;\r\n        // access file system\r\n        this.filesystem.resolveDirectoryUrl(this.filesystem.externalDataDirectory)\r\n            .then(function (directory) {\r\n            // get or create results file\r\n            _this.filesystem.getFile(directory, filename, { create: true, exclusive: false })\r\n                .then(function (file) {\r\n                console.log(\"fileEntry is file?\" + file.isFile.toString());\r\n                _this.writeFile(file, csvContent);\r\n            })\r\n                .catch(function (err) {\r\n                console.log(\"Resolve file error: \" + err);\r\n            });\r\n        })\r\n            .catch(function (err) {\r\n            console.log(\"Resolve filesystem error: \" + err);\r\n        });\r\n    };\r\n    Data.prototype.writeFile = function (fileEntry, data) {\r\n        fileEntry.createWriter(function (writer) {\r\n            writer.onwriteend = function (evt) {\r\n                console.log(\"File successfully created!\");\r\n            };\r\n            writer.write(data);\r\n        }, function (evt, where) {\r\n            console.log(\"Error writing file \" + where + \" :\");\r\n            console.log(JSON.stringify(evt));\r\n        });\r\n    };\r\n    Data.prototype.mapToObj = function (strMap) {\r\n        var obj = {};\r\n        strMap.forEach(function (value, key, map) {\r\n            obj[key] = value;\r\n        });\r\n        return obj;\r\n    };\r\n    return Data;\r\n}());\r\nData = __decorate([\r\n    Injectable(),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Storage !== \"undefined\" && Storage) === \"function\" && _a || Object, typeof (_b = typeof File !== \"undefined\" && File) === \"function\" && _b || Object, typeof (_c = typeof Api !== \"undefined\" && Api) === \"function\" && _c || Object, typeof (_d = typeof Platform !== \"undefined\" && Platform) === \"function\" && _d || Object, typeof (_e = typeof Device !== \"undefined\" && Device) === \"function\" && _e || Object, typeof (_f = typeof Stimuli !== \"undefined\" && Stimuli) === \"function\" && _f || Object, typeof (_g = typeof TrainingProvider !== \"undefined\" && TrainingProvider) === \"function\" && _g || Object, typeof (_h = typeof PairComparisonProvider !== \"undefined\" && PairComparisonProvider) === \"function\" && _h || Object, typeof (_j = typeof OutputEstimationProvider !== \"undefined\" && OutputEstimationProvider) === \"function\" && _j || Object, typeof (_k = typeof RankingTaskProvider !== \"undefined\" && RankingTaskProvider) === \"function\" && _k || Object])\r\n], Data);\r\nexport { Data };\r\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n//# sourceMappingURL=data.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/data/data.ts.pre-build-optimizer.js","export class Monster {\n\n  id: string;\n  img: string;\n  feature_a: number\n  feature_b: number;\n  feature_c: number;\n  criterion: number;\n\n  constructor(id: string = \"default\", feature_a: number = 0, feature_b: number = 0, feature_c: number = 0, criterion: number = 0) {\n    this.id = id;\n    this.img = \"assets/img/monsters/\" + id + \".png\";\n    this.feature_a = feature_a;\n    this.feature_b = feature_b;\n    this.feature_c = feature_c;\n    this.criterion = criterion;\n  }\n\n  public updateId(id: string) {\n    this.id = id;\n    this.img = \"assets/img/monsters/\" + id + \".png\";\n  }\n\n  public equals(obj: Monster): boolean {\n    return this.id === obj.id;\n  }\n\n  public toString() {\n    return this.feature_a + \";\" + this.feature_b + \";\" + this.feature_c  + \";\" + this.criterion + \";\" + this.id;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/monster.ts","import { Monster } from './monster';\n\nexport class Pair {\n\n  left: Monster;\n  right: Monster;\n\n  constructor(leftMonster: Monster, rightMonster: Monster) {\n    this.left = leftMonster;\n    this.right = rightMonster;\n  }\n\n  getWinner() {\n    if (this.left.criterion > this.right.criterion) {\n      return this.left;\n    }\n    return this.right;\n  }\n\n  public equals(obj: Pair) : boolean { \n    return this.left === obj.left && this.right === obj.right;\n  } \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/pair.ts","import { Pair } from './pair';\nimport { Monster } from './monster';\n\nexport class PairComparisonQuestion {\n\n  pair: Pair;\n  chosenMonster: Monster;\n\n  constructor(questionPair: Pair) {\n    this.pair = questionPair;\n  }\n\n  answer(monster: Monster) {\n    this.chosenMonster = monster;\n  }\n\n  isAnswerCorrect() {\n    return this.pair.getWinner() == this.chosenMonster;\n  }\n\n  getAnswerReward() {\n    if (this.isAnswerCorrect()) return 20;\n    return 0;\n  }\n\n  public equals(obj: PairComparisonQuestion) : boolean { \n    return this.pair === obj.pair && this.chosenMonster === obj.chosenMonster;\n  } \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/pair-comparison-question.ts","import { Injectable } from '@angular/core';\nimport { Monster } from '../../models/monster';\nimport { Pair } from '../../models/pair';\nimport { PairComparisonQuestion } from '../../models/pair-comparison-question';\nimport { Utils } from '../utils/utils';\nimport { Stimuli } from '../stimuli/stimuli';\nimport 'rxjs/add/operator/map';\nimport { NUMBERS, PAIR_COMPARISONS } from '../stimuli/constants';\n\n/*\n  Generated class for the PairComparisonProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class PairComparisonProvider {\n\n  questions: PairComparisonQuestion[] = [];\n  questionsCounter: number = -1;\n\n  constructor(private utils: Utils, private stimuli: Stimuli) {\n    //console.log('Hello PairComparisonProvider Provider');\n  }\n\n  initialize() {\n    this.questions = [];\n    this.questionsCounter = -1;\n    this.generateQuestions();\n  }\n\n  generateQuestions() {\n\n    // generate monsters IDs\n    let ids = [];\n    let counter = NUMBERS.TRAINING_CARDS + 1;\n    while (ids.length < (NUMBERS.PAIR_COMPARISONS*2)) {\n      ids.push(\"monster\"+counter);\n      counter++;\n    }\n    this.utils.shuffleArray(ids);\n    //console.log(ids);\n\n    // generate pairs\n    let j=0;\n    for (let i=0; i < NUMBERS.PAIR_COMPARISONS; i++) {\n\n      let pairMonsters = [];\n\n      // generate monster a\n      const features_a = PAIR_COMPARISONS[i][0];\n      const criterion_a = this.stimuli.calculateCriterion(\n        features_a[0],\n        features_a[1],\n        features_a[2]\n      );\n      pairMonsters.push(new Monster(ids[j], features_a[0], features_a[1], features_a[2], criterion_a));\n      j++;\n\n      // generate monster b\n      let features_b = PAIR_COMPARISONS[i][1];\n      const criterion_b = this.stimuli.calculateCriterion(\n        features_b[0],\n        features_b[1],\n        features_b[2]\n      );\n      pairMonsters.push(new Monster(ids[j], features_b[0], features_b[1], features_b[2], criterion_b));\n      j++;\n\n      // generate pair\n      this.utils.shuffleArray(pairMonsters);\n      const pair = new Pair(pairMonsters[0], pairMonsters[1]);\n      const question = new PairComparisonQuestion(pair);\n      this.questions.push(question);\n    }\n    \n  }\n\n  getNextQuestion() {\n    this.questionsCounter++;\n    return this.questions[this.questionsCounter];\n  }\n\n  updateQuestion(question: PairComparisonQuestion) {\n    const idx = this.questions.indexOf(question);\n    this.questions[idx] = question;\n  }\n\n  runOutOfQuestions() {\n    return this.questionsCounter >= (this.questions.length - 1);\n  }\n\n  getTotalReward() {\n    let total = 0;\n    for (let question of this.questions) {\n      total = total + question.getAnswerReward();\n    }\n    return total;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/pair-comparison/pair-comparison.ts","import { Monster } from './monster';\n\nexport class OutputEstimationQuestion {\n\n  type: string;\n  monster: Monster;\n  guessedCriterion: number;\n\n  constructor(type: string, monster: Monster) {\n    this.type = type;\n    this.monster = monster;\n  }\n\n  isAnswerCorrect() {\n    return this.monster.criterion == this.guessedCriterion;\n  }\n\n  getAnswerDistance() {\n    return Math.abs(this.guessedCriterion - this.monster.criterion);\n  }\n\n  getAnswerReward() {\n    if (this.getAnswerDistance() <= 5) return 30;\n    if (this.getAnswerDistance() <= 10) return 20;\n    if (this.getAnswerDistance() <= 20) return 10;\n    return 0;\n  }\n\n  public equals(obj: OutputEstimationQuestion) : boolean { \n    return this.type === obj.type && this.monster === obj.monster;\n  } \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/output-estimation-question.ts","import { Injectable } from '@angular/core';\nimport { Monster } from '../../models/monster';\nimport { OutputEstimationQuestion } from '../../models/output-estimation-question';\nimport { Utils } from '../utils/utils';\nimport { Stimuli } from '../stimuli/stimuli';\nimport { TrainingProvider } from '../training/training';\nimport 'rxjs/add/operator/map';\nimport { NUMBERS } from '../stimuli/constants';\n\n@Injectable()\nexport class OutputEstimationProvider {\n\n  questions: OutputEstimationQuestion[] = [];\n  questionsCounter: number = -1;\n\n  constructor(private utils: Utils, private stimuli: Stimuli, private training: TrainingProvider) {\n    //console.log('Hello OutputEstimationProvider Provider');\n    //this.generateQuestions();\n  }\n\n  initialize() {\n    this.questions = [];\n    this.questionsCounter = -1;\n    this.generateQuestions();\n  }\n\n  generateQuestions() {\n\n    // generate monsters IDs\n    const firstId = NUMBERS.TRAINING_CARDS + NUMBERS.PAIR_COMPARISONS + 1;\n    const questionsNumber = NUMBERS.OUTPUT_ESTIMATION_EXTRAPOLATION + NUMBERS.OUTPUT_ESTIMATION_INTERPOLATION\n      + NUMBERS.OUTPUT_ESTIMATION_RECALL;\n    let ids = this.utils.range(firstId, firstId + questionsNumber);\n    this.utils.shuffleArray(ids);\n    //console.log(ids);\n\n    // generate interpolation questions\n    let unrevealedMonsters = this.training.getUnrevealedMonsters();\n    let baseIdIndex = 0;\n    for (let i = 0; i < NUMBERS.OUTPUT_ESTIMATION_INTERPOLATION; i++) {\n      unrevealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\n      let question = new OutputEstimationQuestion(\"interpolation\", unrevealedMonsters[i]);\n      this.questions.push(question);\n    }\n\n    // generate recall questions\n    let revealedMonsters = this.training.getRevealedMonsters();\n    baseIdIndex = this.questions.length;\n    for (let i = 0; i < NUMBERS.OUTPUT_ESTIMATION_RECALL; i++) {  \n      revealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\n      let question = new OutputEstimationQuestion(\"recall\", revealedMonsters[i]);\n      this.questions.push(question);\n    }\n\n    // generate extrapolation questions\n    let genes = this.utils.combine([1, 5], 3, \"\");\n    baseIdIndex = this.questions.length;\n    //console.log(\"extr base index\", baseIdIndex);\n    let i = 0;\n    for (let gene of genes) {\n      let monsterId = \"monster\" + ids[baseIdIndex + i];\n      //console.log(\"extr monsterId\", monsterId);\n      let feature_a = parseInt(gene.charAt(0));\n      let feature_b = parseInt(gene.charAt(1));\n      let feature_c = parseInt(gene.charAt(2));\n      let criterion = this.stimuli.calculateCriterion(feature_a, feature_b, feature_c);\n      let monster = new Monster(monsterId, feature_a, feature_b, feature_c, criterion);\n      let question = new OutputEstimationQuestion(\"extrapolation\", monster);\n      this.questions.push(question);\n      i++;\n    }\n\n    this.utils.shuffleArray(this.questions);\n    //console.log(\"[DEBUG] OutputEstimation questions\", this.questions);\n        \n  }\n\n  getNextQuestion() {\n    this.questionsCounter++;\n    return this.questions[this.questionsCounter];\n  }\n\n  updateQuestion(question: OutputEstimationQuestion) {\n    const idx = this.questions.indexOf(question);\n    this.questions[idx] = question;\n  }\n\n  runOutOfQuestions() {\n    return this.questionsCounter >= (this.questions.length - 1);\n  }\n\n  getTotalReward() {\n    let total = 0;\n    for (let question of this.questions) {\n      total = total + question.getAnswerReward();\n    }\n    return total;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/output-estimation/output-estimation.ts"]}