{"version":3,"sources":["../../src/providers/ranking-task/ranking-task.ts","../../src/providers/api/api.ts","../../src/providers/stimuli/app-info.ts","../../src/providers/settings/settings.ts","../../src/providers/settings/settings.ts.pre-build-optimizer.js","../../src/providers/data/data.ts","../../src/providers/data/data.ts.pre-build-optimizer.js","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/models/training-card.ts","../../src/app/app.module.ts","../../src/app/app.component.ngfactory.ts","../../src/pages/pages.ts","../../src/app/app.component.ts","../../src/app/app.module.ngfactory.ts","../../src/app/main.ts","../../src/models/participant.ts","../../src/providers/stimuli/stimuli.ts","../../src/providers/utils/utils.ts","../../src/providers/utils/utils.ts.pre-build-optimizer.js","../../src/providers/training/training.ts","../../src/providers/stimuli/constants.ts","../../src/models/monster.ts","../../src/models/pair.ts","../../src/models/pair-comparison-question.ts","../../src/providers/pair-comparison/pair-comparison.ts","../../src/models/output-estimation-question.ts","../../src/providers/output-estimation/output-estimation.ts"],"names":["RankingTaskProvider","translate","this","console","log","prototype","initialize","_this","freeText","get","subscribe","labels","features","id","label","Api","http","url","endpoint","params","reqOpts","__WEBPACK_IMPORTED_MODULE_1__angular_common_http__","k","set","post","body","put","delete","patch","__webpack_require__","d","__webpack_exports__","AppInfo","nameLabel","version","Settings","storage","defaults","SETTINGS_KEY","_defaults","load","then","value","settings","_mergeDefaults","setAll","val","merge","save","setValue","key","getValue","Object","defineProperty","enumerable","configurable","Data","filesystem","api","stimuli","training","pairComparison","outputEstimation","rankingTask","updateRecordsNumber","driver","recordId","participant","code","dataObject","serializeStimuliData","onlineVersion","jsonData","JSON","stringify","participant_code","condition","conditionIndex","reward","data","resp","err","duration","Math","floor","Date","now","initialTimestamp","Map","i","age","getParticipantAgeGroup","grade","__WEBPACK_IMPORTED_MODULE_10__stimuli_app_info__","toLocaleString","featuresOrder","trainingType","testTypes","questionsCheckCounter","questionsCheck","_i","_a","revealedCards","length","card","monster","toString","_b","_c","cards","hasBeenRevealed","_d","_e","questions","question","pair","left","right","chosenMonster","isAnswerCorrect","_f","_g","type","guessedCriterion","getAnswerDistance","_h","_j","_k","_l","_m","_o","replace","getTotalReward","totalReward","toFixed","mapToObj","loadAllRecords","storageGetAll","records","allRecords","exportRecordsAsJSON","fileContent","saveOutputFile","exportRecordsAsCsv","csvContent","fromRecordsToCsv","recordsNumber","keys","Promise","all","map","csvKeys","csvRows","first","_loop_1","record","x","csvRow","push","join","records_1","fileExt","currentdate","filename","getDate","slice","getMonth","getFullYear","getHours","getMinutes","resolveDirectoryUrl","externalDataDirectory","directory","getFile","create","exclusive","file","isFile","writeFile","catch","fileEntry","createWriter","writer","onwriteend","evt","write","where","strMap","obj","forEach","webpackEmptyAsyncContext","req","resolve","Error","module","exports","webpackAsyncContext","ids","e","reject","../pages/consent-form/consent-form.module.ngfactory","../pages/instructions-check/instructions-check.module.ngfactory","../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory","../pages/output-estimation/output-estimation.module.ngfactory","../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory","../pages/pair-comparison/pair-comparison.module.ngfactory","../pages/ranking-task/ranking-task.module.ngfactory","../pages/registration/registration.module.ngfactory","../pages/reward/reward.module.ngfactory","../pages/training-instructions/training-instructions.module.ngfactory","../pages/training-instructions2/training-instructions2.module.ngfactory","../pages/training/training.module.ngfactory","../pages/view-records/view-records.module.ngfactory","TrainingCard","revealed","reveal","equals","createTranslateLoader","http_loader","View_MyApp_1","core_es5","_v","en","$event","ad","_co","component","close","openPage","context","$implicit","item_ngfactory","item","util_form","config","item_reorder","contentLabel","_buttons","_icons","item_content","menu_close","menu_controller","menuClose","_ck","title","View_MyApp_0","nav","menu_ngfactory","split_pane","menu","platform_platform","keyboard","gesture_controller","dom_controller","app","content","menuContent","menuNav","toolbar_header","view_controller","toolbar_ngfactory","toolbar","toolbar_title_ngfactory","toolbar_title","navbar","resize","content_ngfactory","nav_controller","list","common_es5","ngForOf","nav_ngfactory","transition_controller","deep_linker","root","pages","rootPage","_sbPadding","statusbarPadding","_hasRefresher","FirstRunPage","app_component_MyApp","MyApp","platform","statusBar","splashScreen","androidFullScreen","ready","styleDefault","hide","enterPinnedMode","enterImmersiveMode","initTranslate","cordova","plugins","screenPinning","error","isImmersiveModeSupported","immersiveMode","addLangs","setDefaultLang","localStorage","getItem","use","langChangedEvent","lang","page","setRoot","ionic_pro_module_min","init","app_info","appVersion","app_module_MyErrorHandler","MyErrorHandler","injector","ionicErrorHandler","ionic_angular","handleError","monitoring","handleNewError","AppModule","RenderType_MyApp","encapsulation","styles","MyAppNgFactory","translate_service","status_bar","splash_screen","android_full_screen","stimuli_stimuli","AppModuleNgFactory","app_root","action_sheet_component_ngfactory","alert_component_ngfactory","app_root_ngfactory","loading_component_ngfactory","modal_component_ngfactory","picker_component_ngfactory","popover_component_ngfactory","select_popover_component_ngfactory","toast_component_ngfactory","platform_browser_es5","gesture_config","p0_0","p1_0","p2_0","p2_1","http_es5","forms_es5","translate_loader","translate_compiler","translate_parser","missing_translation_handler","translate_store","action_sheet_controller","alert_controller","events","haptic","loading_controller","ionic_angular_module","url_serializer","module_loader","modal_controller","picker_controller","popover_controller","tap_click","toast_controller","ionic_error_handler","utils","pair_comparison","output_estimation","ranking_task","preloadModules","platform_registry","links","loadChildren","name","segment","priority","defaultHistory","ng_module_loader","p0_1","p3_0","p3_1","p3_2","p3_3","p3_4","p4_0","p4_1","p4_2","p4_3","mode_registry","core","es2015","undefined","driverOrder","bootstrapModuleFactory","Participant","stimuli_Stimuli","Stimuli","appInfo","currentTestIndex","runInBrowser","conditionCounterOverride","getCounterValue","is","onAferRegistration","isActiveOnly","activeOnlyVersion","pickCondition","pickFeaturesOrder","counter","incrementCounter","constants","testing","perms","permute","pickRandomFromArray","isPassive","isActive","getNextTestType","runOutOfTests","calculateCriterion","feature_a","feature_b","feature_c","setLang","langCode","emit","hi","Utils","getRandomInt","min","max","random","shuffleArray","a","j","items","range","start","end","Array","from","v","combine","alphabet","curstr","ret","apply","permutation","p","result","c","fill","counterIndex","counterName","parseInt","count","setItem","TrainingProvider","revealedCardsCounter","generateCards","genes","genes_1","gene","monsterId","charAt","criterion","__WEBPACK_IMPORTED_MODULE_2__models_monster__","__WEBPACK_IMPORTED_MODULE_3__models_training_card__","getAllCards","addCard","deleteCard","splice","indexOf","updateCard","idx","getRevealedCardsCount","runOutOfTasks","__WEBPACK_IMPORTED_MODULE_6__stimuli_constants__","TRAINING_TASKS","getRevealedCards","getUnrevealedCards","unrevealedCards","getRevealedMonsters","revealedMonsters","getUnrevealedMonsters","unrevealedMonsters","CONDITIONS","CONDITIONS_ACTIVE_ONLY","NUMBERS","TRAINING_CARDS","PAIR_COMPARISONS","OUTPUT_ESTIMATION_EXTRAPOLATION","OUTPUT_ESTIMATION_INTERPOLATION","OUTPUT_ESTIMATION_RECALL","Monster","img","updateId","Pair","leftMonster","rightMonster","getWinner","PairComparisonQuestion","questionPair","answer","getAnswerReward","pair_comparison_PairComparisonProvider","PairComparisonProvider","questionsCounter","generateQuestions","pairMonsters","features_a","criterion_a","features_b","criterion_b","getNextQuestion","updateQuestion","runOutOfQuestions","total","OutputEstimationQuestion","abs","output_estimation_OutputEstimationProvider","OutputEstimationProvider","firstId","baseIdIndex","i_1","i_2","models_monster"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Injectable()\nexport class RankingTaskProvider {\n\n  features: {id: string, label: string}[];\n  freeText: string;\n\n  constructor(\n    public translate: TranslateService\n  ) {\n    console.log('Hello RankingTaskProvider Provider');\n  }\n\n  initialize() {\n    this.freeText = \"\";\n    this.translate.get(['MONSTER.FEATURE_A_LABEL', 'MONSTER.FEATURE_B_LABEL', 'MONSTER.FEATURE_C_LABEL']).subscribe(labels => {\n      this.features = [\n        {\"id\": \"feature_a\", \"label\": labels[\"MONSTER.FEATURE_A_LABEL\"]},\n        {\"id\": \"feature_b\", \"label\": labels[\"MONSTER.FEATURE_B_LABEL\"]},\n        {\"id\": \"feature_c\", \"label\": labels[\"MONSTER.FEATURE_C_LABEL\"]}\n      ];\n    });\n  }\n\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/ranking-task/ranking-task.ts","import { HttpClient, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\n/**\n * Api is a generic REST Api handler. Set your API url first.\n */\n@Injectable()\nexport class Api {\n  url: string = 'https://isrc.mpib-berlin.mpg.de';\n\n  constructor(public http: HttpClient) {\n  }\n\n  get(endpoint: string, params?: any, reqOpts?: any) {\n    if (!reqOpts) {\n      reqOpts = {\n        params: new HttpParams()\n      };\n    }\n\n    // Support easy query params for GET requests\n    if (params) {\n      reqOpts.params = new HttpParams();\n      for (let k in params) {\n        reqOpts.params.set(k, params[k]);\n      }\n    }\n\n    return this.http.get(this.url + '/' + endpoint, reqOpts);\n  }\n\n  post(endpoint: string, body: any, reqOpts?: any) {\n    return this.http.post(this.url + '/' + endpoint, body, reqOpts);\n  }\n\n  put(endpoint: string, body: any, reqOpts?: any) {\n    return this.http.put(this.url + '/' + endpoint, body, reqOpts);\n  }\n\n  delete(endpoint: string, reqOpts?: any) {\n    return this.http.delete(this.url + '/' + endpoint, reqOpts);\n  }\n\n  patch(endpoint: string, body: any, reqOpts?: any) {\n    return this.http.put(this.url + '/' + endpoint, body, reqOpts);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/api/api.ts","export abstract class AppInfo {\r\n    static id: string = \"5c42aff5\";\r\n    static nameLabel: string = \"MTT\";\r\n    static version: string = \"2.4.2\";\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/app-info.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\n\n/**\n * A simple settings/config class for storing key/value pairs with persistence.\n */\n@Injectable()\nexport class Settings {\n  private SETTINGS_KEY: string = '_settings';\n\n  settings: any;\n\n  _defaults: any;\n  _readyPromise: Promise<any>;\n\n  constructor(public storage: Storage, defaults: any) {\n    this._defaults = defaults;\n  }\n\n  load() {\n    return this.storage.get(this.SETTINGS_KEY).then((value) => {\n      if (value) {\n        this.settings = value;\n        return this._mergeDefaults(this._defaults);\n      } else {\n        return this.setAll(this._defaults).then((val) => {\n          this.settings = val;\n        })\n      }\n    });\n  }\n\n  _mergeDefaults(defaults: any) {\n    for (let k in defaults) {\n      if (!(k in this.settings)) {\n        this.settings[k] = defaults[k];\n      }\n    }\n    return this.setAll(this.settings);\n  }\n\n  merge(settings: any) {\n    for (let k in settings) {\n      this.settings[k] = settings[k];\n    }\n    return this.save();\n  }\n\n  setValue(key: string, value: any) {\n    this.settings[key] = value;\n    return this.storage.set(this.SETTINGS_KEY, this.settings);\n  }\n\n  setAll(value: any) {\n    return this.storage.set(this.SETTINGS_KEY, value);\n  }\n\n  getValue(key: string) {\n    return this.storage.get(this.SETTINGS_KEY)\n      .then(settings => {\n        return settings[key];\n      });\n  }\n\n  save() {\n    return this.setAll(this.settings);\n  }\n\n  get allSettings() {\n    return this.settings;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/settings/settings.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\n/**\r\n * A simple settings/config class for storing key/value pairs with persistence.\r\n */\r\nvar Settings = (function () {\r\n    function Settings(storage, defaults) {\r\n        this.storage = storage;\r\n        this.SETTINGS_KEY = '_settings';\r\n        this._defaults = defaults;\r\n    }\r\n    Settings.prototype.load = function () {\r\n        var _this = this;\r\n        return this.storage.get(this.SETTINGS_KEY).then(function (value) {\r\n            if (value) {\r\n                _this.settings = value;\r\n                return _this._mergeDefaults(_this._defaults);\r\n            }\r\n            else {\r\n                return _this.setAll(_this._defaults).then(function (val) {\r\n                    _this.settings = val;\r\n                });\r\n            }\r\n        });\r\n    };\r\n    Settings.prototype._mergeDefaults = function (defaults) {\r\n        for (var k in defaults) {\r\n            if (!(k in this.settings)) {\r\n                this.settings[k] = defaults[k];\r\n            }\r\n        }\r\n        return this.setAll(this.settings);\r\n    };\r\n    Settings.prototype.merge = function (settings) {\r\n        for (var k in settings) {\r\n            this.settings[k] = settings[k];\r\n        }\r\n        return this.save();\r\n    };\r\n    Settings.prototype.setValue = function (key, value) {\r\n        this.settings[key] = value;\r\n        return this.storage.set(this.SETTINGS_KEY, this.settings);\r\n    };\r\n    Settings.prototype.setAll = function (value) {\r\n        return this.storage.set(this.SETTINGS_KEY, value);\r\n    };\r\n    Settings.prototype.getValue = function (key) {\r\n        return this.storage.get(this.SETTINGS_KEY)\r\n            .then(function (settings) {\r\n            return settings[key];\r\n        });\r\n    };\r\n    Settings.prototype.save = function () {\r\n        return this.setAll(this.settings);\r\n    };\r\n    Object.defineProperty(Settings.prototype, \"allSettings\", {\r\n        get: function () {\r\n            return this.settings;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Settings;\r\n}());\r\nSettings = __decorate([\r\n    Injectable(),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Storage !== \"undefined\" && Storage) === \"function\" && _a || Object, Object])\r\n], Settings);\r\nexport { Settings };\r\nvar _a;\r\n//# sourceMappingURL=settings.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/settings/settings.ts.pre-build-optimizer.js","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { File } from '@ionic-native/file';\nimport { Stimuli } from '../stimuli/stimuli';\nimport { Api } from '../api/api';\nimport { TrainingProvider } from '../training/training';\nimport { PairComparisonProvider } from '../pair-comparison/pair-comparison';\nimport { OutputEstimationProvider } from '../output-estimation/output-estimation';\nimport { RankingTaskProvider } from '../ranking-task/ranking-task';\nimport { AppInfo } from '../stimuli/app-info';\n\n\n@Injectable()\nexport class Data {\n\n  recordsNumber: number;\n  allRecords: any;\n\n  constructor(private storage: Storage, private filesystem: File, private api: Api,\n    private stimuli: Stimuli, private training: TrainingProvider,\n    private pairComparison: PairComparisonProvider, private outputEstimation: OutputEstimationProvider,\n    private rankingTask: RankingTaskProvider) {\n      console.log('Hello Data Provider');\n  }\n\n  initialize() {\n    this.updateRecordsNumber();\n  }\n\n  save() {\n    console.log(\"[DEBUG] DB driver: \" + this.storage.driver);\n    const recordId = \"record_\" + this.stimuli.participant.code;\n    let dataObject = this.serializeStimuliData();\n    console.log(\"[DEBUG] Serialized data: \", dataObject);\n\n    if (this.stimuli.onlineVersion) {\n      const jsonData = JSON.stringify(dataObject);\n      console.log(\"[saving data][browser][participant_code]\", this.stimuli.participant.code);\n      console.log(\"[saving data][browser][data]\", dataObject);\n      //console.log(\"[saving data][browser][jsonData]\", jsonData);\n\n      const requestBody = {\n        participant_code: this.stimuli.participant.code,\n        condition: this.stimuli.conditionIndex,\n        reward: dataObject[\"reward_mturk_total_euros\"],\n        data: jsonData\n      };\n      this.api.post('store-data/mtt', requestBody).subscribe(\n        (resp) => {\n          console.log(\"[saving data][browser][POST] resp\", resp);\n        }, \n        (err) => {\n          console.log(\"[saving data][browser][POST] ERROR!!!\", err);\n        }\n      );\n    }\n    else {\n      console.log(\"[saving data][app][data]\", dataObject);\n      this.storage.set(recordId, dataObject);\n    }\n  }\n\n  serializeStimuliData() {\n    // calculate exp duration\n    const duration = Math.floor((Date.now() - this.stimuli.initialTimestamp) / 1000);\n\n    // data map\n    let data = new Map();\n    let i = 0;\n\n    // save participant data\n    data.set(\"participant_code\", this.stimuli.participant.code);\n    data.set(\"participant_age\", this.stimuli.participant.age);\n    data.set(\"participant_age_group\", this.stimuli.getParticipantAgeGroup())\n    data.set(\"participant_grade\", this.stimuli.participant.grade);\n\n    // save app data\n    data.set(\"app_id\", AppInfo.id);\n    data.set(\"app_version\", AppInfo.version);\n    data.set(\"app_nameLabel\", AppInfo.nameLabel);\n\n    // save session data\n    data.set(\"session_datetime\", Date.now());\n    data.set(\"session_datetime_human\", Date.now().toLocaleString());\n    data.set(\"session_duration_seconds\", duration);\n\n    // save conditions data\n    data.set(\"condition_index\", this.stimuli.conditionIndex);\n    data.set(\"condition_features_weigth_6\", this.stimuli.featuresOrder[0]);\n    data.set(\"condition_features_weigth_3\", this.stimuli.featuresOrder[1]);\n    data.set(\"condition_features_weigth_1\", this.stimuli.featuresOrder[2]);\n    data.set(\"condition_training_type\", this.stimuli.trainingType);\n    data.set(\"condition_tests_order_1\", this.stimuli.testTypes[0]);\n    data.set(\"condition_tests_order_2\", this.stimuli.testTypes[1]);\n\n    // save instructions check data\n    data.set(\"instructions_check_attempts_counter\", this.stimuli.questionsCheckCounter);\n    data.set(\"instructions_check_answers\", JSON.stringify(this.stimuli.questionsCheck));\n\n    // save training data (revealed cards)\n    i = 1;\n    for (let card of this.training.revealedCards) {\n      data.set(\"training_revealed_\"+i+\"_card\", card.monster != null ? card.monster.toString() : null);\n      i++;\n    }\n\n    // save training data (unrevealed cards)\n    i = 1;\n    for (let card of this.training.cards) {\n      if (!card.hasBeenRevealed()) {\n        data.set(\"training_unrevealed_\"+i+\"_card\", card.monster != null ? card.monster.toString() : null);\n      i++;\n      }\n    }\n\n    // save test \"pair comparison\" data\n    i = 1;\n    for (let question of this.pairComparison.questions) {\n      data.set(\"test_comparison_\"+i+\"_card_a\",  question.pair.left != null ? question.pair.left.toString() : null);\n      data.set(\"test_comparison_\"+i+\"_card_b\",  question.pair.right != null ? question.pair.right.toString() : null);\n      data.set(\"test_comparison_\"+i+\"_chosen_card\", question.chosenMonster != null ? question.chosenMonster.toString() : null);\n      data.set(\"test_comparison_\"+i+\"_correct\", question.isAnswerCorrect() ? 1 : 0);\n      i++;\n    }\n\n    // save test \"output estimation\" extrapolation data\n    i = 1;\n    for (let question of this.outputEstimation.questions) {\n      if (question.type === \"extrapolation\") {\n        data.set(\"test_estimation_extrapolation_\"+i+\"_card\", question.monster != null ? question.monster.toString() : null);\n        data.set(\"test_estimation_extrapolation_\"+i+\"_estimated_criterion\", question.guessedCriterion);\n        data.set(\"test_estimation_extrapolation_\"+i+\"_estimation_distance\", question.getAnswerDistance());\n        i++;\n      }\n    }\n\n    // save test \"output estimation\" interpolation data\n    i = 1;\n    for (let question of this.outputEstimation.questions) {\n      if (question.type === \"interpolation\") {\n        data.set(\"test_estimation_interpolation_\"+i+\"_card\", question.monster != null ? question.monster.toString() : null);\n        data.set(\"test_estimation_interpolation_\"+i+\"_estimated_criterion\", question.guessedCriterion);\n        data.set(\"test_estimation_interpolation_\"+i+\"_estimation_distance\", question.getAnswerDistance());\n        i++;\n      }\n    }\n\n    // save test \"output estimation\" recall data\n    i = 1;\n    for (let question of this.outputEstimation.questions) {\n      if (question.type === \"recall\") {\n        data.set(\"test_estimation_recall_\"+i+\"_card\", question.monster != null ? question.monster.toString() : null);\n        data.set(\"test_estimation_recall_\"+i+\"_estimated_criterion\", question.guessedCriterion);\n        data.set(\"test_estimation_recall_\"+i+\"_estimation_distance\", question.getAnswerDistance());\n        i++;\n      }\n    }\n\n    // save ranking task data\n    i = 1;\n    for (let feature of this.rankingTask.features) {\n      data.set(\"ranking_task_feature_\"+i, feature.id);\n      i++;\n    }\n\n    // save ranking task free text question (some hopefully working sanitization here...)\n    let freeText = this.rankingTask.freeText != null ? this.rankingTask.freeText.replace(/[^\\w\\s!?\\-*+\\/\\.\\(\\)]/g,' ') : \"\";\n    freeText.replace(/\\r?\\n|\\r/g, ' ');\n    freeText = \"'\"+freeText+\"'\";\n    data.set(\"ranking_task_question_adults\", freeText);\n\n    // save rewards data\n    data.set(\"reward_test_comparison_cents\", this.pairComparison.getTotalReward());\n    data.set(\"reward_test_estimation_cents\", this.outputEstimation.getTotalReward());\n    const totalReward = this.pairComparison.getTotalReward() + this.outputEstimation.getTotalReward();\n    data.set(\"reward_total_cents\", totalReward);\n    data.set(\"reward_total_euros\", (totalReward / 100).toFixed(2));\n    data.set(\"reward_mturk_total_euros\", ((totalReward / 5) / 100).toFixed(2));\n\n    return this.mapToObj(data);\n  }\n\n  loadAllRecords() {\n    this.storageGetAll()\n      .then(records => {\n        console.log(\"[debug] storage.loadAllRecords()\");\n        this.allRecords = records;\n        console.log(this.allRecords);\n      });\n  }\n\n  exportRecordsAsJSON() {\n    this.storageGetAll()\n      .then(records => {\n        console.log(\"records:\");\n        console.log(records);\n        let fileContent = JSON.stringify(records);\n        this.saveOutputFile(fileContent, \"json\");\n      });\n  }\n\n  exportRecordsAsCsv() {\n    this.storageGetAll()\n      .then(records => {\n        console.log(\"records:\");\n        console.log(records);\n        let csvContent = this.fromRecordsToCsv(records);\n        this.saveOutputFile(csvContent, \"csv\");\n      });\n  }\n\n  updateRecordsNumber() {\n    this.storageGetAll()\n      .then(records => {\n        if (records == null) return 0;\n        this.recordsNumber = records.length;\n      });\n  }\n\n  /**\n   * Returns a Promise with the raw records from Storage\n   */\n  storageGetAll() {\n    return this.storage.keys()\n      .then(keys => Promise.all(keys.map(k => this.storage.get(k))));\n  }\n\n\n  fromRecordsToCsv(records) {\n    console.log(\"[DEBUG] fromRecordsToCsv: \", records);\n    let csvKeys = [];\n    let csvRows = [];\n    let first = true;\n    for (let record of records) {\n      if (first) {\n        csvKeys = Object.keys(record).map(x => JSON.stringify(x));\n        first = false;\n      }\n      let csvRow = Object.keys(record).map(key=>record[key]).map(x => JSON.stringify(x));\n      csvRows.push(csvRow.join(\",\"));\n    }\n    let csvContent = csvKeys.join(\",\") + \"\\n\";\n    csvContent += csvRows.join(\"\\n\");\n    return csvContent;\n  }\n\n  saveOutputFile(csvContent, fileExt = \"csv\") {\n    // build file name\n    let currentdate = new Date();\n    let day = (\"0\" + currentdate.getDate()).slice(-2);\n    let month = (\"0\" + (currentdate.getMonth() + 1)).slice(-2);\n    let filename = \"data-\" + day + month + currentdate.getFullYear() + \"-\"\n      + currentdate.getHours() + currentdate.getMinutes() + \".\" + fileExt;\n\n    // access file system\n    this.filesystem.resolveDirectoryUrl(this.filesystem.externalDataDirectory)\n      .then(directory => {\n        // get or create results file\n        this.filesystem.getFile(directory, filename, { create: true, exclusive: false })\n          .then(file => {\n            console.log(\"fileEntry is file?\" + file.isFile.toString());\n            this.writeFile(file, csvContent);\n          })\n          .catch(err => {\n            console.log(\"Resolve file error: \" + err);\n          });\n      })\n      .catch(err => {\n        console.log(\"Resolve filesystem error: \" + err);\n      });\n  }\n\n  writeFile(fileEntry, data) {\n    fileEntry.createWriter(\n      function (writer) {\n        writer.onwriteend = function (evt) {\n          console.log(\"File successfully created!\");\n        };\n        writer.write(data);\n      },\n      function (evt, where) {\n        console.log(\"Error writing file \" + where + \" :\");\n        console.log(JSON.stringify(evt));\n      }\n    );\n  }\n\n  mapToObj(strMap) {\n    let obj = {};\n    strMap.forEach((value, key, map) => {\n      obj[key] = value;\n    });\n    return obj;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/data/data.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { File } from '@ionic-native/file';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport { Api } from '../api/api';\r\nimport { TrainingProvider } from '../training/training';\r\nimport { PairComparisonProvider } from '../pair-comparison/pair-comparison';\r\nimport { OutputEstimationProvider } from '../output-estimation/output-estimation';\r\nimport { RankingTaskProvider } from '../ranking-task/ranking-task';\r\nimport { AppInfo } from '../stimuli/app-info';\r\nvar Data = (function () {\r\n    function Data(storage, filesystem, api, stimuli, training, pairComparison, outputEstimation, rankingTask) {\r\n        this.storage = storage;\r\n        this.filesystem = filesystem;\r\n        this.api = api;\r\n        this.stimuli = stimuli;\r\n        this.training = training;\r\n        this.pairComparison = pairComparison;\r\n        this.outputEstimation = outputEstimation;\r\n        this.rankingTask = rankingTask;\r\n        console.log('Hello Data Provider');\r\n    }\r\n    Data.prototype.initialize = function () {\r\n        this.updateRecordsNumber();\r\n    };\r\n    Data.prototype.save = function () {\r\n        console.log(\"[DEBUG] DB driver: \" + this.storage.driver);\r\n        var recordId = \"record_\" + this.stimuli.participant.code;\r\n        var dataObject = this.serializeStimuliData();\r\n        console.log(\"[DEBUG] Serialized data: \", dataObject);\r\n        if (this.stimuli.onlineVersion) {\r\n            var jsonData = JSON.stringify(dataObject);\r\n            console.log(\"[saving data][browser][participant_code]\", this.stimuli.participant.code);\r\n            console.log(\"[saving data][browser][data]\", dataObject);\r\n            //console.log(\"[saving data][browser][jsonData]\", jsonData);\r\n            var requestBody = {\r\n                participant_code: this.stimuli.participant.code,\r\n                condition: this.stimuli.conditionIndex,\r\n                reward: dataObject[\"reward_mturk_total_euros\"],\r\n                data: jsonData\r\n            };\r\n            this.api.post('store-data/mtt', requestBody).subscribe(function (resp) {\r\n                console.log(\"[saving data][browser][POST] resp\", resp);\r\n            }, function (err) {\r\n                console.log(\"[saving data][browser][POST] ERROR!!!\", err);\r\n            });\r\n        }\r\n        else {\r\n            console.log(\"[saving data][app][data]\", dataObject);\r\n            this.storage.set(recordId, dataObject);\r\n        }\r\n    };\r\n    Data.prototype.serializeStimuliData = function () {\r\n        // calculate exp duration\r\n        var duration = Math.floor((Date.now() - this.stimuli.initialTimestamp) / 1000);\r\n        // data map\r\n        var data = new Map();\r\n        var i = 0;\r\n        // save participant data\r\n        data.set(\"participant_code\", this.stimuli.participant.code);\r\n        data.set(\"participant_age\", this.stimuli.participant.age);\r\n        data.set(\"participant_age_group\", this.stimuli.getParticipantAgeGroup());\r\n        data.set(\"participant_grade\", this.stimuli.participant.grade);\r\n        // save app data\r\n        data.set(\"app_id\", AppInfo.id);\r\n        data.set(\"app_version\", AppInfo.version);\r\n        data.set(\"app_nameLabel\", AppInfo.nameLabel);\r\n        // save session data\r\n        data.set(\"session_datetime\", Date.now());\r\n        data.set(\"session_datetime_human\", Date.now().toLocaleString());\r\n        data.set(\"session_duration_seconds\", duration);\r\n        // save conditions data\r\n        data.set(\"condition_index\", this.stimuli.conditionIndex);\r\n        data.set(\"condition_features_weigth_6\", this.stimuli.featuresOrder[0]);\r\n        data.set(\"condition_features_weigth_3\", this.stimuli.featuresOrder[1]);\r\n        data.set(\"condition_features_weigth_1\", this.stimuli.featuresOrder[2]);\r\n        data.set(\"condition_training_type\", this.stimuli.trainingType);\r\n        data.set(\"condition_tests_order_1\", this.stimuli.testTypes[0]);\r\n        data.set(\"condition_tests_order_2\", this.stimuli.testTypes[1]);\r\n        // save instructions check data\r\n        data.set(\"instructions_check_attempts_counter\", this.stimuli.questionsCheckCounter);\r\n        data.set(\"instructions_check_answers\", JSON.stringify(this.stimuli.questionsCheck));\r\n        // save training data (revealed cards)\r\n        i = 1;\r\n        for (var _i = 0, _a = this.training.revealedCards; _i < _a.length; _i++) {\r\n            var card = _a[_i];\r\n            data.set(\"training_revealed_\" + i + \"_card\", card.monster != null ? card.monster.toString() : null);\r\n            i++;\r\n        }\r\n        // save training data (unrevealed cards)\r\n        i = 1;\r\n        for (var _b = 0, _c = this.training.cards; _b < _c.length; _b++) {\r\n            var card = _c[_b];\r\n            if (!card.hasBeenRevealed()) {\r\n                data.set(\"training_unrevealed_\" + i + \"_card\", card.monster != null ? card.monster.toString() : null);\r\n                i++;\r\n            }\r\n        }\r\n        // save test \"pair comparison\" data\r\n        i = 1;\r\n        for (var _d = 0, _e = this.pairComparison.questions; _d < _e.length; _d++) {\r\n            var question = _e[_d];\r\n            data.set(\"test_comparison_\" + i + \"_card_a\", question.pair.left != null ? question.pair.left.toString() : null);\r\n            data.set(\"test_comparison_\" + i + \"_card_b\", question.pair.right != null ? question.pair.right.toString() : null);\r\n            data.set(\"test_comparison_\" + i + \"_chosen_card\", question.chosenMonster != null ? question.chosenMonster.toString() : null);\r\n            data.set(\"test_comparison_\" + i + \"_correct\", question.isAnswerCorrect() ? 1 : 0);\r\n            i++;\r\n        }\r\n        // save test \"output estimation\" extrapolation data\r\n        i = 1;\r\n        for (var _f = 0, _g = this.outputEstimation.questions; _f < _g.length; _f++) {\r\n            var question = _g[_f];\r\n            if (question.type === \"extrapolation\") {\r\n                data.set(\"test_estimation_extrapolation_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n                data.set(\"test_estimation_extrapolation_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n                data.set(\"test_estimation_extrapolation_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n                i++;\r\n            }\r\n        }\r\n        // save test \"output estimation\" interpolation data\r\n        i = 1;\r\n        for (var _h = 0, _j = this.outputEstimation.questions; _h < _j.length; _h++) {\r\n            var question = _j[_h];\r\n            if (question.type === \"interpolation\") {\r\n                data.set(\"test_estimation_interpolation_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n                data.set(\"test_estimation_interpolation_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n                data.set(\"test_estimation_interpolation_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n                i++;\r\n            }\r\n        }\r\n        // save test \"output estimation\" recall data\r\n        i = 1;\r\n        for (var _k = 0, _l = this.outputEstimation.questions; _k < _l.length; _k++) {\r\n            var question = _l[_k];\r\n            if (question.type === \"recall\") {\r\n                data.set(\"test_estimation_recall_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n                data.set(\"test_estimation_recall_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n                data.set(\"test_estimation_recall_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n                i++;\r\n            }\r\n        }\r\n        // save ranking task data\r\n        i = 1;\r\n        for (var _m = 0, _o = this.rankingTask.features; _m < _o.length; _m++) {\r\n            var feature = _o[_m];\r\n            data.set(\"ranking_task_feature_\" + i, feature.id);\r\n            i++;\r\n        }\r\n        // save ranking task free text question (some hopefully working sanitization here...)\r\n        var freeText = this.rankingTask.freeText != null ? this.rankingTask.freeText.replace(/[^\\w\\s!?\\-*+\\/\\.\\(\\)]/g, ' ') : \"\";\r\n        freeText.replace(/\\r?\\n|\\r/g, ' ');\r\n        freeText = \"'\" + freeText + \"'\";\r\n        data.set(\"ranking_task_question_adults\", freeText);\r\n        // save rewards data\r\n        data.set(\"reward_test_comparison_cents\", this.pairComparison.getTotalReward());\r\n        data.set(\"reward_test_estimation_cents\", this.outputEstimation.getTotalReward());\r\n        var totalReward = this.pairComparison.getTotalReward() + this.outputEstimation.getTotalReward();\r\n        data.set(\"reward_total_cents\", totalReward);\r\n        data.set(\"reward_total_euros\", (totalReward / 100).toFixed(2));\r\n        data.set(\"reward_mturk_total_euros\", ((totalReward / 5) / 100).toFixed(2));\r\n        return this.mapToObj(data);\r\n    };\r\n    Data.prototype.loadAllRecords = function () {\r\n        var _this = this;\r\n        this.storageGetAll()\r\n            .then(function (records) {\r\n            console.log(\"[debug] storage.loadAllRecords()\");\r\n            _this.allRecords = records;\r\n            console.log(_this.allRecords);\r\n        });\r\n    };\r\n    Data.prototype.exportRecordsAsJSON = function () {\r\n        var _this = this;\r\n        this.storageGetAll()\r\n            .then(function (records) {\r\n            console.log(\"records:\");\r\n            console.log(records);\r\n            var fileContent = JSON.stringify(records);\r\n            _this.saveOutputFile(fileContent, \"json\");\r\n        });\r\n    };\r\n    Data.prototype.exportRecordsAsCsv = function () {\r\n        var _this = this;\r\n        this.storageGetAll()\r\n            .then(function (records) {\r\n            console.log(\"records:\");\r\n            console.log(records);\r\n            var csvContent = _this.fromRecordsToCsv(records);\r\n            _this.saveOutputFile(csvContent, \"csv\");\r\n        });\r\n    };\r\n    Data.prototype.updateRecordsNumber = function () {\r\n        var _this = this;\r\n        this.storageGetAll()\r\n            .then(function (records) {\r\n            if (records == null)\r\n                return 0;\r\n            _this.recordsNumber = records.length;\r\n        });\r\n    };\r\n    /**\r\n     * Returns a Promise with the raw records from Storage\r\n     */\r\n    Data.prototype.storageGetAll = function () {\r\n        var _this = this;\r\n        return this.storage.keys()\r\n            .then(function (keys) { return Promise.all(keys.map(function (k) { return _this.storage.get(k); })); });\r\n    };\r\n    Data.prototype.fromRecordsToCsv = function (records) {\r\n        console.log(\"[DEBUG] fromRecordsToCsv: \", records);\r\n        var csvKeys = [];\r\n        var csvRows = [];\r\n        var first = true;\r\n        var _loop_1 = function (record) {\r\n            if (first) {\r\n                csvKeys = Object.keys(record).map(function (x) { return JSON.stringify(x); });\r\n                first = false;\r\n            }\r\n            var csvRow = Object.keys(record).map(function (key) { return record[key]; }).map(function (x) { return JSON.stringify(x); });\r\n            csvRows.push(csvRow.join(\",\"));\r\n        };\r\n        for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\r\n            var record = records_1[_i];\r\n            _loop_1(record);\r\n        }\r\n        var csvContent = csvKeys.join(\",\") + \"\\n\";\r\n        csvContent += csvRows.join(\"\\n\");\r\n        return csvContent;\r\n    };\r\n    Data.prototype.saveOutputFile = function (csvContent, fileExt) {\r\n        var _this = this;\r\n        if (fileExt === void 0) { fileExt = \"csv\"; }\r\n        // build file name\r\n        var currentdate = new Date();\r\n        var day = (\"0\" + currentdate.getDate()).slice(-2);\r\n        var month = (\"0\" + (currentdate.getMonth() + 1)).slice(-2);\r\n        var filename = \"data-\" + day + month + currentdate.getFullYear() + \"-\"\r\n            + currentdate.getHours() + currentdate.getMinutes() + \".\" + fileExt;\r\n        // access file system\r\n        this.filesystem.resolveDirectoryUrl(this.filesystem.externalDataDirectory)\r\n            .then(function (directory) {\r\n            // get or create results file\r\n            _this.filesystem.getFile(directory, filename, { create: true, exclusive: false })\r\n                .then(function (file) {\r\n                console.log(\"fileEntry is file?\" + file.isFile.toString());\r\n                _this.writeFile(file, csvContent);\r\n            })\r\n                .catch(function (err) {\r\n                console.log(\"Resolve file error: \" + err);\r\n            });\r\n        })\r\n            .catch(function (err) {\r\n            console.log(\"Resolve filesystem error: \" + err);\r\n        });\r\n    };\r\n    Data.prototype.writeFile = function (fileEntry, data) {\r\n        fileEntry.createWriter(function (writer) {\r\n            writer.onwriteend = function (evt) {\r\n                console.log(\"File successfully created!\");\r\n            };\r\n            writer.write(data);\r\n        }, function (evt, where) {\r\n            console.log(\"Error writing file \" + where + \" :\");\r\n            console.log(JSON.stringify(evt));\r\n        });\r\n    };\r\n    Data.prototype.mapToObj = function (strMap) {\r\n        var obj = {};\r\n        strMap.forEach(function (value, key, map) {\r\n            obj[key] = value;\r\n        });\r\n        return obj;\r\n    };\r\n    return Data;\r\n}());\r\nData = __decorate([\r\n    Injectable(),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Storage !== \"undefined\" && Storage) === \"function\" && _a || Object, typeof (_b = typeof File !== \"undefined\" && File) === \"function\" && _b || Object, typeof (_c = typeof Api !== \"undefined\" && Api) === \"function\" && _c || Object, typeof (_d = typeof Stimuli !== \"undefined\" && Stimuli) === \"function\" && _d || Object, typeof (_e = typeof TrainingProvider !== \"undefined\" && TrainingProvider) === \"function\" && _e || Object, typeof (_f = typeof PairComparisonProvider !== \"undefined\" && PairComparisonProvider) === \"function\" && _f || Object, typeof (_g = typeof OutputEstimationProvider !== \"undefined\" && OutputEstimationProvider) === \"function\" && _g || Object, typeof (_h = typeof RankingTaskProvider !== \"undefined\" && RankingTaskProvider) === \"function\" && _h || Object])\r\n], Data);\r\nexport { Data };\r\nvar _a, _b, _c, _d, _e, _f, _g, _h;\r\n//# sourceMappingURL=data.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/data/data.ts.pre-build-optimizer.js","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 166;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 166\n// module chunks = 13","var map = {\n\t\"../pages/consent-form/consent-form.module.ngfactory\": [\n\t\t275,\n\t\t12\n\t],\n\t\"../pages/instructions-check/instructions-check.module.ngfactory\": [\n\t\t276,\n\t\t11\n\t],\n\t\"../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory\": [\n\t\t278,\n\t\t10\n\t],\n\t\"../pages/output-estimation/output-estimation.module.ngfactory\": [\n\t\t277,\n\t\t2\n\t],\n\t\"../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory\": [\n\t\t282,\n\t\t9\n\t],\n\t\"../pages/pair-comparison/pair-comparison.module.ngfactory\": [\n\t\t279,\n\t\t1\n\t],\n\t\"../pages/ranking-task/ranking-task.module.ngfactory\": [\n\t\t281,\n\t\t5\n\t],\n\t\"../pages/registration/registration.module.ngfactory\": [\n\t\t280,\n\t\t3\n\t],\n\t\"../pages/reward/reward.module.ngfactory\": [\n\t\t283,\n\t\t8\n\t],\n\t\"../pages/training-instructions/training-instructions.module.ngfactory\": [\n\t\t286,\n\t\t6\n\t],\n\t\"../pages/training-instructions2/training-instructions2.module.ngfactory\": [\n\t\t287,\n\t\t7\n\t],\n\t\"../pages/training/training.module.ngfactory\": [\n\t\t284,\n\t\t0\n\t],\n\t\"../pages/view-records/view-records.module.ngfactory\": [\n\t\t285,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 195;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 195\n// module chunks = 13","import { Monster } from './monster';\n\nexport class TrainingCard {\n\n  monster: Monster;\n  revealed: boolean;\n\n  constructor(monster: Monster) {\n    this.monster = monster;\n    this.revealed = false;\n  }\n\n  reveal() {\n    this.revealed = true;\n  }\n\n  hasBeenRevealed() {\n    return this.revealed === true;\n  }\n\n  public equals(obj: TrainingCard) : boolean { \n    return this.monster === obj.monster;\n  } \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/training-card.ts","import { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { ErrorHandler, NgModule, Injectable, Injector } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { AndroidFullScreen } from '@ionic-native/android-full-screen';\nimport { File } from '@ionic-native/file';\nimport { Pro } from '@ionic/pro';\n\nimport { Api, Utils, Data, Stimuli, TrainingProvider, PairComparisonProvider, \n  OutputEstimationProvider, RankingTaskProvider} from '../providers/providers';\n  import { AppInfo } from '../providers/stimuli/app-info';\nimport { MyApp } from './app.component';\n\n\n// Ionic Pro\nPro.init(AppInfo.id, {\n  appVersion: AppInfo.version\n})\n\n\n// The translate loader needs to know where to load i18n files\n// in Ionic's static asset pipeline.\nexport function createTranslateLoader(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n\n// Error Handler\n@Injectable()\nexport class MyErrorHandler implements ErrorHandler {\n  ionicErrorHandler: IonicErrorHandler;\n\n  constructor(injector: Injector) {\n    try {\n      this.ionicErrorHandler = injector.get(IonicErrorHandler);\n    } catch(e) {\n      // Unable to get the IonicErrorHandler provider, ensure\n      // IonicErrorHandler has been added to the providers list below\n    }\n  }\n\n  handleError(err: any): void {\n    Pro.monitoring.handleNewError(err);\n    // Remove this if you want to disable Ionic's auto exception handling\n    // in development mode.\n    this.ionicErrorHandler && this.ionicErrorHandler.handleError(err);\n  }\n}\n\n\n// App Module\n@NgModule({\n  declarations: [\n    MyApp\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: (createTranslateLoader),\n        deps: [HttpClient]\n      }\n    }),\n    IonicModule.forRoot(MyApp, {\n      preloadModules: true\n    }, \n{\n  links: [\n    { loadChildren: '../pages/consent-form/consent-form.module.ngfactory#ConsentFormPageModuleNgFactory', name: 'ConsentFormPage', segment: 'consent-form', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/instructions-check/instructions-check.module.ngfactory#InstructionsCheckPageModuleNgFactory', name: 'InstructionsCheckPage', segment: 'instructions-check', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/output-estimation/output-estimation.module.ngfactory#OutputEstimationPageModuleNgFactory', name: 'OutputEstimationPage', segment: 'output-estimation', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory#OutputEstimationInstructionsPageModuleNgFactory', name: 'OutputEstimationInstructionsPage', segment: 'output-estimation-instructions', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/pair-comparison/pair-comparison.module.ngfactory#PairComparisonPageModuleNgFactory', name: 'PairComparisonPage', segment: 'pair-comparison', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/registration/registration.module.ngfactory#RegistrationPageModuleNgFactory', name: 'RegistrationPage', segment: 'registration', priority: 'high', defaultHistory: [] },\n    { loadChildren: '../pages/ranking-task/ranking-task.module.ngfactory#RankingTaskPageModuleNgFactory', name: 'RankingTaskPage', segment: 'ranking-task', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory#PairComparisonInstructionsPageModuleNgFactory', name: 'PairComparisonInstructionsPage', segment: 'pair-comparison-instructions', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/reward/reward.module.ngfactory#RewardPageModuleNgFactory', name: 'RewardPage', segment: 'reward', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/training/training.module.ngfactory#TrainingPageModuleNgFactory', name: 'TrainingPage', segment: 'training', priority: 'high', defaultHistory: [] },\n    { loadChildren: '../pages/view-records/view-records.module.ngfactory#ViewRecordsPageModuleNgFactory', name: 'ViewRecordsPage', segment: 'view-records', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/training-instructions/training-instructions.module.ngfactory#TrainingInstructionsPageModuleNgFactory', name: 'TrainingInstructionsPage', segment: 'training-instructions', priority: 'high', defaultHistory: [] },\n    { loadChildren: '../pages/training-instructions2/training-instructions2.module.ngfactory#TrainingInstructions2PageModuleNgFactory', name: 'TrainingInstructions2Page', segment: 'training-instructions2', priority: 'low', defaultHistory: [] }\n  ]\n}),\n    IonicStorageModule.forRoot({\n      name: 'data',\n      driverOrder: ['sqlite', 'indexeddb', 'websql']\n    })\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp\n  ],\n  providers: [\n    SplashScreen,\n    StatusBar,\n    AndroidFullScreen,\n    IonicErrorHandler,\n    [{ provide: ErrorHandler, useClass: MyErrorHandler }],\n    File,\n    Api,\n    Utils,\n    Data,\n    Stimuli,\n    TrainingProvider,\n    PairComparisonProvider,\n    OutputEstimationProvider,\n    RankingTaskProvider\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","/**\n * @fileoverview This file is generated by the Angular template compiler.\n * Do not edit.\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride}\n */\n /* tslint:disable */\n\n\nimport * as i0 from '@angular/core';\nimport * as i1 from '../../node_modules/ionic-angular/components/item/item.ngfactory';\nimport * as i2 from 'ionic-angular/components/item/item';\nimport * as i3 from 'ionic-angular/util/form';\nimport * as i4 from 'ionic-angular/config/config';\nimport * as i5 from 'ionic-angular/components/item/item-reorder';\nimport * as i6 from 'ionic-angular/components/item/item-content';\nimport * as i7 from 'ionic-angular/components/menu/menu-close';\nimport * as i8 from 'ionic-angular/components/app/menu-controller';\nimport * as i9 from '../../node_modules/ionic-angular/components/menu/menu.ngfactory';\nimport * as i10 from 'ionic-angular/components/split-pane/split-pane';\nimport * as i11 from 'ionic-angular/components/menu/menu';\nimport * as i12 from 'ionic-angular/platform/platform';\nimport * as i13 from 'ionic-angular/platform/keyboard';\nimport * as i14 from 'ionic-angular/gestures/gesture-controller';\nimport * as i15 from 'ionic-angular/platform/dom-controller';\nimport * as i16 from 'ionic-angular/components/app/app';\nimport * as i17 from 'ionic-angular/components/toolbar/toolbar-header';\nimport * as i18 from 'ionic-angular/navigation/view-controller';\nimport * as i19 from '../../node_modules/ionic-angular/components/toolbar/toolbar.ngfactory';\nimport * as i20 from 'ionic-angular/components/toolbar/toolbar';\nimport * as i21 from '../../node_modules/ionic-angular/components/toolbar/toolbar-title.ngfactory';\nimport * as i22 from 'ionic-angular/components/toolbar/toolbar-title';\nimport * as i23 from 'ionic-angular/components/toolbar/navbar';\nimport * as i24 from '../../node_modules/ionic-angular/components/content/content.ngfactory';\nimport * as i25 from 'ionic-angular/components/content/content';\nimport * as i26 from 'ionic-angular/navigation/nav-controller';\nimport * as i27 from 'ionic-angular/components/list/list';\nimport * as i28 from '@angular/common';\nimport * as i29 from '../../node_modules/ionic-angular/components/nav/nav.ngfactory';\nimport * as i30 from 'ionic-angular/components/nav/nav';\nimport * as i31 from 'ionic-angular/transitions/transition-controller';\nimport * as i32 from 'ionic-angular/navigation/deep-linker';\nimport * as i33 from './app.component';\nimport * as i34 from '@ngx-translate/core/src/translate.service';\nimport * as i35 from '@ionic-native/status-bar/index';\nimport * as i36 from '@ionic-native/splash-screen/index';\nimport * as i37 from '@ionic-native/android-full-screen/index';\nimport * as i38 from '../providers/stimuli/stimuli';\nconst styles_MyApp:any[] = ([] as any[]);\nexport const RenderType_MyApp:i0.RendererType2 = i0.crt({encapsulation:2,styles:styles_MyApp,\n    data:{}});\nfunction View_MyApp_1(_l:any):i0.ViewDefinition {\n  return i0.vid(0,[(_l()(),i0.eld(0,(null as any),(null as any),7,'button',[['class',\n      'item item-block'],['ion-item',''],['menuClose','']],(null as any),[[(null as any),\n      'click']],(_v,en,$event) => {\n    var ad:boolean = true;\n    var _co:any = _v.component;\n    if (('click' === en)) {\n      const pd_0:any = ((<any>i0.nov(_v,6).close()) !== false);\n      ad = (pd_0 && ad);\n    }\n    if (('click' === en)) {\n      const pd_1:any = ((<any>_co.openPage(_v.context.$implicit)) !== false);\n      ad = (pd_1 && ad);\n    }\n    return ad;\n  },i1.View_Item_0,i1.RenderType_Item)),i0.did(1097728,(null as any),3,i2.Item,[i3.Form,\n      i4.Config,i0.ElementRef,i0.Renderer,[2,i5.ItemReorder]],(null as any),(null as any)),\n      i0.qud(335544320,4,{contentLabel:0}),i0.qud(603979776,5,{_buttons:1}),i0.qud(603979776,\n          6,{_icons:1}),i0.did(16384,(null as any),0,i6.ItemContent,([] as any[]),\n          (null as any),(null as any)),i0.did(16384,(null as any),0,i7.MenuClose,\n          [i8.MenuController],{menuClose:[0,'menuClose']},(null as any)),(_l()(),i0.ted(2,\n          ['\\n          ','\\n        ']))],(_ck,_v) => {\n    const currVal_0:any = '';\n    _ck(_v,6,0,currVal_0);\n  },(_ck,_v) => {\n    const currVal_1:any = _v.context.$implicit.title;\n    _ck(_v,7,0,currVal_1);\n  });\n}\nexport function View_MyApp_0(_l:any):i0.ViewDefinition {\n  return i0.vid(0,[i0.qud(402653184,1,{nav:0}),(_l()(),i0.eld(0,(null as any),(null as any),\n      28,'ion-menu',[['role','navigation']],(null as any),(null as any),(null as any),\n      i9.View_Menu_0,i9.RenderType_Menu)),i0.prd(6144,(null as any),i10.RootNode,\n      (null as any),[i11.Menu]),i0.did(245760,(null as any),2,i11.Menu,[i8.MenuController,\n      i0.ElementRef,i4.Config,i12.Platform,i0.Renderer,i13.Keyboard,i14.GestureController,\n      i15.DomController,i16.App],{content:[0,'content']},(null as any)),i0.qud(335544320,\n      2,{menuContent:0}),i0.qud(335544320,3,{menuNav:0}),(_l()(),i0.ted(0,['\\n    '])),\n      (_l()(),i0.eld(0,(null as any),0,10,'ion-header',([] as any[]),(null as any),\n          (null as any),(null as any),(null as any),(null as any))),i0.did(16384,\n          (null as any),0,i17.Header,[i4.Config,i0.ElementRef,i0.Renderer,[2,i18.ViewController]],\n          (null as any),(null as any)),(_l()(),i0.ted((null as any),['\\n      '])),\n      (_l()(),i0.eld(0,(null as any),(null as any),6,'ion-toolbar',[['class','toolbar']],\n          [[2,'statusbar-padding',(null as any)]],(null as any),(null as any),i19.View_Toolbar_0,\n          i19.RenderType_Toolbar)),i0.did(49152,(null as any),0,i20.Toolbar,[i4.Config,\n          i0.ElementRef,i0.Renderer],(null as any),(null as any)),(_l()(),i0.ted(3,\n          ['\\n        '])),(_l()(),i0.eld(0,(null as any),3,2,'ion-title',([] as any[]),\n          (null as any),(null as any),(null as any),i21.View_ToolbarTitle_0,i21.RenderType_ToolbarTitle)),\n      i0.did(49152,(null as any),0,i22.ToolbarTitle,[i4.Config,i0.ElementRef,i0.Renderer,\n          [2,i20.Toolbar],[2,i23.Navbar]],(null as any),(null as any)),(_l()(),i0.ted(0,\n          ['Pages'])),(_l()(),i0.ted(3,['\\n      '])),(_l()(),i0.ted((null as any),\n          ['\\n    '])),(_l()(),i0.ted(0,['\\n\\n    '])),(_l()(),i0.eld(0,(null as any),\n          0,9,'ion-content',([] as any[]),[[2,'statusbar-padding',(null as any)],[2,\n              'has-refresher',(null as any)]],[['window','resize']],(_v,en,$event) => {\n            var ad:boolean = true;\n            if (('window:resize' === en)) {\n              const pd_0:any = ((<any>i0.nov(_v,20).resize()) !== false);\n              ad = (pd_0 && ad);\n            }\n            return ad;\n          },i24.View_Content_0,i24.RenderType_Content)),i0.did(4374528,[[2,4]],0,\n          i25.Content,[i4.Config,i12.Platform,i15.DomController,i0.ElementRef,i0.Renderer,\n              i16.App,i13.Keyboard,i0.NgZone,[2,i18.ViewController],[2,i26.NavController]],\n          (null as any),(null as any)),(_l()(),i0.ted(1,['\\n      '])),(_l()(),i0.eld(0,\n          (null as any),1,5,'ion-list',([] as any[]),(null as any),(null as any),(null as any),\n          (null as any),(null as any))),i0.did(16384,(null as any),0,i27.List,[i4.Config,\n          i0.ElementRef,i0.Renderer,i12.Platform,i14.GestureController,i15.DomController],\n          (null as any),(null as any)),(_l()(),i0.ted((null as any),['\\n        '])),\n      (_l()(),i0.and(16777216,(null as any),(null as any),1,(null as any),View_MyApp_1)),\n      i0.did(802816,(null as any),0,i28.NgForOf,[i0.ViewContainerRef,i0.TemplateRef,\n          i0.IterableDiffers],{ngForOf:[0,'ngForOf']},(null as any)),(_l()(),i0.ted((null as any),\n          ['\\n      '])),(_l()(),i0.ted(1,['\\n    '])),(_l()(),i0.ted(0,['\\n\\n  '])),\n      (_l()(),i0.ted((null as any),['\\n  '])),(_l()(),i0.eld(0,(null as any),(null as any),\n          2,'ion-nav',([] as any[]),(null as any),(null as any),(null as any),i29.View_Nav_0,\n          i29.RenderType_Nav)),i0.prd(6144,(null as any),i10.RootNode,(null as any),\n          [i30.Nav]),i0.did(4374528,[[1,4],['content',4]],0,i30.Nav,[[2,i18.ViewController],\n          [2,i26.NavController],i16.App,i4.Config,i12.Platform,i0.ElementRef,i0.NgZone,\n          i0.Renderer,i0.ComponentFactoryResolver,i14.GestureController,i31.TransitionController,\n          [2,i32.DeepLinker],i15.DomController,i0.ErrorHandler],{root:[0,'root']},\n          (null as any))],(_ck,_v) => {\n    var _co:i33.MyApp = _v.component;\n    const currVal_0:any = i0.nov(_v,33);\n    _ck(_v,3,0,currVal_0);\n    const currVal_4:any = _co.pages;\n    _ck(_v,26,0,currVal_4);\n    const currVal_5:any = _co.rootPage;\n    _ck(_v,33,0,currVal_5);\n  },(_ck,_v) => {\n    const currVal_1:any = i0.nov(_v,11)._sbPadding;\n    _ck(_v,10,0,currVal_1);\n    const currVal_2:any = i0.nov(_v,20).statusbarPadding;\n    const currVal_3:any = i0.nov(_v,20)._hasRefresher;\n    _ck(_v,19,0,currVal_2,currVal_3);\n  });\n}\nexport function View_MyApp_Host_0(_l:any):i0.ViewDefinition {\n  return i0.vid(0,[(_l()(),i0.eld(0,(null as any),(null as any),1,'ng-component',\n      ([] as any[]),(null as any),(null as any),(null as any),View_MyApp_0,RenderType_MyApp)),\n      i0.did(49152,(null as any),0,i33.MyApp,[i34.TranslateService,i12.Platform,i35.StatusBar,\n          i36.SplashScreen,i37.AndroidFullScreen,i38.Stimuli],(null as any),(null as any))],\n      (null as any),(null as any));\n}\nexport const MyAppNgFactory:i0.ComponentFactory<i33.MyApp> = i0.ccf('ng-component',\n    i33.MyApp,View_MyApp_Host_0,{},{},([] as any[]));\n//# sourceMappingURL=data:application/json;base64,eyJmaWxlIjoiQzovVXNlcnMvbWVpbmkvTVBJL3Byb2plY3RzL210dC9zcmMvYXBwL2FwcC5jb21wb25lbnQubmdmYWN0b3J5LnRzIiwidmVyc2lvbiI6Mywic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibmc6Ly8vQzovVXNlcnMvbWVpbmkvTVBJL3Byb2plY3RzL210dC9zcmMvYXBwL2FwcC5jb21wb25lbnQudHMiLCJuZzovLy9DOi9Vc2Vycy9tZWluaS9NUEkvcHJvamVjdHMvbXR0L3NyYy9hcHAvYXBwLmNvbXBvbmVudC50cy5NeUFwcC5odG1sIiwibmc6Ly8vQzovVXNlcnMvbWVpbmkvTVBJL3Byb2plY3RzL210dC9zcmMvYXBwL2FwcC5jb21wb25lbnQudHMuTXlBcHBfSG9zdC5odG1sIl0sInNvdXJjZXNDb250ZW50IjpbIiAiLCI8aW9uLW1lbnUgW2NvbnRlbnRdPVwiY29udGVudFwiPlxuICAgIDxpb24taGVhZGVyPlxuICAgICAgPGlvbi10b29sYmFyPlxuICAgICAgICA8aW9uLXRpdGxlPlBhZ2VzPC9pb24tdGl0bGU+XG4gICAgICA8L2lvbi10b29sYmFyPlxuICAgIDwvaW9uLWhlYWRlcj5cblxuICAgIDxpb24tY29udGVudD5cbiAgICAgIDxpb24tbGlzdD5cbiAgICAgICAgPGJ1dHRvbiBtZW51Q2xvc2UgaW9uLWl0ZW0gKm5nRm9yPVwibGV0IHAgb2YgcGFnZXNcIiAoY2xpY2spPVwib3BlblBhZ2UocClcIj5cbiAgICAgICAgICB7e3AudGl0bGV9fVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvaW9uLWxpc3Q+XG4gICAgPC9pb24tY29udGVudD5cblxuICA8L2lvbi1tZW51PlxuICA8aW9uLW5hdiAjY29udGVudCBbcm9vdF09XCJyb290UGFnZVwiPjwvaW9uLW5hdj4iLCI8bmctY29tcG9uZW50PjwvbmctY29tcG9uZW50PiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkNTUTtNQUFBO01BQUE7SUFBQTtJQUFBO0lBQUE7TUFBQTtNQUFBO0lBQUE7SUFBbUQ7TUFBQTtNQUFBO0lBQUE7SUFBbkQ7RUFBQSw2Q0FBQTswQ0FBQTthQUFBO1VBQUEscUJBQUE7VUFBQSxvQ0FBQTtVQUFBLCtEQUF5RTtVQUFBO0lBQWpFO0lBQVIsV0FBUSxTQUFSOztJQUF5RTtJQUFBOzs7O2lEQVRqRjtNQUFBO3VDQUFBO01BQUEsaUNBQUE7OytCQUFBO01BQUEsb0RBQThCO01BQzFCO1VBQUEsaUVBQUE7VUFBQTtVQUFBLDZCQUFZO01BQ1Y7VUFBQTtnQ0FBQSxVQUFBO21DQUFBLCtCQUFhO1VBQUEsaUJBQ1g7VUFBQTthQUFBO1VBQUEsNkRBQVc7VUFBQSxZQUFpQixpQ0FDaEI7VUFBQSxhQUNILGlDQUViO1VBQUE7Y0FBQTtZQUFBO1lBQUE7Y0FBQTtjQUFBO1lBQUE7WUFBQTtVQUFBLHFEQUFBO3NCQUFBOzZDQUFBO1VBQUEsNkJBQWEsaUNBQ1g7VUFBQTtVQUFBLHFDQUFBO3dGQUFBO1VBQUEsNkJBQVU7TUFDUjthQUFBOzRCQUFBLHlDQUVTO1VBQUEsZUFDQSwrQkFDQztNQUVMLHlDQUNYO1VBQUE7NEJBQUE7VUFBQSxrQkFBQTtVQUFBOztVQUFBO1VBQUE7O0lBaEJRO0lBQVYsV0FBVSxTQUFWO0lBU21DO0lBQTNCLFlBQTJCLFNBQTNCO0lBT1k7SUFBbEIsWUFBa0IsU0FBbEI7O0lBZEk7SUFBQSxZQUFBLFNBQUE7SUFLRjtJQUFBO0lBQUEsWUFBQSxtQkFBQTs7OztvQkNQSjtNQUFBO2FBQUE7NERBQUE7Ozs7In0=\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ngfactory.ts","// The page the user lands on after opening the app and without a session\nexport const FirstRunPage = 'RegistrationPage';\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pages.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Nav, Platform } from 'ionic-angular';\r\nimport { AndroidFullScreen } from '@ionic-native/android-full-screen';\r\n\r\nimport { FirstRunPage } from '../pages/pages';\r\nimport { Stimuli} from '../providers/providers';\r\n\r\ndeclare var cordova: any;\r\n\r\n@Component({\r\n  template: `<ion-menu [content]=\"content\">\r\n    <ion-header>\r\n      <ion-toolbar>\r\n        <ion-title>Pages</ion-title>\r\n      </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <ion-content>\r\n      <ion-list>\r\n        <button menuClose ion-item *ngFor=\"let p of pages\" (click)=\"openPage(p)\">\r\n          {{p.title}}\r\n        </button>\r\n      </ion-list>\r\n    </ion-content>\r\n\r\n  </ion-menu>\r\n  <ion-nav #content [root]=\"rootPage\"></ion-nav>`\r\n})\r\nexport class MyApp {\r\n  rootPage = FirstRunPage;\r\n\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  constructor(\r\n    private translate: TranslateService, \r\n    private platform: Platform,\r\n    private statusBar: StatusBar, \r\n    private splashScreen: SplashScreen,\r\n    private androidFullScreen: AndroidFullScreen, \r\n    private stimuli: Stimuli\r\n  ) {\r\n      this.platform.ready().then(() => {\r\n        this.statusBar.styleDefault();\r\n        this.splashScreen.hide();\r\n        this.enterPinnedMode();\r\n        this.enterImmersiveMode();\r\n      });\r\n      this.initTranslate();\r\n  }\r\n\r\n  /**\r\n\t * enterPinnedMode()\r\n\t */\r\n\tenterPinnedMode() {\r\n\t\tif (typeof cordova !== 'undefined') {\r\n\t\t\tcordova.plugins.screenPinning.enterPinnedMode(\r\n\t\t\t\t() => { console.log('entered pinned mode') },\r\n\t\t\t\t(error) => { console.log('error when entering pinned mode: ' + error) },\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * enterImmersiveMode()\r\n\t */\r\n\tenterImmersiveMode() {\r\n\t\tthis.androidFullScreen.isImmersiveModeSupported()\r\n\t\t\t.then(() => this.androidFullScreen.immersiveMode())\r\n\t\t\t.catch((error: any) => console.log(error));\r\n\t}\r\n\r\n  initTranslate() {\r\n    // Set the default language\r\n    this.translate.addLangs(['en', 'de']);\r\n    this.translate.setDefaultLang('en');\r\n\r\n    // Get language from local storage\r\n    if (localStorage.getItem('lang') != null && localStorage.getItem('lang') != '') {\r\n      this.translate.use(localStorage.getItem('lang'));\r\n    }\r\n\r\n    // Update language when changed by an app component\r\n    this.stimuli.langChangedEvent.subscribe(lang => {\r\n      console.log('language change evend emitted: ', lang);\r\n      this.translate.use(lang);\r\n    });\r\n  }\r\n\r\n  openPage(page) {\r\n    // Reset the content nav to have just this page\r\n    // we wouldn't want the back button to show in this scenario\r\n    this.nav.setRoot(page.component);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","/**\n * @fileoverview This file is generated by the Angular template compiler.\n * Do not edit.\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride}\n */\n /* tslint:disable */\n\n\nimport * as i0 from '@angular/core';\nimport * as i1 from './app.module';\nimport * as i2 from 'ionic-angular/components/app/app-root';\nimport * as i3 from '../../node_modules/ionic-angular/components/action-sheet/action-sheet-component.ngfactory';\nimport * as i4 from '../../node_modules/ionic-angular/components/alert/alert-component.ngfactory';\nimport * as i5 from '../../node_modules/ionic-angular/components/app/app-root.ngfactory';\nimport * as i6 from '../../node_modules/ionic-angular/components/loading/loading-component.ngfactory';\nimport * as i7 from '../../node_modules/ionic-angular/components/modal/modal-component.ngfactory';\nimport * as i8 from '../../node_modules/ionic-angular/components/picker/picker-component.ngfactory';\nimport * as i9 from '../../node_modules/ionic-angular/components/popover/popover-component.ngfactory';\nimport * as i10 from '../../node_modules/ionic-angular/components/select/select-popover-component.ngfactory';\nimport * as i11 from '../../node_modules/ionic-angular/components/toast/toast-component.ngfactory';\nimport * as i12 from './app.component.ngfactory';\nimport * as i13 from '@angular/common';\nimport * as i14 from '@angular/platform-browser';\nimport * as i15 from 'ionic-angular/gestures/gesture-config';\nimport * as i16 from '@angular/common/http';\nimport * as i17 from '@angular/forms';\nimport * as i18 from '@ngx-translate/core/src/translate.loader';\nimport * as i19 from '@ngx-translate/core/src/translate.compiler';\nimport * as i20 from '@ngx-translate/core/src/translate.parser';\nimport * as i21 from '@ngx-translate/core/src/missing-translation-handler';\nimport * as i22 from '@ngx-translate/core/src/translate.store';\nimport * as i23 from '@ngx-translate/core/src/translate.service';\nimport * as i24 from 'ionic-angular/components/action-sheet/action-sheet-controller';\nimport * as i25 from 'ionic-angular/components/app/app';\nimport * as i26 from 'ionic-angular/config/config';\nimport * as i27 from 'ionic-angular/components/alert/alert-controller';\nimport * as i28 from 'ionic-angular/util/events';\nimport * as i29 from 'ionic-angular/util/form';\nimport * as i30 from 'ionic-angular/tap-click/haptic';\nimport * as i31 from 'ionic-angular/platform/platform';\nimport * as i32 from 'ionic-angular/platform/keyboard';\nimport * as i33 from 'ionic-angular/platform/dom-controller';\nimport * as i34 from 'ionic-angular/components/loading/loading-controller';\nimport * as i35 from 'ionic-angular/module';\nimport * as i36 from 'ionic-angular/navigation/url-serializer';\nimport * as i37 from 'ionic-angular/navigation/deep-linker';\nimport * as i38 from 'ionic-angular/util/module-loader';\nimport * as i39 from 'ionic-angular/components/modal/modal-controller';\nimport * as i40 from 'ionic-angular/components/picker/picker-controller';\nimport * as i41 from 'ionic-angular/components/popover/popover-controller';\nimport * as i42 from 'ionic-angular/tap-click/tap-click';\nimport * as i43 from 'ionic-angular/gestures/gesture-controller';\nimport * as i44 from 'ionic-angular/components/toast/toast-controller';\nimport * as i45 from 'ionic-angular/transitions/transition-controller';\nimport * as i46 from '@ionic/storage/es2015/storage';\nimport * as i47 from '@ionic-native/splash-screen/index';\nimport * as i48 from '@ionic-native/status-bar/index';\nimport * as i49 from '@ionic-native/android-full-screen/index';\nimport * as i50 from 'ionic-angular/util/ionic-error-handler';\nimport * as i51 from '@ionic-native/file/index';\nimport * as i52 from '../providers/api/api';\nimport * as i53 from '../providers/utils/utils';\nimport * as i54 from '../providers/stimuli/stimuli';\nimport * as i55 from '../providers/training/training';\nimport * as i56 from '../providers/pair-comparison/pair-comparison';\nimport * as i57 from '../providers/output-estimation/output-estimation';\nimport * as i58 from '../providers/ranking-task/ranking-task';\nimport * as i59 from '../providers/data/data';\nimport * as i60 from 'ionic-angular/platform/platform-registry';\nimport * as i61 from 'ionic-angular/components/app/menu-controller';\nimport * as i62 from 'ionic-angular/util/ng-module-loader';\nimport * as i63 from 'ionic-angular/config/mode-registry';\nimport * as i64 from '@ngx-translate/core/index';\nimport * as i65 from '@ionic/storage/es2015/index';\nimport * as i66 from './app.component';\nexport const AppModuleNgFactory:i0.NgModuleFactory<i1.AppModule> = i0.cmf(i1.AppModule,\n    [i2.IonicApp],(_l:any) => {\n      return i0.mod([i0.mpd(512,i0.ComponentFactoryResolver,i0.CodegenComponentFactoryResolver,\n          [[8,[i3.ActionSheetCmpNgFactory,i4.AlertCmpNgFactory,i5.IonicAppNgFactory,\n              i6.LoadingCmpNgFactory,i7.ModalCmpNgFactory,i8.PickerCmpNgFactory,i9.PopoverCmpNgFactory,\n              i10.SelectPopoverNgFactory,i11.ToastCmpNgFactory,i12.MyAppNgFactory]],\n              [3,i0.ComponentFactoryResolver],i0.NgModuleRef]),i0.mpd(5120,i0.LOCALE_ID,\n          i0.m,[[3,i0.LOCALE_ID]]),i0.mpd(4608,i13.NgLocalization,i13.NgLocaleLocalization,\n          [i0.LOCALE_ID]),i0.mpd(5120,i0.APP_ID,i0.f,([] as any[])),i0.mpd(5120,\n          i0.IterableDiffers,i0.k,([] as any[])),i0.mpd(5120,i0.KeyValueDiffers,\n          i0.l,([] as any[])),i0.mpd(4608,i14.DomSanitizer,i14.e,[i13.DOCUMENT]),\n          i0.mpd(6144,i0.Sanitizer,(null as any),[i14.DomSanitizer]),i0.mpd(4608,\n              i14.HAMMER_GESTURE_CONFIG,i15.IonicGestureConfig,([] as any[])),i0.mpd(5120,\n              i14.EVENT_MANAGER_PLUGINS,(p0_0:any,p1_0:any,p2_0:any,p2_1:any) => {\n                return [new i14.DomEventsPlugin(p0_0),new i14.KeyEventsPlugin(p1_0),\n                    new i14.HammerGesturesPlugin(p2_0,p2_1)];\n              },[i13.DOCUMENT,i13.DOCUMENT,i13.DOCUMENT,i14.HAMMER_GESTURE_CONFIG]),\n          i0.mpd(4608,i14.EventManager,i14.EventManager,[i14.EVENT_MANAGER_PLUGINS,\n              i0.NgZone]),i0.mpd(135680,i14.DomSharedStylesHost,i14.DomSharedStylesHost,\n              [i13.DOCUMENT]),i0.mpd(4608,i14.DomRendererFactory2,i14.DomRendererFactory2,\n              [i14.EventManager,i14.DomSharedStylesHost]),i0.mpd(6144,i0.RendererFactory2,\n              (null as any),[i14.DomRendererFactory2]),i0.mpd(6144,i14.SharedStylesHost,\n              (null as any),[i14.DomSharedStylesHost]),i0.mpd(4608,i0.Testability,\n              i0.Testability,[i0.NgZone]),i0.mpd(4608,i14.Meta,i14.Meta,[i13.DOCUMENT]),\n          i0.mpd(4608,i14.Title,i14.Title,[i13.DOCUMENT]),i0.mpd(4608,i16.HttpXsrfTokenExtractor,\n              i16.g,[i13.DOCUMENT,i0.PLATFORM_ID,i16.e]),i0.mpd(4608,i16.h,i16.h,\n              [i16.HttpXsrfTokenExtractor,i16.f]),i0.mpd(5120,i16.HTTP_INTERCEPTORS,\n              (p0_0:any) => {\n                return [p0_0];\n              },[i16.h]),i0.mpd(4608,i16.d,i16.d,([] as any[])),i0.mpd(6144,i16.XhrFactory,\n              (null as any),[i16.d]),i0.mpd(4608,i16.HttpXhrBackend,i16.HttpXhrBackend,\n              [i16.XhrFactory]),i0.mpd(6144,i16.HttpBackend,(null as any),[i16.HttpXhrBackend]),\n          i0.mpd(5120,i16.HttpHandler,i16.interceptingHandler,[i16.HttpBackend,[2,\n              i16.HTTP_INTERCEPTORS]]),i0.mpd(4608,i16.HttpClient,i16.HttpClient,\n              [i16.HttpHandler]),i0.mpd(4608,i17.i,i17.i,([] as any[])),i0.mpd(4608,\n              i17.FormBuilder,i17.FormBuilder,([] as any[])),i0.mpd(5120,i18.TranslateLoader,\n              i1.createTranslateLoader,[i16.HttpClient]),i0.mpd(4608,i19.TranslateCompiler,\n              i19.TranslateFakeCompiler,([] as any[])),i0.mpd(4608,i20.TranslateParser,\n              i20.TranslateDefaultParser,([] as any[])),i0.mpd(4608,i21.MissingTranslationHandler,\n              i21.FakeMissingTranslationHandler,([] as any[])),i0.mpd(4608,i22.TranslateStore,\n              i22.TranslateStore,([] as any[])),i0.mpd(4608,i23.TranslateService,\n              i23.TranslateService,[i22.TranslateStore,i18.TranslateLoader,i19.TranslateCompiler,\n                  i20.TranslateParser,i21.MissingTranslationHandler,i23.USE_DEFAULT_LANG,\n                  i23.USE_STORE]),i0.mpd(4608,i24.ActionSheetController,i24.ActionSheetController,\n              [i25.App,i26.Config]),i0.mpd(4608,i27.AlertController,i27.AlertController,\n              [i25.App,i26.Config]),i0.mpd(4608,i28.Events,i28.Events,([] as any[])),\n          i0.mpd(4608,i29.Form,i29.Form,([] as any[])),i0.mpd(4608,i30.Haptic,i30.Haptic,\n              [i31.Platform]),i0.mpd(4608,i32.Keyboard,i32.Keyboard,[i26.Config,i31.Platform,\n              i0.NgZone,i33.DomController]),i0.mpd(4608,i34.LoadingController,i34.LoadingController,\n              [i25.App,i26.Config]),i0.mpd(5120,i13.LocationStrategy,i35.provideLocationStrategy,\n              [i13.PlatformLocation,[2,i13.APP_BASE_HREF],i26.Config]),i0.mpd(4608,\n              i13.Location,i13.Location,[i13.LocationStrategy]),i0.mpd(5120,i36.UrlSerializer,\n              i36.setupUrlSerializer,[i25.App,i36.DeepLinkConfigToken]),i0.mpd(5120,\n              i37.DeepLinker,i37.setupDeepLinker,[i25.App,i36.UrlSerializer,i13.Location,\n                  i38.ModuleLoader,i0.ComponentFactoryResolver]),i0.mpd(4608,i39.ModalController,\n              i39.ModalController,[i25.App,i26.Config,i37.DeepLinker]),i0.mpd(4608,\n              i40.PickerController,i40.PickerController,[i25.App,i26.Config]),i0.mpd(4608,\n              i41.PopoverController,i41.PopoverController,[i25.App,i26.Config,i37.DeepLinker]),\n          i0.mpd(4608,i42.TapClick,i42.TapClick,[i26.Config,i31.Platform,i33.DomController,\n              i25.App,i43.GestureController]),i0.mpd(4608,i44.ToastController,i44.ToastController,\n              [i25.App,i26.Config]),i0.mpd(4608,i45.TransitionController,i45.TransitionController,\n              [i31.Platform,i26.Config]),i0.mpd(5120,i46.Storage,i46.provideStorage,\n              [i46.StorageConfigToken]),i0.mpd(4608,i47.SplashScreen,i47.SplashScreen,\n              ([] as any[])),i0.mpd(4608,i48.StatusBar,i48.StatusBar,([] as any[])),\n          i0.mpd(4608,i49.AndroidFullScreen,i49.AndroidFullScreen,([] as any[])),\n          i0.mpd(4608,i50.IonicErrorHandler,i50.IonicErrorHandler,([] as any[])),\n          i0.mpd(4608,i51.File,i51.File,([] as any[])),i0.mpd(4608,i52.Api,i52.Api,\n              [i16.HttpClient]),i0.mpd(4608,i53.Utils,i53.Utils,([] as any[])),i0.mpd(4608,\n              i54.Stimuli,i54.Stimuli,[i53.Utils,i31.Platform]),i0.mpd(4608,i55.TrainingProvider,\n              i55.TrainingProvider,[i53.Utils,i54.Stimuli]),i0.mpd(4608,i56.PairComparisonProvider,\n              i56.PairComparisonProvider,[i53.Utils,i54.Stimuli]),i0.mpd(4608,i57.OutputEstimationProvider,\n              i57.OutputEstimationProvider,[i53.Utils,i54.Stimuli,i55.TrainingProvider]),\n          i0.mpd(4608,i58.RankingTaskProvider,i58.RankingTaskProvider,[i23.TranslateService]),\n          i0.mpd(4608,i59.Data,i59.Data,[i46.Storage,i51.File,i52.Api,i54.Stimuli,\n              i55.TrainingProvider,i56.PairComparisonProvider,i57.OutputEstimationProvider,\n              i58.RankingTaskProvider]),i0.mpd(512,i13.CommonModule,i13.CommonModule,\n              ([] as any[])),i0.mpd(512,i0.ErrorHandler,i1.MyErrorHandler,[i0.Injector]),\n          i0.mpd(256,i26.ConfigToken,{preloadModules:true},([] as any[])),i0.mpd(1024,\n              i60.PlatformConfigToken,i60.providePlatformConfigs,([] as any[])),i0.mpd(1024,\n              i31.Platform,i31.setupPlatform,[i14.DOCUMENT,i60.PlatformConfigToken,\n                  i0.NgZone]),i0.mpd(1024,i26.Config,i26.setupConfig,[i26.ConfigToken,\n              i31.Platform]),i0.mpd(512,i33.DomController,i33.DomController,[i31.Platform]),\n          i0.mpd(512,i61.MenuController,i61.MenuController,([] as any[])),i0.mpd(512,\n              i25.App,i25.App,[i26.Config,i31.Platform,[2,i61.MenuController]]),i0.mpd(512,\n              i43.GestureController,i43.GestureController,[i25.App]),i0.mpd(256,i36.DeepLinkConfigToken,\n              {links:[{loadChildren:'../pages/consent-form/consent-form.module.ngfactory#ConsentFormPageModuleNgFactory',\n                  name:'ConsentFormPage',segment:'consent-form',priority:'low',defaultHistory:([] as any[])},\n                  {loadChildren:'../pages/instructions-check/instructions-check.module.ngfactory#InstructionsCheckPageModuleNgFactory',\n                      name:'InstructionsCheckPage',segment:'instructions-check',priority:'low',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/output-estimation/output-estimation.module.ngfactory#OutputEstimationPageModuleNgFactory',\n                      name:'OutputEstimationPage',segment:'output-estimation',priority:'low',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/output-estimation-instructions/output-estimation-instructions.module.ngfactory#OutputEstimationInstructionsPageModuleNgFactory',\n                      name:'OutputEstimationInstructionsPage',segment:'output-estimation-instructions',\n                      priority:'low',defaultHistory:([] as any[])},{loadChildren:'../pages/pair-comparison/pair-comparison.module.ngfactory#PairComparisonPageModuleNgFactory',\n                      name:'PairComparisonPage',segment:'pair-comparison',priority:'low',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/registration/registration.module.ngfactory#RegistrationPageModuleNgFactory',\n                      name:'RegistrationPage',segment:'registration',priority:'high',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/ranking-task/ranking-task.module.ngfactory#RankingTaskPageModuleNgFactory',\n                      name:'RankingTaskPage',segment:'ranking-task',priority:'low',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/pair-comparison-instructions/pair-comparison-instructions.module.ngfactory#PairComparisonInstructionsPageModuleNgFactory',\n                      name:'PairComparisonInstructionsPage',segment:'pair-comparison-instructions',\n                      priority:'low',defaultHistory:([] as any[])},{loadChildren:'../pages/reward/reward.module.ngfactory#RewardPageModuleNgFactory',\n                      name:'RewardPage',segment:'reward',priority:'low',defaultHistory:([] as any[])},\n                  {loadChildren:'../pages/training/training.module.ngfactory#TrainingPageModuleNgFactory',\n                      name:'TrainingPage',segment:'training',priority:'high',defaultHistory:([] as any[])},\n                  {loadChildren:'../pages/view-records/view-records.module.ngfactory#ViewRecordsPageModuleNgFactory',\n                      name:'ViewRecordsPage',segment:'view-records',priority:'low',\n                      defaultHistory:([] as any[])},{loadChildren:'../pages/training-instructions/training-instructions.module.ngfactory#TrainingInstructionsPageModuleNgFactory',\n                      name:'TrainingInstructionsPage',segment:'training-instructions',\n                      priority:'high',defaultHistory:([] as any[])},{loadChildren:'../pages/training-instructions2/training-instructions2.module.ngfactory#TrainingInstructions2PageModuleNgFactory',\n                      name:'TrainingInstructions2Page',segment:'training-instructions2',\n                      priority:'low',defaultHistory:([] as any[])}]},([] as any[])),\n          i0.mpd(512,i0.Compiler,i0.Compiler,([] as any[])),i0.mpd(512,i62.NgModuleLoader,\n              i62.NgModuleLoader,[i0.Compiler]),i0.mpd(1024,i38.ModuleLoader,i38.provideModuleLoader,\n              [i62.NgModuleLoader,i0.Injector]),i0.mpd(1024,i0.APP_INITIALIZER,(p0_0:any,\n              p0_1:any,p1_0:any,p2_0:any,p2_1:any,p3_0:any,p3_1:any,p3_2:any,p3_3:any,\n              p3_4:any,p4_0:any,p4_1:any,p4_2:any,p4_3:any) => {\n            return [i14.c(p0_0,p0_1),i63.registerModeConfigs(p1_0),i28.setupProvideEvents(p2_0,\n                p2_1),i42.setupTapClick(p3_0,p3_1,p3_2,p3_3,p3_4),i38.setupPreloading(p4_0,\n                p4_1,p4_2,p4_3)];\n          },[[2,i14.NgProbeToken],[2,i0.NgProbeToken],i26.Config,i31.Platform,i33.DomController,\n              i26.Config,i31.Platform,i33.DomController,i25.App,i43.GestureController,\n              i26.Config,i36.DeepLinkConfigToken,i38.ModuleLoader,i0.NgZone]),i0.mpd(512,\n              i0.ApplicationInitStatus,i0.ApplicationInitStatus,[[2,i0.APP_INITIALIZER]]),\n          i0.mpd(131584,i0.e,i0.e,[i0.NgZone,i0.Console,i0.Injector,i0.ErrorHandler,\n              i0.ComponentFactoryResolver,i0.ApplicationInitStatus]),i0.mpd(2048,\n              i0.ApplicationRef,(null as any),[i0.e]),i0.mpd(512,i0.ApplicationModule,\n              i0.ApplicationModule,[i0.ApplicationRef]),i0.mpd(512,i14.BrowserModule,\n              i14.BrowserModule,[[3,i14.BrowserModule]]),i0.mpd(512,i16.HttpClientXsrfModule,\n              i16.HttpClientXsrfModule,([] as any[])),i0.mpd(512,i16.HttpClientModule,\n              i16.HttpClientModule,([] as any[])),i0.mpd(512,i64.TranslateModule,\n              i64.TranslateModule,([] as any[])),i0.mpd(512,i17.ba,i17.ba,([] as any[])),\n          i0.mpd(512,i17.FormsModule,i17.FormsModule,([] as any[])),i0.mpd(512,i17.ReactiveFormsModule,\n              i17.ReactiveFormsModule,([] as any[])),i0.mpd(512,i35.IonicModule,i35.IonicModule,\n              ([] as any[])),i0.mpd(512,i65.IonicStorageModule,i65.IonicStorageModule,\n              ([] as any[])),i0.mpd(512,i1.AppModule,i1.AppModule,([] as any[])),\n          i0.mpd(256,i16.e,'XSRF-TOKEN',([] as any[])),i0.mpd(256,i16.f,'X-XSRF-TOKEN',\n              ([] as any[])),i0.mpd(256,i23.USE_STORE,(undefined as any),([] as any[])),\n          i0.mpd(256,i23.USE_DEFAULT_LANG,(undefined as any),([] as any[])),i0.mpd(256,\n              i2.AppRootToken,i66.MyApp,([] as any[])),i0.mpd(256,i13.APP_BASE_HREF,\n              '/',([] as any[])),i0.mpd(256,i46.StorageConfigToken,{name:'data',driverOrder:['sqlite',\n              'indexeddb','websql']},([] as any[]))]);\n    });\n//# sourceMappingURL=data:application/json;base64,eyJmaWxlIjoiQzovVXNlcnMvbWVpbmkvTVBJL3Byb2plY3RzL210dC9zcmMvYXBwL2FwcC5tb2R1bGUubmdmYWN0b3J5LnRzIiwidmVyc2lvbiI6Mywic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibmc6Ly8vQzovVXNlcnMvbWVpbmkvTVBJL3Byb2plY3RzL210dC9zcmMvYXBwL2FwcC5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiICJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7In0=\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ngfactory.ts","import { platformBrowser } from '@angular/platform-browser';\n\nimport { AppModuleNgFactory } from './app.module.ngfactory';\nimport { enableProdMode } from '@angular/core';\n\n// RELEASE: disable console log\n// console.log = function(){};\n\nenableProdMode();\nplatformBrowser().bootstrapModuleFactory(AppModuleNgFactory);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","export class Participant {\n\n  code: string;\n  gender: string;\n  age: number;\n  ageGroup: string;\n  dob: Date;\n  grade: number;\n\n  constructor(code: string) {\n    this.code = code;\n  }\n\n  public equals(obj: Participant): boolean {\n    return this.code === obj.code;\n  }\n\n}  \n\n\n// WEBPACK FOOTER //\n// ./src/models/participant.ts","import { Injectable, EventEmitter } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { Utils } from '../utils/utils';\nimport { Participant } from '../../models/participant';\nimport { CONDITIONS, CONDITIONS_ACTIVE_ONLY } from './constants';\nimport { AppInfo } from './app-info';\n\n@Injectable()\nexport class Stimuli {\n\n  appInfo: AppInfo = AppInfo;\n\n  public langChangedEvent: EventEmitter<string> = new EventEmitter();\n\n  activeOnlyVersion: boolean;\n  onlineVersion: boolean = false;\n  \n  conditionIndex: number;\n  initialTimestamp: number;\n  participant: Participant;\n  featuresOrder: string[];\n  trainingType: string;\n  testTypes: string[];\n  currentTestIndex: number = -1;\n  runInBrowser: boolean = false;\n  conditionCounterOverride: number = null;\n  questionsCheck: any[] = [];\n  questionsCheckCounter: number = 0;\n\n  constructor(private utils: Utils, private platform: Platform) {\n    console.log('Hello Stimuli Provider');\n    this.participant = new Participant(\"anonymous-\" + this.utils.getCounterValue());\n    this.runInBrowser = this.platform.is('core') || this.platform.is('mobileweb');\n  }\n\n  initialize() {\n    this.initialTimestamp = Date.now();\n    this.participant = new Participant(\"anonymous-\" + this.utils.getCounterValue());\n    this.currentTestIndex = -1;\n  }\n\n  onAferRegistration(isActiveOnly: boolean = false) {\n    this.activeOnlyVersion = isActiveOnly;\n    this.pickCondition();\n    this.pickFeaturesOrder();\n  }\n\n  pickCondition() {\n    let counter = 0;\n    if (this.conditionCounterOverride != null) {\n      console.log(\"conditionCounterOverride\", this.conditionCounterOverride);\n      counter = this.conditionCounterOverride;\n    }\n    else {\n      counter = this.utils.getCounterValue();\n      //TODO: move to the data saving \n      this.utils.incrementCounter();\n    }\n\n    let condition = null;\n\n    if (this.activeOnlyVersion) {\n      condition = CONDITIONS_ACTIVE_ONLY[counter % CONDITIONS_ACTIVE_ONLY.length];\n      this.conditionIndex = counter % CONDITIONS_ACTIVE_ONLY.length;\n    }\n    else {\n      condition = CONDITIONS[counter % CONDITIONS.length];\n      this.conditionIndex = counter % CONDITIONS.length;\n    }\n      \n    this.trainingType = condition.training;\n    this.testTypes = condition.testing;\n    \n    console.log(\"[trainingType]\", this.trainingType);\n    console.log(\"[testTypes]\", this.testTypes);\n  }\n\n  pickFeaturesOrder() {\n    let perms = this.utils.permute([\"feature_a\", \"feature_b\", \"feature_c\"]);\n    this.featuresOrder = this.utils.pickRandomFromArray(perms);\n    console.log(\"[featuresOrder]\", this.featuresOrder);\n  }\n\n  isPassive() {\n    return this.trainingType == \"passive\";\n  }\n\n  isActive() {\n    return this.trainingType == \"active\";\n  }\n\n  getNextTestType() {\n    this.currentTestIndex++;\n    return this.testTypes[this.currentTestIndex];\n  }\n\n  runOutOfTests() {\n    return this.currentTestIndex >= (this.testTypes.length - 1);\n  }\n\n  calculateCriterion(feature_a: number, feature_b: number, feature_c: number) {\n    let features = {\n      \"feature_a\": feature_a,\n      \"feature_b\": feature_b,\n      \"feature_c\": feature_c\n    };\n    let x = features[this.featuresOrder[0]];\n    let y = features[this.featuresOrder[1]];\n    let z = features[this.featuresOrder[2]];\n    return (6 * x) + (3 * y) + z - 10;\n  }\n\n  getParticipantAgeGroup() {\n    if (this.participant.age >= 18) return 18;\n    return this.participant.age;\n  }\n\n  setLang(langCode: string) {\n    this.langChangedEvent.emit(langCode);\n  }\n\n  hi() {\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/stimuli.ts","import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/map';\n\n/*\n  Generated class for the UtilsProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class Utils {\n\n  constructor() {\n    console.log('Hello Utils Provider');\n  }\n\n  getRandomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  shuffleArray(a) {\n    for (let i = a.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [a[i], a[j]] = [a[j], a[i]];\n    }\n  }\n\n  pickRandomFromArray(items) {\n    return items[Math.floor(Math.random()*items.length)];\n  }\n\n  range(start, end) {\n    return Array.from({length: (end - start)}, (v, k) => k + start);\n  }\n\n  combine(alphabet, length, curstr) {\n    if (curstr.length == length) return [curstr];\n    var ret = [];\n    for (var i = 0; i < alphabet.length; i++) {\n      ret.push.apply(ret, this.combine(alphabet, length, curstr + alphabet[i]));\n    }\n    return ret;\n  }\n\n  permute(permutation) {\n    var length = permutation.length,\n        result = [permutation.slice()],\n        c = new Array(length).fill(0),\n        i = 1, k, p;\n  \n    while (i < length) {\n      if (c[i] < i) {\n        k = i % 2 && c[i];\n        p = permutation[i];\n        permutation[i] = permutation[k];\n        permutation[k] = p;\n        ++c[i];\n        i = 1;\n        result.push(permutation.slice());\n      } else {\n        c[i] = 0;\n        ++i;\n      }\n    }\n    return result;\n  }\n\n\n\n  /* Counters */\n  getCounterValue(counterIndex: number = 1) {\n    let counterName = \"isrc-counter-\" + counterIndex;\n    if (localStorage.getItem(counterName) === null) {\n      return 0;\n    }\n    return parseInt(localStorage.getItem(counterName));\n  }\n\n  incrementCounter(counterIndex: number = 1) {\n    let counterName = \"isrc-counter-\" + counterIndex;\n    let count: number = 1;\n    if (localStorage.getItem(counterName) != null) {\n      count = parseInt(localStorage.getItem(counterName)) + 1;\n    }\n    localStorage.setItem(counterName, count.toString());  \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/utils/utils.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\n/*\r\n  Generated class for the UtilsProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\nvar Utils = (function () {\r\n    function Utils() {\r\n        console.log('Hello Utils Provider');\r\n    }\r\n    Utils.prototype.getRandomInt = function (min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    };\r\n    Utils.prototype.shuffleArray = function (a) {\r\n        for (var i = a.length - 1; i > 0; i--) {\r\n            var j = Math.floor(Math.random() * (i + 1));\r\n            _a = [a[j], a[i]], a[i] = _a[0], a[j] = _a[1];\r\n        }\r\n        var _a;\r\n    };\r\n    Utils.prototype.pickRandomFromArray = function (items) {\r\n        return items[Math.floor(Math.random() * items.length)];\r\n    };\r\n    Utils.prototype.range = function (start, end) {\r\n        return Array.from({ length: (end - start) }, function (v, k) { return k + start; });\r\n    };\r\n    Utils.prototype.combine = function (alphabet, length, curstr) {\r\n        if (curstr.length == length)\r\n            return [curstr];\r\n        var ret = [];\r\n        for (var i = 0; i < alphabet.length; i++) {\r\n            ret.push.apply(ret, this.combine(alphabet, length, curstr + alphabet[i]));\r\n        }\r\n        return ret;\r\n    };\r\n    Utils.prototype.permute = function (permutation) {\r\n        var length = permutation.length, result = [permutation.slice()], c = new Array(length).fill(0), i = 1, k, p;\r\n        while (i < length) {\r\n            if (c[i] < i) {\r\n                k = i % 2 && c[i];\r\n                p = permutation[i];\r\n                permutation[i] = permutation[k];\r\n                permutation[k] = p;\r\n                ++c[i];\r\n                i = 1;\r\n                result.push(permutation.slice());\r\n            }\r\n            else {\r\n                c[i] = 0;\r\n                ++i;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /* Counters */\r\n    Utils.prototype.getCounterValue = function (counterIndex) {\r\n        if (counterIndex === void 0) { counterIndex = 1; }\r\n        var counterName = \"isrc-counter-\" + counterIndex;\r\n        if (localStorage.getItem(counterName) === null) {\r\n            return 0;\r\n        }\r\n        return parseInt(localStorage.getItem(counterName));\r\n    };\r\n    Utils.prototype.incrementCounter = function (counterIndex) {\r\n        if (counterIndex === void 0) { counterIndex = 1; }\r\n        var counterName = \"isrc-counter-\" + counterIndex;\r\n        var count = 1;\r\n        if (localStorage.getItem(counterName) != null) {\r\n            count = parseInt(localStorage.getItem(counterName)) + 1;\r\n        }\r\n        localStorage.setItem(counterName, count.toString());\r\n    };\r\n    return Utils;\r\n}());\r\nUtils = __decorate([\r\n    Injectable(),\r\n    __metadata(\"design:paramtypes\", [])\r\n], Utils);\r\nexport { Utils };\r\n//# sourceMappingURL=utils.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/utils/utils.ts.pre-build-optimizer.js","import { Injectable } from '@angular/core';\nimport { Monster } from '../../models/monster';\nimport { TrainingCard } from '../../models/training-card';\nimport { Utils } from '../utils/utils';\nimport { Stimuli } from '../stimuli/stimuli';\nimport { NUMBERS } from '../stimuli/constants';\n\n@Injectable()\nexport class TrainingProvider {\n\n  cards: TrainingCard[];\n  revealedCards: TrainingCard[];\n  revealedCardsCounter: number;\n\n  constructor(private utils: Utils, private stimuli: Stimuli) {\n    console.log('Hello TrainingMonsters Provider');\n  }\n\n  initialize() {\n    this.cards = [];\n    this.revealedCards = [];\n    this.revealedCardsCounter = 0; //TODO: now redundant\n    this.generateCards();\n  }\n\n  generateCards() {\n    let genes = this.utils.combine([2, 3, 4], 3, \"\");\n    let ids = this.utils.range(1, genes.length + 1)\n    this.utils.shuffleArray(genes);\n    this.utils.shuffleArray(ids);\n\n    let i = 0;\n    for (let gene of genes) {\n\n      let monsterId = \"monster\" + (ids[i]);\n\n      let feature_a = parseInt(gene.charAt(0));\n      let feature_b = parseInt(gene.charAt(1));\n      let feature_c = parseInt(gene.charAt(2));\n\n      let criterion = this.stimuli.calculateCriterion(\n        feature_a,\n        feature_b,\n        feature_c\n      );\n\n      let monster = new Monster(\n        monsterId, \n        feature_a, \n        feature_b, \n        feature_c,\n        criterion\n      );\n      this.cards.push(new TrainingCard(monster));\n      i++;\n    }\n  }\n\n  getAllCards() {\n    return this.cards;\n  }\n\n  addCard(card: TrainingCard) {\n    this.cards.push(card);\n  }\n\n  deleteCard(card: TrainingCard) {\n    this.cards.splice(this.cards.indexOf(card), 1);\n  }\n\n  updateCard(card: TrainingCard) {\n    const idx = this.cards.indexOf(card);\n    this.cards[idx] = card;\n    if (card.hasBeenRevealed()) {\n      this.revealedCards.push(card);\n      this.revealedCardsCounter++;\n    }\n  }\n\n  getRevealedCardsCount() {\n    return this.revealedCardsCounter;\n  }\n\n  runOutOfTasks() {\n    return this.revealedCardsCounter >= NUMBERS.TRAINING_TASKS;\n  }\n\n  getRevealedCards() {\n    let revealedCards: TrainingCard[] = [];\n    for (let card of this.cards) {\n      if (card.hasBeenRevealed()) {\n        revealedCards.push(card);\n      }\n    }\n    return revealedCards;\n  }\n\n  getUnrevealedCards() {\n    let unrevealedCards: TrainingCard[] = [];\n    for (let card of this.cards) {\n      if (!card.hasBeenRevealed()) {\n        unrevealedCards.push(card);\n      }\n    }\n    return unrevealedCards;\n  }\n\n  getRevealedMonsters() {\n    let revealedMonsters: Monster[] = [];\n    for (let card of this.cards) {\n      if (card.hasBeenRevealed()) {\n        revealedMonsters.push(card.monster);\n      }\n    }\n    return revealedMonsters;\n  }\n\n  getUnrevealedMonsters() {\n    let unrevealedMonsters: Monster[] = [];\n    for (let card of this.cards) {\n      if (!card.hasBeenRevealed()) {\n        unrevealedMonsters.push(card.monster);\n      }\n    }\n    return unrevealedMonsters;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/training/training.ts","export const CONDITIONS = [\r\n  { \"training\": \"active\", \"testing\": [\"comparison\", \"estimation\"] },\r\n  { \"training\": \"passive\", \"testing\": [\"comparison\", \"estimation\"] },\r\n  { \"training\": \"active\", \"testing\": [\"estimation\", \"comparison\"] },\r\n  { \"training\": \"passive\", \"testing\": [\"estimation\", \"comparison\"] }\r\n];\r\n\r\nexport const CONDITIONS_ACTIVE_ONLY = [\r\n  { \"training\": \"active\", \"testing\": [\"comparison\", \"estimation\"] },\r\n  { \"training\": \"active\", \"testing\": [\"estimation\", \"comparison\"] }\r\n];\r\n\r\nexport const NUMBERS = {\r\n  TRAINING_CARDS: 27,\r\n  TRAINING_TASKS: 22,\r\n  PAIR_COMPARISONS: 8,\r\n  OUTPUT_ESTIMATION_EXTRAPOLATION: 8,\r\n  OUTPUT_ESTIMATION_INTERPOLATION: 5,\r\n  OUTPUT_ESTIMATION_RECALL: 5\r\n}\r\n\r\nexport const PAIR_COMPARISONS = [\r\n  [ [4,2,2], [3,4,4] ],\r\n  [ [3,2,2], [2,4,4] ],\r\n  [ [1,4,1], [2,1,2] ],\r\n  [ [2,2,2], [3,1,1] ],\r\n  [ [1,1,4], [2,1,1] ],\r\n  [ [3,2,2], [2,2,2] ],\r\n  [ [2,3,2], [2,2,2] ],\r\n  [ [2,2,3], [2,2,2] ],\r\n];\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/constants.ts","export class Monster {\n\n  id: string;\n  img: string;\n  feature_a: number\n  feature_b: number;\n  feature_c: number;\n  criterion: number;\n\n  constructor(id: string = \"default\", feature_a: number = 0, feature_b: number = 0, feature_c: number = 0, criterion: number = 0) {\n    this.id = id;\n    this.img = \"assets/img/monsters/\" + id + \".png\";\n    this.feature_a = feature_a;\n    this.feature_b = feature_b;\n    this.feature_c = feature_c;\n    this.criterion = criterion;\n  }\n\n  public updateId(id: string) {\n    this.id = id;\n    this.img = \"assets/img/monsters/\" + id + \".png\";\n  }\n\n  public equals(obj: Monster): boolean {\n    return this.id === obj.id;\n  }\n\n  public toString() {\n    return this.feature_a + \";\" + this.feature_b + \";\" + this.feature_c  + \";\" + this.criterion + \";\" + this.id;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/monster.ts","import { Monster } from './monster';\n\nexport class Pair {\n\n  left: Monster;\n  right: Monster;\n\n  constructor(leftMonster: Monster, rightMonster: Monster) {\n    this.left = leftMonster;\n    this.right = rightMonster;\n  }\n\n  getWinner() {\n    if (this.left.criterion > this.right.criterion) {\n      return this.left;\n    }\n    return this.right;\n  }\n\n  public equals(obj: Pair) : boolean { \n    return this.left === obj.left && this.right === obj.right;\n  } \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/pair.ts","import { Pair } from './pair';\nimport { Monster } from './monster';\n\nexport class PairComparisonQuestion {\n\n  pair: Pair;\n  chosenMonster: Monster;\n\n  constructor(questionPair: Pair) {\n    this.pair = questionPair;\n  }\n\n  answer(monster: Monster) {\n    this.chosenMonster = monster;\n  }\n\n  isAnswerCorrect() {\n    return this.pair.getWinner() == this.chosenMonster;\n  }\n\n  getAnswerReward() {\n    if (this.isAnswerCorrect()) return 20;\n    return 0;\n  }\n\n  public equals(obj: PairComparisonQuestion) : boolean { \n    return this.pair === obj.pair && this.chosenMonster === obj.chosenMonster;\n  } \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/pair-comparison-question.ts","import { Injectable } from '@angular/core';\nimport { Monster } from '../../models/monster';\nimport { Pair } from '../../models/pair';\nimport { PairComparisonQuestion } from '../../models/pair-comparison-question';\nimport { Utils } from '../utils/utils';\nimport { Stimuli } from '../stimuli/stimuli';\nimport 'rxjs/add/operator/map';\nimport { NUMBERS, PAIR_COMPARISONS } from '../stimuli/constants';\n\n/*\n  Generated class for the PairComparisonProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class PairComparisonProvider {\n\n  questions: PairComparisonQuestion[] = [];\n  questionsCounter: number = -1;\n\n  constructor(private utils: Utils, private stimuli: Stimuli) {\n    console.log('Hello PairComparisonProvider Provider');\n  }\n\n  initialize() {\n    this.questions = [];\n    this.questionsCounter = -1;\n    this.generateQuestions();\n  }\n\n  generateQuestions() {\n\n    // generate monsters IDs\n    let ids = [];\n    let counter = NUMBERS.TRAINING_CARDS + 1;\n    while (ids.length < (NUMBERS.PAIR_COMPARISONS*2)) {\n      ids.push(\"monster\"+counter);\n      counter++;\n    }\n    this.utils.shuffleArray(ids);\n    console.log(ids);\n\n    // generate pairs\n    let j=0;\n    for (let i=0; i < NUMBERS.PAIR_COMPARISONS; i++) {\n\n      let pairMonsters = [];\n\n      // generate monster a\n      const features_a = PAIR_COMPARISONS[i][0];\n      const criterion_a = this.stimuli.calculateCriterion(\n        features_a[0],\n        features_a[1],\n        features_a[2]\n      );\n      pairMonsters.push(new Monster(ids[j], features_a[0], features_a[1], features_a[2], criterion_a));\n      j++;\n\n      // generate monster b\n      let features_b = PAIR_COMPARISONS[i][1];\n      const criterion_b = this.stimuli.calculateCriterion(\n        features_b[0],\n        features_b[1],\n        features_b[2]\n      );\n      pairMonsters.push(new Monster(ids[j], features_b[0], features_b[1], features_b[2], criterion_b));\n      j++;\n\n      // generate pair\n      this.utils.shuffleArray(pairMonsters);\n      const pair = new Pair(pairMonsters[0], pairMonsters[1]);\n      const question = new PairComparisonQuestion(pair);\n      this.questions.push(question);\n    }\n    \n  }\n\n  getNextQuestion() {\n    this.questionsCounter++;\n    return this.questions[this.questionsCounter];\n  }\n\n  updateQuestion(question: PairComparisonQuestion) {\n    const idx = this.questions.indexOf(question);\n    this.questions[idx] = question;\n  }\n\n  runOutOfQuestions() {\n    return this.questionsCounter >= (this.questions.length - 1);\n  }\n\n  getTotalReward() {\n    let total = 0;\n    for (let question of this.questions) {\n      total = total + question.getAnswerReward();\n    }\n    return total;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/pair-comparison/pair-comparison.ts","import { Monster } from './monster';\n\nexport class OutputEstimationQuestion {\n\n  type: string;\n  monster: Monster;\n  guessedCriterion: number;\n\n  constructor(type: string, monster: Monster) {\n    this.type = type;\n    this.monster = monster;\n  }\n\n  isAnswerCorrect() {\n    return this.monster.criterion == this.guessedCriterion;\n  }\n\n  getAnswerDistance() {\n    return Math.abs(this.guessedCriterion - this.monster.criterion);\n  }\n\n  getAnswerReward() {\n    if (this.getAnswerDistance() <= 5) return 30;\n    if (this.getAnswerDistance() <= 10) return 20;\n    if (this.getAnswerDistance() <= 20) return 10;\n    return 0;\n  }\n\n  public equals(obj: OutputEstimationQuestion) : boolean { \n    return this.type === obj.type && this.monster === obj.monster;\n  } \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/output-estimation-question.ts","import { Injectable } from '@angular/core';\nimport { Monster } from '../../models/monster';\nimport { OutputEstimationQuestion } from '../../models/output-estimation-question';\nimport { Utils } from '../utils/utils';\nimport { Stimuli } from '../stimuli/stimuli';\nimport { TrainingProvider } from '../training/training';\nimport 'rxjs/add/operator/map';\nimport { NUMBERS } from '../stimuli/constants';\n\n@Injectable()\nexport class OutputEstimationProvider {\n\n  questions: OutputEstimationQuestion[] = [];\n  questionsCounter: number = -1;\n\n  constructor(private utils: Utils, private stimuli: Stimuli, private training: TrainingProvider) {\n    console.log('Hello OutputEstimationProvider Provider');\n    //this.generateQuestions();\n  }\n\n  initialize() {\n    this.questions = [];\n    this.questionsCounter = -1;\n    this.generateQuestions();\n  }\n\n  generateQuestions() {\n\n    // generate monsters IDs\n    const firstId = NUMBERS.TRAINING_CARDS + NUMBERS.PAIR_COMPARISONS + 1;\n    const questionsNumber = NUMBERS.OUTPUT_ESTIMATION_EXTRAPOLATION + NUMBERS.OUTPUT_ESTIMATION_INTERPOLATION\n      + NUMBERS.OUTPUT_ESTIMATION_RECALL;\n    let ids = this.utils.range(firstId, firstId + questionsNumber);\n    this.utils.shuffleArray(ids);\n    console.log(ids);\n\n    // generate interpolation questions\n    let unrevealedMonsters = this.training.getUnrevealedMonsters();\n    let baseIdIndex = 0;\n    for (let i = 0; i < NUMBERS.OUTPUT_ESTIMATION_INTERPOLATION; i++) {\n      unrevealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\n      let question = new OutputEstimationQuestion(\"interpolation\", unrevealedMonsters[i]);\n      this.questions.push(question);\n    }\n\n    // generate recall questions\n    let revealedMonsters = this.training.getRevealedMonsters();\n    baseIdIndex = this.questions.length;\n    for (let i = 0; i < NUMBERS.OUTPUT_ESTIMATION_RECALL; i++) {  \n      revealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\n      let question = new OutputEstimationQuestion(\"recall\", revealedMonsters[i]);\n      this.questions.push(question);\n    }\n\n    // generate extrapolation questions\n    let genes = this.utils.combine([1, 5], 3, \"\");\n    baseIdIndex = this.questions.length;\n    console.log(\"extr base index\", baseIdIndex);\n    let i = 0;\n    for (let gene of genes) {\n      let monsterId = \"monster\" + ids[baseIdIndex + i];\n      console.log(\"extr monsterId\", monsterId);\n      let feature_a = parseInt(gene.charAt(0));\n      let feature_b = parseInt(gene.charAt(1));\n      let feature_c = parseInt(gene.charAt(2));\n      let criterion = this.stimuli.calculateCriterion(feature_a, feature_b, feature_c);\n      let monster = new Monster(monsterId, feature_a, feature_b, feature_c, criterion);\n      let question = new OutputEstimationQuestion(\"extrapolation\", monster);\n      this.questions.push(question);\n      i++;\n    }\n\n    this.utils.shuffleArray(this.questions);\n    console.log(\"[DEBUG] OtputEstimation questions\", this.questions);\n        \n  }\n\n  getNextQuestion() {\n    this.questionsCounter++;\n    return this.questions[this.questionsCounter];\n  }\n\n  updateQuestion(question: OutputEstimationQuestion) {\n    const idx = this.questions.indexOf(question);\n    this.questions[idx] = question;\n  }\n\n  runOutOfQuestions() {\n    return this.questionsCounter >= (this.questions.length - 1);\n  }\n\n  getTotalReward() {\n    let total = 0;\n    for (let question of this.questions) {\n      total = total + question.getAnswerReward();\n    }\n    return total;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/output-estimation/output-estimation.ts"]}