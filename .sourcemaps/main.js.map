{"version":3,"sources":["../../src/providers/providers.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/models/participant.ts","../../src/providers/pair-comparison/pair-comparison.ts","../../src/providers/output-estimation/output-estimation.ts","../../src/providers/ranking-task/ranking-task.ts","../../src/models/training-card.ts","../../src/pages/pages.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/data/data.ts","../../src/models/pair.ts","../../src/models/pair-comparison-question.ts","../../src/models/output-estimation-question.ts","../../src/app/app.component.ts","../../src/providers/utils/utils.ts","../../src/providers/stimuli/stimuli.ts","../../src/models/monster.ts","../../src/providers/api/api.ts","../../src/providers/stimuli/constants.ts","../../src/providers/stimuli/app-info.ts","../../src/providers/training/training.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Api } from './api/api';\r\nimport { Utils } from './utils/utils';\r\nimport { Data } from './data/data';\r\nimport { Stimuli } from './stimuli/stimuli';\r\nimport { TrainingProvider } from './training/training';\r\nimport { PairComparisonProvider } from './pair-comparison/pair-comparison';\r\nimport { OutputEstimationProvider } from './output-estimation/output-estimation';\r\nimport { RankingTaskProvider } from './ranking-task/ranking-task';\r\n\r\n\r\nexport {\r\n    Api,\r\n    Utils,\r\n    Data,\r\n    Stimuli,\r\n    TrainingProvider,\r\n    PairComparisonProvider,\r\n    OutputEstimationProvider,\r\n    RankingTaskProvider   \r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/providers.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 126;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 126\n// module chunks = 15","var map = {\n\t\"../pages/consent-form/consent-form.module\": [\n\t\t323,\n\t\t14\n\t],\n\t\"../pages/failure/failure.module\": [\n\t\t324,\n\t\t13\n\t],\n\t\"../pages/instructions-check/instructions-check.module\": [\n\t\t325,\n\t\t12\n\t],\n\t\"../pages/output-estimation-instructions/output-estimation-instructions.module\": [\n\t\t326,\n\t\t11\n\t],\n\t\"../pages/output-estimation/output-estimation.module\": [\n\t\t327,\n\t\t3\n\t],\n\t\"../pages/pair-comparison-instructions/pair-comparison-instructions.module\": [\n\t\t328,\n\t\t10\n\t],\n\t\"../pages/pair-comparison/pair-comparison.module\": [\n\t\t329,\n\t\t2\n\t],\n\t\"../pages/ranking-task/ranking-task.module\": [\n\t\t330,\n\t\t9\n\t],\n\t\"../pages/registration-online/registration-online.module\": [\n\t\t331,\n\t\t8\n\t],\n\t\"../pages/registration/registration.module\": [\n\t\t332,\n\t\t7\n\t],\n\t\"../pages/reward/reward.module\": [\n\t\t333,\n\t\t0\n\t],\n\t\"../pages/training-instructions/training-instructions.module\": [\n\t\t334,\n\t\t5\n\t],\n\t\"../pages/training-instructions2/training-instructions2.module\": [\n\t\t335,\n\t\t6\n\t],\n\t\"../pages/training/training.module\": [\n\t\t337,\n\t\t1\n\t],\n\t\"../pages/view-records/view-records.module\": [\n\t\t336,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 175;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 175\n// module chunks = 15","export class Participant {\r\n\r\n  code: string;\r\n  workerId: string;\r\n  assignmentId: string;\r\n  hitId: string;\r\n  gender: string;\r\n  age: number;\r\n  ageGroup: string;\r\n  dob: Date;\r\n  grade: number;\r\n  playedBefore: boolean = false;\r\n  languageProficiency: number;\r\n  isMturk: boolean = false;\r\n  isSandbox: boolean = false;\r\n\r\n  constructor(code: string) {\r\n    this.code = code;\r\n  }\r\n\r\n  public equals(obj: Participant): boolean {\r\n    return this.code === obj.code;\r\n  }\r\n\r\n}  \n\n\n// WEBPACK FOOTER //\n// ./src/models/participant.ts","import { Injectable } from '@angular/core';\r\nimport { Monster } from '../../models/monster';\r\nimport { Pair } from '../../models/pair';\r\nimport { PairComparisonQuestion } from '../../models/pair-comparison-question';\r\nimport { Utils } from '../utils/utils';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport 'rxjs/add/operator/map';\r\nimport { NUMBERS, PAIR_COMPARISONS } from '../stimuli/constants';\r\n\r\n/*\r\n  Generated class for the PairComparisonProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class PairComparisonProvider {\r\n\r\n  questions: PairComparisonQuestion[] = [];\r\n  questionsCounter: number = -1;\r\n\r\n  constructor(private utils: Utils, private stimuli: Stimuli) {\r\n    //console.log('Hello PairComparisonProvider Provider');\r\n  }\r\n\r\n  initialize() {\r\n    this.questions = [];\r\n    this.questionsCounter = -1;\r\n    this.generateQuestions();\r\n  }\r\n\r\n  generateQuestions() {\r\n\r\n    // generate monsters IDs\r\n    let ids = [];\r\n    let counter = NUMBERS.TRAINING_CARDS + 1;\r\n    while (ids.length < (NUMBERS.PAIR_COMPARISONS*2)) {\r\n      ids.push(\"monster\"+counter);\r\n      counter++;\r\n    }\r\n    this.utils.shuffleArray(ids);\r\n    //console.log(ids);\r\n\r\n    // generate pairs\r\n    let j=0;\r\n    for (let i=0; i < NUMBERS.PAIR_COMPARISONS; i++) {\r\n\r\n      let pairMonsters = [];\r\n\r\n      // generate monster a\r\n      const features_a = PAIR_COMPARISONS[i][0];\r\n      const criterion_a = this.stimuli.calculateCriterion(\r\n        features_a[0],\r\n        features_a[1],\r\n        features_a[2]\r\n      );\r\n      pairMonsters.push(new Monster(ids[j], features_a[0], features_a[1], features_a[2], criterion_a));\r\n      j++;\r\n\r\n      // generate monster b\r\n      let features_b = PAIR_COMPARISONS[i][1];\r\n      const criterion_b = this.stimuli.calculateCriterion(\r\n        features_b[0],\r\n        features_b[1],\r\n        features_b[2]\r\n      );\r\n      pairMonsters.push(new Monster(ids[j], features_b[0], features_b[1], features_b[2], criterion_b));\r\n      j++;\r\n\r\n      // generate pair\r\n      this.utils.shuffleArray(pairMonsters);\r\n      const pair = new Pair(pairMonsters[0], pairMonsters[1]);\r\n      const question = new PairComparisonQuestion(pair);\r\n      this.questions.push(question);\r\n    }\r\n    \r\n  }\r\n\r\n  getNextQuestion() {\r\n    this.questionsCounter++;\r\n    return this.questions[this.questionsCounter];\r\n  }\r\n\r\n  updateQuestion(question: PairComparisonQuestion) {\r\n    const idx = this.questions.indexOf(question);\r\n    this.questions[idx] = question;\r\n  }\r\n\r\n  runOutOfQuestions() {\r\n    return this.questionsCounter >= (this.questions.length - 1);\r\n  }\r\n\r\n  getTotalReward() {\r\n    let total = 0;\r\n    for (let question of this.questions) {\r\n      total = total + question.getAnswerReward();\r\n    }\r\n    return total;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/pair-comparison/pair-comparison.ts","import { Injectable } from '@angular/core';\r\nimport { Monster } from '../../models/monster';\r\nimport { OutputEstimationQuestion } from '../../models/output-estimation-question';\r\nimport { Utils } from '../utils/utils';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport { TrainingProvider } from '../training/training';\r\nimport 'rxjs/add/operator/map';\r\nimport { NUMBERS } from '../stimuli/constants';\r\n\r\n@Injectable()\r\nexport class OutputEstimationProvider {\r\n\r\n  questions: OutputEstimationQuestion[] = [];\r\n  questionsCounter: number = -1;\r\n\r\n  constructor(private utils: Utils, private stimuli: Stimuli, private training: TrainingProvider) {\r\n    //console.log('Hello OutputEstimationProvider Provider');\r\n    //this.generateQuestions();\r\n  }\r\n\r\n  initialize() {\r\n    this.questions = [];\r\n    this.questionsCounter = -1;\r\n    this.generateQuestions();\r\n  }\r\n\r\n  generateQuestions() {\r\n\r\n    // generate monsters IDs\r\n    const firstId = NUMBERS.TRAINING_CARDS + NUMBERS.PAIR_COMPARISONS + 1;\r\n    const questionsNumber = NUMBERS.OUTPUT_ESTIMATION_EXTRAPOLATION + NUMBERS.OUTPUT_ESTIMATION_INTERPOLATION\r\n      + NUMBERS.OUTPUT_ESTIMATION_RECALL;\r\n    let ids = this.utils.range(firstId, firstId + questionsNumber);\r\n    this.utils.shuffleArray(ids);\r\n    //console.log(ids);\r\n\r\n    let baseIdIndex = 0;\r\n\r\n    // Generate interpolation and recall questions\r\n\r\n\r\n    if (this.stimuli.isExtendedCondition2) {\r\n\r\n      // If seen 27 cards, 10 recall and 0 interpolation\r\n      if (this.stimuli.condition.trainingTasks == 27) {\r\n        let revealedMonsters = this.training.getRevealedMonsters();\r\n        baseIdIndex = 0;\r\n        for (let i = 0; i < 10; i++) {  \r\n          revealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\r\n          let question = new OutputEstimationQuestion(\"recall\", revealedMonsters[i]);\r\n          this.questions.push(question);\r\n        }\r\n      }\r\n\r\n      // If seen 0 cards, 0 recall and 10 interpolation\r\n      if (this.stimuli.condition.trainingTasks == 0) {\r\n        // interpolation\r\n        let unrevealedMonsters = this.training.getUnrevealedMonsters();\r\n        baseIdIndex = 0;\r\n        for (let i = 0; i < 10; i++) {\r\n          unrevealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\r\n          let question = new OutputEstimationQuestion(\"interpolation\", unrevealedMonsters[i]);\r\n          this.questions.push(question);\r\n        }\r\n      }\r\n\r\n      // If seen 1 card, 1 recall and 9 interpolation\r\n      if (this.stimuli.condition.trainingTasks == 1) {\r\n        // recall\r\n        let revealedMonsters = this.training.getRevealedMonsters();\r\n        baseIdIndex = 0;\r\n        for (let i = 0; i < 1; i++) {  \r\n          revealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\r\n          let question = new OutputEstimationQuestion(\"recall\", revealedMonsters[i]);\r\n          this.questions.push(question);\r\n        }\r\n        // interpolation\r\n        let unrevealedMonsters = this.training.getUnrevealedMonsters();\r\n        baseIdIndex = this.questions.length;\r\n        for (let i = 0; i < 9; i++) {\r\n          unrevealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\r\n          let question = new OutputEstimationQuestion(\"interpolation\", unrevealedMonsters[i]);\r\n          this.questions.push(question);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    // Normal experiment:\r\n    else {\r\n\r\n      // generate interpolation questions\r\n      let unrevealedMonsters = this.training.getUnrevealedMonsters();\r\n      baseIdIndex = 0;\r\n      for (let i = 0; i < NUMBERS.OUTPUT_ESTIMATION_INTERPOLATION; i++) {\r\n        unrevealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\r\n        let question = new OutputEstimationQuestion(\"interpolation\", unrevealedMonsters[i]);\r\n        this.questions.push(question);\r\n      }\r\n\r\n      // generate recall questions\r\n      let revealedMonsters = this.training.getRevealedMonsters();\r\n      baseIdIndex = this.questions.length;\r\n      for (let i = 0; i < NUMBERS.OUTPUT_ESTIMATION_RECALL; i++) {  \r\n        revealedMonsters[i].updateId(\"monster\" + ids[baseIdIndex + i]);\r\n        let question = new OutputEstimationQuestion(\"recall\", revealedMonsters[i]);\r\n        this.questions.push(question);\r\n      }\r\n    }\r\n\r\n    // generate extrapolation questions\r\n    let genes = this.utils.combine([1, 5], 3, \"\");\r\n    baseIdIndex = this.questions.length;\r\n    //console.log(\"extr base index\", baseIdIndex);\r\n    let i = 0;\r\n    for (let gene of genes) {\r\n      let monsterId = \"monster\" + ids[baseIdIndex + i];\r\n      //console.log(\"extr monsterId\", monsterId);\r\n      let feature_a = parseInt(gene.charAt(0));\r\n      let feature_b = parseInt(gene.charAt(1));\r\n      let feature_c = parseInt(gene.charAt(2));\r\n      let criterion = this.stimuli.calculateCriterion(feature_a, feature_b, feature_c);\r\n      let monster = new Monster(monsterId, feature_a, feature_b, feature_c, criterion);\r\n      let question = new OutputEstimationQuestion(\"extrapolation\", monster);\r\n      this.questions.push(question);\r\n      i++;\r\n    }\r\n\r\n    this.utils.shuffleArray(this.questions);\r\n    //console.log(\"[DEBUG] OutputEstimation questions\", this.questions);\r\n        \r\n  }\r\n\r\n  getNextQuestion() {\r\n    this.questionsCounter++;\r\n    return this.questions[this.questionsCounter];\r\n  }\r\n\r\n  updateQuestion(question: OutputEstimationQuestion) {\r\n    const idx = this.questions.indexOf(question);\r\n    this.questions[idx] = question;\r\n  }\r\n\r\n  runOutOfQuestions() {\r\n    return this.questionsCounter >= (this.questions.length - 1);\r\n  }\r\n\r\n  getTotalReward() {\r\n    let total = 0;\r\n    for (let question of this.questions) {\r\n      total = total + question.getAnswerReward();\r\n    }\r\n    return total;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/output-estimation/output-estimation.ts","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Injectable()\r\nexport class RankingTaskProvider {\r\n\r\n  features: {id: string, label: string}[];\r\n  freeText: string;\r\n\r\n  constructor(\r\n    public translate: TranslateService\r\n  ) {\r\n    //console.log('Hello RankingTaskProvider Provider');\r\n  }\r\n\r\n  initialize() {\r\n    this.freeText = \"\";\r\n    this.translate.get(['MONSTER.FEATURE_A_LABEL', 'MONSTER.FEATURE_B_LABEL', 'MONSTER.FEATURE_C_LABEL']).subscribe(labels => {\r\n      this.features = [\r\n        {\"id\": \"feature_a\", \"label\": labels[\"MONSTER.FEATURE_A_LABEL\"]},\r\n        {\"id\": \"feature_b\", \"label\": labels[\"MONSTER.FEATURE_B_LABEL\"]},\r\n        {\"id\": \"feature_c\", \"label\": labels[\"MONSTER.FEATURE_C_LABEL\"]}\r\n      ];\r\n    });\r\n  }\r\n\r\n  \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/ranking-task/ranking-task.ts","import { Monster } from './monster';\r\n\r\nexport class TrainingCard {\r\n\r\n  monster: Monster;\r\n  revealed: boolean;\r\n\r\n  constructor(monster: Monster) {\r\n    this.monster = monster;\r\n    this.revealed = false;\r\n  }\r\n\r\n  reveal() {\r\n    this.revealed = true;\r\n  }\r\n\r\n  hasBeenRevealed() {\r\n    return this.revealed === true;\r\n  }\r\n\r\n  public equals(obj: TrainingCard) : boolean { \r\n    return this.monster === obj.monster;\r\n  } \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/training-card.ts","// The page the user lands on after opening the app and without a session\r\nexport const FirstRunPage = 'RegistrationPage';\r\nexport const OnlineFirstRunPage = 'ConsentFormPage';\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pages.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\n// RELEASE: disable console log\r\n// console.log = function(){};\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { ErrorHandler, NgModule, Injectable, Injector } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { AndroidFullScreen } from '@ionic-native/android-full-screen';\r\nimport { File } from '@ionic-native/file';\r\nimport { Device } from '@ionic-native/device';\r\n//import { Pro } from '@ionic/pro';\r\n\r\nimport { Api, Utils, Data, Stimuli, TrainingProvider, PairComparisonProvider, \r\n  OutputEstimationProvider, RankingTaskProvider} from '../providers/providers';\r\nimport { AppInfo } from '../providers/stimuli/app-info';\r\nimport { MyApp } from './app.component';\r\n\r\n\r\n// Ionic Pro\r\n// Pro.init(AppInfo.id, {\r\n//   appVersion: AppInfo.version\r\n// })\r\n\r\n\r\n// The translate loader needs to know where to load i18n files\r\n// in Ionic's static asset pipeline.\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\n\r\n\r\n// Error Handler\r\n// @Injectable()\r\n// export class MyErrorHandler implements ErrorHandler {\r\n//   ionicErrorHandler: IonicErrorHandler;\r\n\r\n//   constructor(injector: Injector) {\r\n//     try {\r\n//       this.ionicErrorHandler = injector.get(IonicErrorHandler);\r\n//     } catch(e) {\r\n//       // Unable to get the IonicErrorHandler provider, ensure\r\n//       // IonicErrorHandler has been added to the providers list below\r\n//     }\r\n//   }\r\n\r\n//   handleError(err: any): void {\r\n//     Pro.monitoring.handleNewError(err);\r\n//     // Remove this if you want to disable Ionic's auto exception handling\r\n//     // in development mode.\r\n//     this.ionicErrorHandler && this.ionicErrorHandler.handleError(err);\r\n//   }\r\n// }\r\n\r\n\r\n// App Module\r\n@NgModule({\r\n  declarations: [\r\n    MyApp\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: (createTranslateLoader),\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    IonicModule.forRoot(MyApp, {\r\n      preloadModules: true\r\n    }),\r\n    IonicStorageModule.forRoot({\r\n      name: AppInfo.id,\r\n      driverOrder: ['sqlite', 'indexeddb', 'websql']\r\n    })\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp\r\n  ],\r\n  providers: [\r\n    SplashScreen,\r\n    StatusBar,\r\n    AndroidFullScreen,\r\n    IonicErrorHandler,\r\n    //[{ provide: ErrorHandler, useClass: MyErrorHandler }],\r\n    File,\r\n    Device,\r\n    Api,\r\n    Utils,\r\n    Data,\r\n    Stimuli,\r\n    TrainingProvider,\r\n    PairComparisonProvider,\r\n    OutputEstimationProvider,\r\n    RankingTaskProvider\r\n  ]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { File } from '@ionic-native/file';\r\nimport { Platform, ToastController } from 'ionic-angular';\r\nimport { Device } from '@ionic-native/device';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport { Api } from '../api/api';\r\nimport { TrainingProvider } from '../training/training';\r\nimport { PairComparisonProvider } from '../pair-comparison/pair-comparison';\r\nimport { OutputEstimationProvider } from '../output-estimation/output-estimation';\r\nimport { RankingTaskProvider } from '../ranking-task/ranking-task';\r\nimport { AppInfo } from '../stimuli/app-info';\r\nimport shortid from 'shortid';\r\n//import { Pro } from '@ionic/pro';\r\n\r\n\r\n@Injectable()\r\nexport class Data {\r\n\r\n  serverURI: string = \"\";\r\n  recordsNumber: number;\r\n  allRecords: any;\r\n\r\n  constructor(\r\n    private storage: Storage,\r\n    private filesystem: File,\r\n    private toastCtrl: ToastController,\r\n    private api: Api,\r\n    private platform: Platform,\r\n    private device: Device,\r\n    private stimuli: Stimuli,\r\n    private training: TrainingProvider,\r\n    private pairComparison: PairComparisonProvider,\r\n    private outputEstimation: OutputEstimationProvider,\r\n    private rankingTask: RankingTaskProvider\r\n  ) {\r\n    //console.log('Hello Data Provider');\r\n  }\r\n\r\n  initialize() {\r\n    this.updateRecordsNumber();\r\n  }\r\n\r\n  serializeStimuliData() {\r\n    let data = new Map();\r\n    let i = 0;\r\n\r\n    // save conditions data\r\n    data.set(\"condition\", this.stimuli.condition);\r\n    data.set(\"condition_index\", this.stimuli.conditionIndex);\r\n    data.set(\"condition_features_weigth_6\", this.stimuli.featuresOrder[0]);\r\n    data.set(\"condition_features_weigth_3\", this.stimuli.featuresOrder[1]);\r\n    data.set(\"condition_features_weigth_1\", this.stimuli.featuresOrder[2]);\r\n    data.set(\"condition_training_type\", this.stimuli.trainingType);\r\n    data.set(\"condition_tests_order_1\", this.stimuli.testTypes[0]);\r\n    data.set(\"condition_tests_order_2\", this.stimuli.testTypes[1]);\r\n\r\n    // save instructions check data\r\n    data.set(\"instructions_check_attempts_counter\", this.stimuli.questionsCheckCounter);\r\n    data.set(\"instructions_check_answers\", JSON.stringify(this.stimuli.questionsCheck));\r\n\r\n    // save training data (revealed cards)\r\n    i = 1;\r\n    for (let card of this.training.revealedCards) {\r\n      data.set(\"training_revealed_\" + i + \"_card\", card.monster != null ? card.monster.toString() : null);\r\n      i++;\r\n    }\r\n\r\n    // save training data (unrevealed cards)\r\n    i = 1;\r\n    for (let card of this.training.cards) {\r\n      if (!card.hasBeenRevealed()) {\r\n        data.set(\"training_unrevealed_\" + i + \"_card\", card.monster != null ? card.monster.toString() : null);\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // save test \"pair comparison\" data\r\n    i = 1;\r\n    for (let question of this.pairComparison.questions) {\r\n      data.set(\"test_comparison_\" + i + \"_card_a\", question.pair.left != null ? question.pair.left.toString() : null);\r\n      data.set(\"test_comparison_\" + i + \"_card_b\", question.pair.right != null ? question.pair.right.toString() : null);\r\n      data.set(\"test_comparison_\" + i + \"_chosen_card\", question.chosenMonster != null ? question.chosenMonster.toString() : null);\r\n      data.set(\"test_comparison_\" + i + \"_correct\", question.isAnswerCorrect() ? 1 : 0);\r\n      i++;\r\n    }\r\n\r\n    // save test \"output estimation\" extrapolation data\r\n    i = 1;\r\n    for (let question of this.outputEstimation.questions) {\r\n      if (question.type === \"extrapolation\") {\r\n        data.set(\"test_estimation_extrapolation_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n        data.set(\"test_estimation_extrapolation_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n        data.set(\"test_estimation_extrapolation_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // save test \"output estimation\" interpolation data\r\n    i = 1;\r\n    for (let question of this.outputEstimation.questions) {\r\n      if (question.type === \"interpolation\") {\r\n        data.set(\"test_estimation_interpolation_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n        data.set(\"test_estimation_interpolation_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n        data.set(\"test_estimation_interpolation_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // save test \"output estimation\" recall data\r\n    i = 1;\r\n    for (let question of this.outputEstimation.questions) {\r\n      if (question.type === \"recall\") {\r\n        data.set(\"test_estimation_recall_\" + i + \"_card\", question.monster != null ? question.monster.toString() : null);\r\n        data.set(\"test_estimation_recall_\" + i + \"_estimated_criterion\", question.guessedCriterion);\r\n        data.set(\"test_estimation_recall_\" + i + \"_estimation_distance\", question.getAnswerDistance());\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // save ranking task data\r\n    i = 1;\r\n    for (let feature of this.rankingTask.features) {\r\n      data.set(\"ranking_task_feature_\" + i, feature.id);\r\n      i++;\r\n    }\r\n\r\n    // save ranking task free text question (some hopefully working sanitization here...)\r\n    let freeText = this.rankingTask.freeText != null ? this.rankingTask.freeText.replace(/[^\\w\\s!?\\-*+\\/\\.\\(\\)]/g, ' ') : \"\";\r\n    freeText.replace(/\\r?\\n|\\r/g, ' ');\r\n    freeText = \"'\" + freeText + \"'\";\r\n    data.set(\"ranking_task_question_adults\", freeText);\r\n\r\n    // save rewards data\r\n    data.set(\"reward_test_comparison_cents\", this.pairComparison.getTotalReward());\r\n    data.set(\"reward_test_estimation_cents\", this.outputEstimation.getTotalReward());\r\n    const totalReward = this.pairComparison.getTotalReward() + this.outputEstimation.getTotalReward();\r\n    data.set(\"reward_total_cents\", totalReward);\r\n    data.set(\"reward_total_euros\", (totalReward / 100).toFixed(2));\r\n    data.set(\"reward_mturk_total_euros\", ((totalReward / 5) / 100).toFixed(2));\r\n\r\n    return this.mapToObj(data);\r\n  }\r\n\r\n  save() {\r\n\r\n    console.log(\"[DEBUG] DB driver: \" + this.storage.driver);\r\n\r\n    // Generate unique short id\r\n    const recordId = shortid.generate();\r\n\r\n    console.log(\"[DEBUG] Saving data to DB...\", recordId);\r\n\r\n    // Create data object\r\n    let dataObject = {\r\n      \"id\": recordId,\r\n      \"participant\": this.getParticipantInfo(),\r\n      \"app\": this.getAppInfo(),\r\n      \"session\": this.getSessionInfo(),\r\n      \"data\": this.serializeStimuliData(),\r\n      \"platformInfo\": this.getPlatformInfo()\r\n    }\r\n    console.log(\"[DEBUG] Serialized data: \", dataObject);\r\n\r\n    // Save data...\r\n    if (this.stimuli.onlineVersion) {\r\n\r\n      // online\r\n      this.postDataToServer(dataObject);\r\n\r\n      // If run inside an iframe, send data as Post Message to parent window\r\n      if (window.parent) {\r\n        window.parent.postMessage({\r\n          'state': 'end',\r\n          'data': dataObject\r\n        }, '*');\r\n      }\r\n\r\n    }\r\n    else {\r\n      // locally\r\n      this.storage.set(recordId, dataObject);\r\n    }\r\n\r\n    return dataObject;\r\n\r\n  }\r\n\r\n  getParticipantInfo() {\r\n    const participant = this.stimuli.onlineVersion? this.stimuli.onlineParticipant : this.stimuli.participant;\r\n    return {\r\n      \"code\": participant.code,\r\n      \"workerId\": participant.workerId,\r\n      \"assignmentId\": participant.assignmentId,\r\n      \"hitId\": participant.hitId,\r\n      \"age\": participant.age,\r\n      \"ageGroup\": participant.ageGroup,\r\n      \"grade\": participant.grade,\r\n      \"gender\": participant.gender,\r\n      \"playedBefore\": participant.playedBefore,\r\n      \"languageProficiency\": participant.languageProficiency\r\n    }\r\n  }\r\n\r\n  getSessionInfo() {\r\n    const now = new Date();\r\n    const duration = Math.floor(Date.now() - this.stimuli.initialTimestamp);\r\n    return {\r\n      \"datetime\": now.toJSON(),\r\n      \"duration\": duration\r\n    }\r\n  }\r\n\r\n  getAppInfo() {\r\n    return {\r\n      \"id\": AppInfo.id,\r\n      \"version\": AppInfo.version,\r\n      \"nameLabel\": AppInfo.nameLabel,\r\n      \"lang\": localStorage.getItem('lang')\r\n    }\r\n  }\r\n\r\n  getPlatformInfo() {\r\n    return {\r\n      'platform': {\r\n        'userAgent': this.platform.userAgent(),\r\n        'platforms': this.platform.platforms(),\r\n        'navigatorPlatform': this.platform.navigatorPlatform(),\r\n        'height': this.platform.height(),\r\n        'width': this.platform.width()\r\n      },\r\n      'device': {\r\n        'uuid': this.device.uuid,\r\n        'model': this.device.model,\r\n        'cordovaVersion': this.device.cordova,\r\n        'version': this.device.version,\r\n        'manufacturer': this.device.manufacturer,\r\n        'serial': this.device.serial\r\n      }\r\n    }\r\n  }\r\n\r\n  async postDataToServer(dataObject: any) {\r\n\r\n    console.log('Participant', this.stimuli.onlineParticipant);\r\n\r\n    const body = {\r\n      workerId: this.stimuli.onlineParticipant.workerId,\r\n      assignmentId: this.stimuli.onlineParticipant.assignmentId,\r\n      hitId: this.stimuli.onlineParticipant.hitId,\r\n      status: RecordStatus.Completed,\r\n      isMturk: this.stimuli.onlineParticipant.isMturk,\r\n      isSandbox: this.stimuli.onlineParticipant.isSandbox,\r\n      bonus: parseFloat(dataObject['data']['reward_mturk_total_euros']),\r\n      dataString: JSON.stringify(dataObject)\r\n    };\r\n\r\n    console.log('Saving data to the server...', body);\r\n    //console.log('Saving data to the server...', JSON.stringify(dataObject));\r\n\r\n    try {\r\n      const res = await this.api.post('records', body).toPromise();\r\n      console.log('Data saved to the server:', res);\r\n    }\r\n    catch (e) {\r\n\r\n      // Send error to Ionic Monitoring\r\n      // Pro.monitoring.log(\r\n      //   `ERROR saving data to the server. \r\n      //   Uid: ${this.stimuli.participant.code}. WorkerId: ${this.stimuli.participant.workerId}.\r\n      //   Error: ${e}\r\n      //   `, { level: 'error' }\r\n      // );\r\n\r\n      console.log('Error saving data to the server:', e);\r\n    }\r\n\r\n\r\n  }\r\n\r\n  async sendStartedToServer() {\r\n    const body = {\r\n      workerId: this.stimuli.onlineParticipant.workerId,\r\n      assignmentId: this.stimuli.onlineParticipant.assignmentId,\r\n      hitId: this.stimuli.onlineParticipant.hitId,\r\n      status: RecordStatus.Started,\r\n      isMturk: this.stimuli.onlineParticipant.isMturk,\r\n      isSandbox: this.stimuli.onlineParticipant.isSandbox,\r\n    };\r\n\r\n    console.log('Saving data to the server...', body);\r\n\r\n    try {\r\n      const res = await this.api.post('records', body).toPromise();\r\n      console.log('Data saved to the server:', res);\r\n    }\r\n    catch (e) {\r\n\r\n      // Send error to Ionic Monitoring\r\n      // Pro.monitoring.log(\r\n      //   `ERROR sending Start to the server. \r\n      //   Uid: ${this.stimuli.participant.code}. WorkerId: ${this.stimuli.participant.workerId}.\r\n      //   Error: ${e}\r\n      //   `, { level: 'error' }\r\n      // );\r\n      \r\n      console.log('ERROR sending Start to the server:', e);\r\n    }\r\n  }\r\n\r\n  async sendFailureToServer() {\r\n    const body = {\r\n      workerId: this.stimuli.onlineParticipant.workerId,\r\n      assignmentId: this.stimuli.onlineParticipant.assignmentId,\r\n      hitId: this.stimuli.onlineParticipant.hitId,\r\n      status: RecordStatus.Failed\r\n    };\r\n\r\n    console.log('Saving data to the server...', body);\r\n\r\n    try {\r\n      const res = await this.api.post('records', body).toPromise();\r\n      console.log('Data saved to the server:', res);\r\n    }\r\n    catch (e) {\r\n\r\n      // Send error to Ionic Monitoring\r\n      // Pro.monitoring.log(\r\n      //   `ERROR sending Failure to the server. \r\n      //   Uid: ${this.stimuli.participant.code}. WorkerId: ${this.stimuli.participant.workerId}.\r\n      //   Error: ${e}\r\n      //   `, { level: 'error' }\r\n      // );\r\n\r\n      console.log('ERROR sending Failure to the server:', e);\r\n    }\r\n  }\r\n\r\n  async loadAllRecords() {\r\n    console.log(\"[debug] Loading all records...\");\r\n\r\n    // get records\r\n    let records = await this.storageGetAll();\r\n\r\n    // order records by date\r\n    records.sort((a, b) => new Date(b[\"session\"][\"datetime\"]).getTime()\r\n      - new Date(a[\"session\"][\"datetime\"]).getTime());\r\n\r\n    this.allRecords = records;\r\n    console.log(\"All records\", this.allRecords);\r\n  }\r\n\r\n\r\n  async exportRecordsAsJSON() {\r\n    console.log(\"[debug] Exporting all records as JSON...\");\r\n\r\n    // get records\r\n    let records = await this.storageGetAll();\r\n\r\n    // order records by date\r\n    records.sort((a, b) => new Date(b[\"session\"][\"datetime\"]).getTime()\r\n      - new Date(a[\"session\"][\"datetime\"]).getTime());\r\n\r\n    // debug records\r\n    console.log(\"All records\", records);\r\n\r\n    // save records to JSON file\r\n    let fileContent = JSON.stringify(records);\r\n    this.saveOutputFile(fileContent);\r\n\r\n    // show toast\r\n    this.toastCtrl.create({\r\n      message: 'Saving JSON file to internal memory...',\r\n      duration: 2000,\r\n      position: 'top'\r\n    }).present();\r\n  }\r\n\r\n\r\n  async updateRecordsNumber() {\r\n    let records = await this.storageGetAll();\r\n    if (records == null) return 0;\r\n    this.recordsNumber = records.length;\r\n  }\r\n\r\n\r\n  /**\r\n   * Returns a Promise with the raw records from Storage\r\n   */\r\n  storageGetAll() {\r\n    return this.storage.keys()\r\n      .then(keys => Promise.all(keys.map(k => this.storage.get(k))));\r\n  }\r\n\r\n\r\n  saveOutputFile(csvContent, fileExt = \"json\") {\r\n    // build file name\r\n    let currentdate = new Date();\r\n    let day = (\"0\" + currentdate.getDate()).slice(-2);\r\n    let month = (\"0\" + (currentdate.getMonth() + 1)).slice(-2);\r\n    let filename = \"data-\" + day + month + currentdate.getFullYear() + \"-\"\r\n      + currentdate.getHours() + currentdate.getMinutes() + \".\" + fileExt;\r\n\r\n    // access file system\r\n    this.filesystem.resolveDirectoryUrl(this.filesystem.externalDataDirectory)\r\n      .then(directory => {\r\n        // get or create results file\r\n        this.filesystem.getFile(directory, filename, { create: true, exclusive: false })\r\n          .then(file => {\r\n            console.log(\"fileEntry is file?\" + file.isFile.toString());\r\n            this.writeFile(file, csvContent);\r\n          })\r\n          .catch(err => {\r\n            console.log(\"Resolve file error: \" + err);\r\n          });\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Resolve filesystem error: \" + err);\r\n      });\r\n  }\r\n\r\n  writeFile(fileEntry, data) {\r\n    fileEntry.createWriter(\r\n      function (writer) {\r\n        writer.onwriteend = function (evt) {\r\n          console.log(\"File successfully created!\");\r\n        };\r\n        writer.write(data);\r\n      },\r\n      function (evt, where) {\r\n        console.log(\"Error writing file \" + where + \" :\");\r\n        console.log(JSON.stringify(evt));\r\n      }\r\n    );\r\n  }\r\n\r\n  mapToObj(strMap) {\r\n    let obj = {};\r\n    strMap.forEach((value, key, map) => {\r\n      obj[key] = value;\r\n    });\r\n    return obj;\r\n  }\r\n\r\n}\r\n\r\nenum RecordStatus { Assigned, Started, Failed, Completed, Submitted, Approved, Rejected }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/data/data.ts","import { Monster } from './monster';\r\n\r\nexport class Pair {\r\n\r\n  left: Monster;\r\n  right: Monster;\r\n\r\n  constructor(leftMonster: Monster, rightMonster: Monster) {\r\n    this.left = leftMonster;\r\n    this.right = rightMonster;\r\n  }\r\n\r\n  getWinner() {\r\n    if (this.left.criterion > this.right.criterion) {\r\n      return this.left;\r\n    }\r\n    return this.right;\r\n  }\r\n\r\n  public equals(obj: Pair) : boolean { \r\n    return this.left === obj.left && this.right === obj.right;\r\n  } \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/pair.ts","import { Pair } from './pair';\r\nimport { Monster } from './monster';\r\n\r\nexport class PairComparisonQuestion {\r\n\r\n  pair: Pair;\r\n  chosenMonster: Monster;\r\n\r\n  constructor(questionPair: Pair) {\r\n    this.pair = questionPair;\r\n  }\r\n\r\n  answer(monster: Monster) {\r\n    this.chosenMonster = monster;\r\n  }\r\n\r\n  isAnswerCorrect() {\r\n    return this.pair.getWinner() == this.chosenMonster;\r\n  }\r\n\r\n  getAnswerReward() {\r\n    if (this.isAnswerCorrect()) return 20;\r\n    return 0;\r\n  }\r\n\r\n  public equals(obj: PairComparisonQuestion) : boolean { \r\n    return this.pair === obj.pair && this.chosenMonster === obj.chosenMonster;\r\n  } \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/pair-comparison-question.ts","import { Monster } from './monster';\r\n\r\nexport class OutputEstimationQuestion {\r\n\r\n  type: string;\r\n  monster: Monster;\r\n  guessedCriterion: number;\r\n\r\n  constructor(type: string, monster: Monster) {\r\n    this.type = type;\r\n    this.monster = monster;\r\n  }\r\n\r\n  isAnswerCorrect() {\r\n    return this.monster.criterion == this.guessedCriterion;\r\n  }\r\n\r\n  getAnswerDistance() {\r\n    return Math.abs(this.guessedCriterion - this.monster.criterion);\r\n  }\r\n\r\n  getAnswerReward() {\r\n    if (this.getAnswerDistance() <= 5) return 30;\r\n    if (this.getAnswerDistance() <= 10) return 20;\r\n    if (this.getAnswerDistance() <= 20) return 10;\r\n    return 0;\r\n  }\r\n\r\n  public equals(obj: OutputEstimationQuestion) : boolean { \r\n    return this.type === obj.type && this.monster === obj.monster;\r\n  } \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/output-estimation-question.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Nav, Platform } from 'ionic-angular';\r\nimport { AndroidFullScreen } from '@ionic-native/android-full-screen';\r\n\r\nimport { FirstRunPage, OnlineFirstRunPage } from '../pages/pages';\r\nimport { Stimuli, Data } from '../providers/providers';\r\nimport { Participant } from '../models/participant';\r\n\r\ndeclare var cordova: any;\r\n\r\n@Component({\r\n  template: `<ion-menu [content]=\"content\">\r\n    <ion-header>\r\n      <ion-toolbar>\r\n        <ion-title>Pages</ion-title>\r\n      </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <ion-content>\r\n      <ion-list>\r\n        <button menuClose ion-item *ngFor=\"let p of pages\" (click)=\"openPage(p)\">\r\n          {{p.title}}\r\n        </button>\r\n      </ion-list>\r\n    </ion-content>\r\n\r\n  </ion-menu>\r\n  <ion-nav #content [root]=\"rootPage\"></ion-nav>`\r\n})\r\nexport class MyApp {\r\n\r\n  rootPage = FirstRunPage;\r\n\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  constructor(\r\n    private translate: TranslateService, \r\n    private platform: Platform,\r\n    private statusBar: StatusBar, \r\n    private splashScreen: SplashScreen,\r\n    private androidFullScreen: AndroidFullScreen, \r\n    private stimuli: Stimuli,\r\n    private data: Data\r\n  ) {\r\n\r\n      // Set mobile full screen and pinned mode\r\n      this.platform.ready().then(() => {\r\n        this.statusBar.styleDefault();\r\n        this.splashScreen.hide();\r\n        this.enterPinnedMode();\r\n        this.enterImmersiveMode();\r\n      });\r\n\r\n\r\n      // Initialize providers\r\n      console.log('component constructor calling stimuli.initialize()');\r\n      this.stimuli.initialize();\r\n      this.data.initialize();\r\n\r\n      // Initialize translation system\r\n      this.initTranslate();\r\n\r\n      // Parse URL params and detect online version\r\n      this.parseUrlParams();\r\n  }\r\n\r\n  /**\r\n\t * ParseUrlParams()\r\n\t */\r\n  async parseUrlParams() {\r\n\r\n    // Parse URL params\r\n    const params = new URLSearchParams(window.location.search);\r\n    \r\n    // Check if online version...\r\n    if (params.get(\"assignmentId\")) {\r\n\r\n      // Parse participant info\r\n      this.stimuli.onlineVersion = true;\r\n      this.stimuli.onlineParticipant = new Participant(params.get(\"workerId\"));\r\n      this.stimuli.onlineParticipant.code = params.get(\"workerId\");\r\n      this.stimuli.onlineParticipant.workerId = params.get(\"workerId\");\r\n      this.stimuli.onlineParticipant.assignmentId = params.get(\"assignmentId\");\r\n      this.stimuli.onlineParticipant.hitId = params.get(\"hitId\");\r\n      this.stimuli.onlineParticipant.age = Number(params.get(\"age\"));\r\n      this.stimuli.onlineParticipant.grade = Number(params.get(\"grade\"));\r\n      this.stimuli.onlineParticipant.dob = new Date(params.get(\"dob\"));\r\n      this.stimuli.onlineParticipant.gender = params.get(\"gender\");\r\n      const lang = params.get(\"lang\");\r\n\r\n      if ( params.get(\"isMturk\")) {\r\n        this.stimuli.onlineParticipant.isMturk = Number(params.get(\"isMturk\")) == 1;\r\n      }\r\n\r\n      if ( params.get(\"isSandbox\")) {\r\n        this.stimuli.onlineParticipant.isSandbox = Number(params.get(\"isSandbox\")) == 1;\r\n      }\r\n\r\n      console.log(\"[DEBUG] Online Version\", this.stimuli.onlineParticipant);\r\n\r\n\r\n      // Parse condition by id\r\n      if (params.get(\"cid\")) {\r\n        this.stimuli.setConditionById(\r\n          parseInt(params.get(\"cid\"))\r\n        );\r\n      }\r\n\r\n      // Or parse condition from individual properties\r\n      else if (params.get(\"func\")) {\r\n        this.stimuli.setCondition(\r\n          Number(params.get(\"nTraining\")),\r\n          Number(params.get(\"func\")),\r\n          params.get(\"trainingType\"),\r\n          Number(params.get(\"testingOrder\")),\r\n        );\r\n      }\r\n\r\n      // Or ask the server  for a condition id\r\n      else {\r\n        await this.stimuli.getConditionFromServer();\r\n      }\r\n\r\n      // Set language\r\n      if (lang != null && lang != \"\") {\r\n        this.stimuli.setLang(lang);\r\n      }\r\n\r\n      // Initialize conditions\r\n      this.stimuli.initializeConditions();\r\n\r\n      this.data.sendStartedToServer();\r\n\r\n      console.log('participant', this.stimuli.onlineParticipant);\r\n\r\n      // Go to the consent form\r\n      this.rootPage = OnlineFirstRunPage;\r\n    }\r\n  }\r\n\r\n  /**\r\n\t * enterPinnedMode()\r\n\t */\r\n\tenterPinnedMode() {\r\n\t\tif (typeof cordova !== 'undefined') {\r\n\t\t\tcordova.plugins.screenPinning.enterPinnedMode(\r\n\t\t\t\t() => { console.log('entered pinned mode') },\r\n\t\t\t\t(error) => { console.log('error when entering pinned mode: ' + error) },\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * enterImmersiveMode()\r\n\t */\r\n\tenterImmersiveMode() {\r\n\t\tthis.androidFullScreen.isImmersiveModeSupported()\r\n\t\t\t.then(() => this.androidFullScreen.immersiveMode())\r\n\t\t\t.catch((error: any) => console.log(error));\r\n\t}\r\n\r\n  initTranslate() {\r\n    // Set the default language\r\n    this.translate.addLangs(['en', 'de', 'es', 'notext']);\r\n    this.translate.setDefaultLang('en');\r\n\r\n    // Get language from local storage\r\n    if (localStorage.getItem('lang') != null && localStorage.getItem('lang') != '') {\r\n      this.translate.use(localStorage.getItem('lang'));\r\n    }\r\n\r\n    // Update language when changed by an app component\r\n    this.stimuli.langChangedEvent.subscribe(lang => {\r\n      console.log('[DEBUG] language change evend emitted: ', lang);\r\n      this.translate.use(lang);\r\n    });\r\n  }\r\n\r\n  openPage(page) {\r\n    // Reset the content nav to have just this page\r\n    // we wouldn't want the back button to show in this scenario\r\n    this.nav.setRoot(page.component);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\n\r\n/*\r\n  Generated class for the UtilsProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class Utils {\r\n\r\n  constructor() {\r\n    //console.log('Hello Utils Provider');\r\n  }\r\n\r\n  getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n\r\n  shuffleArray(a) {\r\n    for (let i = a.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [a[i], a[j]] = [a[j], a[i]];\r\n    }\r\n  }\r\n\r\n  pickRandomFromArray(items) {\r\n    return items[Math.floor(Math.random()*items.length)];\r\n  }\r\n\r\n  range(start, end) {\r\n    return Array.from({length: (end - start)}, (v, k) => k + start);\r\n  }\r\n\r\n  combine(alphabet, length, curstr) {\r\n    if (curstr.length == length) return [curstr];\r\n    var ret = [];\r\n    for (var i = 0; i < alphabet.length; i++) {\r\n      ret.push.apply(ret, this.combine(alphabet, length, curstr + alphabet[i]));\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  permute(permutation) {\r\n    var length = permutation.length,\r\n        result = [permutation.slice()],\r\n        c = new Array(length).fill(0),\r\n        i = 1, k, p;\r\n  \r\n    while (i < length) {\r\n      if (c[i] < i) {\r\n        k = i % 2 && c[i];\r\n        p = permutation[i];\r\n        permutation[i] = permutation[k];\r\n        permutation[k] = p;\r\n        ++c[i];\r\n        i = 1;\r\n        result.push(permutation.slice());\r\n      } else {\r\n        c[i] = 0;\r\n        ++i;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n\r\n\r\n  /* Counters */\r\n  getCounterValue(counterIndex: number = 1) {\r\n    let counterName = \"isrc-counter-\" + counterIndex;\r\n    if (localStorage.getItem(counterName) === null) {\r\n      return 0;\r\n    }\r\n    return parseInt(localStorage.getItem(counterName));\r\n  }\r\n\r\n  incrementCounter(counterIndex: number = 1) {\r\n    let counterName = \"isrc-counter-\" + counterIndex;\r\n    let count: number = 1;\r\n    if (localStorage.getItem(counterName) != null) {\r\n      count = parseInt(localStorage.getItem(counterName)) + 1;\r\n    }\r\n    localStorage.setItem(counterName, count.toString());  \r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/utils/utils.ts","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { Utils } from '../utils/utils';\r\nimport { Participant } from '../../models/participant';\r\nimport { TESTS_ORDER, CONDITIONS, CONDITIONS_ACTIVE_ONLY,\r\n  ONLINE_DEFAULT_CONDITION, CONDITIONS_EXTENDED, CONDITIONS_EXTENDED_2 } from './constants';\r\nimport { AppInfo } from './app-info';\r\nimport { Api } from '../api/api';\r\n//import { Pro } from '@ionic/pro';\r\n\r\n@Injectable()\r\nexport class Stimuli {\r\n\r\n  appInfo: AppInfo = AppInfo;\r\n\r\n  public langChangedEvent: EventEmitter<string> = new EventEmitter();\r\n  lang: string = \"en\";\r\n\r\n  activeOnlyVersion: boolean;\r\n  hideReward: boolean;\r\n\r\n  // onlineVersion\r\n  onlineVersion: boolean = false;\r\n \r\n  conditionIndex: number;\r\n  condition: { trainingTasks: number, func: number, training: string, testingOrder: number };\r\n  criterionFunctionIndex: number;\r\n  trainingTasksNuber: number;\r\n\r\n  initialTimestamp: number;\r\n  participant: Participant;\r\n  onlineParticipant: Participant;\r\n  featuresOrder: string[];\r\n  trainingType: string;\r\n  testTypes: string[];\r\n  currentTestIndex: number = -1;\r\n  runInBrowser: boolean = false;\r\n  conditionCounterOverride: number = null;\r\n  questionsCheck: any[] = [];\r\n  questionsCheckCounter: number = 0;\r\n\r\n  constructor(\r\n    private utils: Utils, \r\n    private platform: Platform,\r\n    private api: Api\r\n    ) {\r\n\r\n    console.log('Hello Stimuli Provider');\r\n    this.participant = new Participant(\"\");\r\n    this.runInBrowser = this.platform.is('core') || this.platform.is('mobileweb');\r\n\r\n    if (localStorage.getItem('lang') != null && localStorage.getItem('lang') != \"\") {\r\n      this.lang = localStorage.getItem('lang')\r\n    }\r\n  }\r\n\r\n  initialize() {\r\n    this.initialTimestamp = Date.now();\r\n    this.participant = new Participant(\"\");\r\n    this.currentTestIndex = -1;\r\n  }\r\n\r\n  public setCondition(nTraining: number, func: number, trainingType: string, testingOrder: number) {\r\n    const condition = { \r\n      \"trainingTasks\": nTraining ? nTraining : ONLINE_DEFAULT_CONDITION.trainingTasks, \r\n      \"func\": func ? func : ONLINE_DEFAULT_CONDITION.func, \r\n      \"training\": trainingType ? trainingType : ONLINE_DEFAULT_CONDITION.training, \r\n      \"testingOrder\": testingOrder ? testingOrder : ONLINE_DEFAULT_CONDITION.testingOrder \r\n    }\r\n    this.condition = condition;\r\n  }\r\n\r\n  async getConditionFromServer() {\r\n    try {\r\n      const res = await this.api.get('conditions/random').toPromise();\r\n      const id: number = res ? res['conditionId'] : 0;\r\n      console.log('Got condition id from server:', id);\r\n      this.condition = CONDITIONS_EXTENDED_2[id % CONDITIONS_EXTENDED_2.length];\r\n    }\r\n    catch(e) {\r\n      console.log('ERROR in getting condition from server:', e);\r\n      //Pro.monitoring.log('ERROR getting condition from server: ' + e, { level: 'error' });\r\n      this.condition = CONDITIONS_EXTENDED_2[0];\r\n    }\r\n  }\r\n\r\n  public setConditionById(id: number) {\r\n    this.condition = CONDITIONS_EXTENDED[id % CONDITIONS_EXTENDED.length];\r\n  }\r\n\r\n  initializeConditions(isActiveOnly: boolean = false, hideReward: boolean = false) {\r\n    this.hideReward = hideReward;\r\n    this.activeOnlyVersion = isActiveOnly;\r\n    this.pickCondition();\r\n    this.pickFeaturesOrder();\r\n  }\r\n\r\n  pickCondition() {\r\n\r\n    let condition: { trainingTasks: number, func: number, training: string, testingOrder: number };\r\n\r\n    if (this.condition != null) {\r\n      condition = this.condition;\r\n      console.log(\"[DEBUG] Using condition override\", condition);\r\n    }\r\n\r\n    else {\r\n\r\n      let counter = 0;\r\n\r\n      if (this.conditionCounterOverride != null) {\r\n        //console.log(\"conditionCounterOverride\", this.conditionCounterOverride);\r\n        counter = this.conditionCounterOverride;\r\n      }\r\n      else {\r\n        counter = this.utils.getCounterValue();\r\n        //TODO: move to the data saving \r\n        this.utils.incrementCounter();\r\n      }\r\n\r\n      condition = CONDITIONS[counter % CONDITIONS.length];\r\n\r\n      if (this.activeOnlyVersion) {\r\n        condition = CONDITIONS_ACTIVE_ONLY[counter % CONDITIONS_ACTIVE_ONLY.length];\r\n        this.conditionIndex = counter % CONDITIONS_ACTIVE_ONLY.length;\r\n      }\r\n      else {\r\n        this.conditionIndex = counter % CONDITIONS.length;\r\n      }\r\n\r\n    }\r\n\r\n    this.condition = condition;\r\n    this.trainingType = condition.training;\r\n    this.testTypes = TESTS_ORDER[condition.testingOrder];\r\n    this.currentTestIndex = -1;\r\n\r\n    this.criterionFunctionIndex = condition.func;\r\n    this.trainingTasksNuber = condition.trainingTasks;\r\n\r\n    console.log(\"[trainingType]\", this.trainingType);\r\n    console.log(\"[testTypes]\", this.testTypes);\r\n  }\r\n\r\n  pickFeaturesOrder() {\r\n    let perms = this.utils.permute([\"feature_a\", \"feature_b\", \"feature_c\"]);\r\n    this.featuresOrder = this.utils.pickRandomFromArray(perms);\r\n    //console.log(\"[DEBUG] Features Order]\", this.featuresOrder);\r\n  }\r\n\r\n  isExtendedCondition2(): boolean {\r\n    return this.condition.trainingTasks == 0\r\n          || this.condition.trainingTasks == 1\r\n          || this.condition.trainingTasks == 27\r\n  }\r\n\r\n  isPassive() {\r\n    return this.trainingType == \"passive\";\r\n  }\r\n\r\n  isActive() {\r\n    return this.trainingType == \"active\";\r\n  }\r\n\r\n  getNextTestType() {\r\n    this.currentTestIndex++;\r\n    return this.testTypes[this.currentTestIndex];\r\n  }\r\n\r\n  runOutOfTests() {\r\n    return this.currentTestIndex >= (this.testTypes.length - 1);\r\n  }\r\n\r\n  calculateCriterion(feature_a: number, feature_b: number, feature_c: number): number {\r\n    if (this.criterionFunctionIndex == 1) {\r\n      return this.criterionFunction1(feature_a, feature_b, feature_c);\r\n    }\r\n    if (this.criterionFunctionIndex == 2) {\r\n      return this.criterionFunction2(feature_a, feature_b, feature_c);\r\n    }\r\n\r\n    return this.criterionFunction1(feature_a, feature_b, feature_c);\r\n  }\r\n\r\n  criterionFunction1(feature_a: number, feature_b: number, feature_c: number): number {\r\n    const features = {\r\n      \"feature_a\": feature_a,\r\n      \"feature_b\": feature_b,\r\n      \"feature_c\": feature_c\r\n    };\r\n    const x = features[this.featuresOrder[0]];\r\n    const y = features[this.featuresOrder[1]];\r\n    const z = features[this.featuresOrder[2]];\r\n    return (6 * x) + (3 * y) + z - 10;\r\n  }\r\n\r\n  criterionFunction2(feature_a: number, feature_b: number, feature_c: number): number {\r\n    const features = {\r\n      \"feature_a\": feature_a,\r\n      \"feature_b\": feature_b,\r\n      \"feature_c\": feature_c\r\n    };\r\n    const x = features[this.featuresOrder[0]];\r\n    const y = features[this.featuresOrder[1]];\r\n    const z = features[this.featuresOrder[2]];\r\n    return -x*x + 3*y + z + 21;\r\n  }\r\n\r\n  // TODO: age groups\r\n  getParticipantAgeGroup(age: number): string {\r\n    if (this.participant.age >= 18) return \"18\";\r\n    return this.participant.age + \"\";\r\n  }\r\n\r\n\r\n  setLang(langCode: string) {\r\n    this.langChangedEvent.emit(langCode);\r\n  }\r\n\r\n  hi() {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/stimuli.ts","export class Monster {\r\n\r\n  id: string;\r\n  img: string;\r\n  feature_a: number\r\n  feature_b: number;\r\n  feature_c: number;\r\n  criterion: number;\r\n\r\n  constructor(id: string = \"default\", feature_a: number = 0, feature_b: number = 0, feature_c: number = 0, criterion: number = 0) {\r\n    this.id = id;\r\n    this.img = \"assets/img/monsters/\" + id + \".png\";\r\n    this.feature_a = feature_a;\r\n    this.feature_b = feature_b;\r\n    this.feature_c = feature_c;\r\n    this.criterion = criterion;\r\n  }\r\n\r\n  public updateId(id: string) {\r\n    this.id = id;\r\n    this.img = \"assets/img/monsters/\" + id + \".png\";\r\n  }\r\n\r\n  public equals(obj: Monster): boolean {\r\n    return this.id === obj.id;\r\n  }\r\n\r\n  public toString() {\r\n    return this.feature_a + \";\" + this.feature_b + \";\" + this.feature_c  + \";\" + this.criterion + \";\" + this.id;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/monster.ts","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable, isDevMode } from '@angular/core';\r\n\r\n/**\r\n * Api is a generic REST Api handler. Set your API url first.\r\n */\r\n@Injectable()\r\nexport class Api {\r\n\r\n  url: string = 'https://localhost:44349/api';\r\n\r\n  constructor(public http: HttpClient) {\r\n    if(isDevMode()) {\r\n      this.url = 'https://localhost:44349/api';\r\n    }\r\n    else {\r\n      this.url = 'https://mtt-api.isearchlab.org/api';\r\n    }\r\n  }\r\n\r\n  get(endpoint: string, params?: any, reqOpts?: any) {\r\n    if (!reqOpts) {\r\n      reqOpts = {\r\n        params: new HttpParams()\r\n      };\r\n    }\r\n\r\n    // Support easy query params for GET requests\r\n    if (params) {\r\n      reqOpts.params = new HttpParams();\r\n      for (let k in params) {\r\n        reqOpts.params.set(k, params[k]);\r\n      }\r\n    }\r\n\r\n    return this.http.get(this.url + '/' + endpoint, reqOpts);\r\n  }\r\n\r\n  post(endpoint: string, body: any, reqOpts?: any) {\r\n    return this.http.post(this.url + '/' + endpoint, body, reqOpts);\r\n  }\r\n\r\n  put(endpoint: string, body: any, reqOpts?: any) {\r\n    return this.http.put(this.url + '/' + endpoint, body, reqOpts);\r\n  }\r\n\r\n  delete(endpoint: string, reqOpts?: any) {\r\n    return this.http.delete(this.url + '/' + endpoint, reqOpts);\r\n  }\r\n\r\n  patch(endpoint: string, body: any, reqOpts?: any) {\r\n    return this.http.put(this.url + '/' + endpoint, body, reqOpts);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/api/api.ts","export const TESTS_ORDER: string[][] = [\r\n  [\"comparison\", \"estimation\"],\r\n  [\"estimation\", \"comparison\"]\r\n];\r\n\r\nexport const ONLINE_DEFAULT_CONDITION: {trainingTasks: number, func: number, training: string, testingOrder: number} = {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0};\r\n\r\nexport const CONDITIONS: {trainingTasks: number, func: number, training: string, testingOrder: number}[] = [\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1}\r\n];\r\n\r\nexport const CONDITIONS_ACTIVE_ONLY: {trainingTasks: number, func: number, training: string, testingOrder: number}[] = [\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1}\r\n];\r\n\r\nexport const CONDITIONS_EXTENDED: {trainingTasks: number, func: number, training: string, testingOrder: number}[] = [\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 22, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 5, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 1}\r\n];\r\n\r\nexport const CONDITIONS_EXTENDED_2: {trainingTasks: number, func: number, training: string, testingOrder: number}[] = [\r\n  \r\n  // 1 card linear\r\n  {\"trainingTasks\": 1, \"func\": 1, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 1, \"func\": 1, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 1, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 1, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  // 1 card non linear\r\n  {\"trainingTasks\": 1, \"func\": 2, \"training\": \"active\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 1, \"func\": 2, \"training\": \"active\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 1, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 1, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  // 0 cards\r\n  {\"trainingTasks\": 0, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 0, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 0, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 0, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 1},\r\n\r\n  // all cards\r\n  {\"trainingTasks\": 27, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 27, \"func\": 1, \"training\": \"passive\", \"testingOrder\": 1},\r\n  {\"trainingTasks\": 27, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 0},\r\n  {\"trainingTasks\": 27, \"func\": 2, \"training\": \"passive\", \"testingOrder\": 1}\r\n];\r\n\r\nexport const NUMBERS = {\r\n  TRAINING_CARDS: 27,\r\n  PAIR_COMPARISONS: 8,\r\n  OUTPUT_ESTIMATION_EXTRAPOLATION: 8,\r\n  OUTPUT_ESTIMATION_INTERPOLATION: 5,\r\n  OUTPUT_ESTIMATION_RECALL: 5\r\n}\r\n\r\nexport const PAIR_COMPARISONS = [\r\n  [ [4,2,2], [3,4,4] ],\r\n  [ [3,2,2], [2,4,4] ],\r\n  [ [1,4,1], [2,1,2] ],\r\n  [ [2,2,2], [3,1,1] ],\r\n  [ [1,1,4], [2,1,1] ],\r\n  [ [3,2,2], [2,2,2] ],\r\n  [ [2,3,2], [2,2,2] ],\r\n  [ [2,2,3], [2,2,2] ],\r\n];\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/constants.ts","export abstract class AppInfo {\r\n    static id: string = \"5c42aff5\";\r\n    static nameLabel: string = \"MTT\";\r\n    static version: string = \"2.11.2\";\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stimuli/app-info.ts","import { Injectable } from '@angular/core';\r\nimport { Monster } from '../../models/monster';\r\nimport { TrainingCard } from '../../models/training-card';\r\nimport { Utils } from '../utils/utils';\r\nimport { Stimuli } from '../stimuli/stimuli';\r\nimport { NUMBERS } from '../stimuli/constants';\r\n\r\n@Injectable()\r\nexport class TrainingProvider {\r\n\r\n  cards: TrainingCard[];\r\n  revealedCards: TrainingCard[];\r\n  revealedCardsCounter: number;\r\n\r\n  constructor(private utils: Utils, private stimuli: Stimuli) {\r\n    //console.log('Hello TrainingMonsters Provider');\r\n  }\r\n\r\n  initialize() {\r\n    this.cards = [];\r\n    this.revealedCards = [];\r\n    this.revealedCardsCounter = 0; //TODO: now redundant\r\n    this.generateCards();\r\n  }\r\n\r\n  generateCards() {\r\n    let genes = this.utils.combine([2, 3, 4], 3, \"\");\r\n    let ids = this.utils.range(1, genes.length + 1)\r\n    this.utils.shuffleArray(genes);\r\n    this.utils.shuffleArray(ids);\r\n\r\n    let i = 0;\r\n    for (let gene of genes) {\r\n\r\n      let monsterId = \"monster\" + (ids[i]);\r\n\r\n      let feature_a = parseInt(gene.charAt(0));\r\n      let feature_b = parseInt(gene.charAt(1));\r\n      let feature_c = parseInt(gene.charAt(2));\r\n\r\n      let criterion = this.stimuli.calculateCriterion(\r\n        feature_a,\r\n        feature_b,\r\n        feature_c\r\n      );\r\n\r\n      let monster = new Monster(\r\n        monsterId, \r\n        feature_a, \r\n        feature_b, \r\n        feature_c,\r\n        criterion\r\n      );\r\n      this.cards.push(new TrainingCard(monster));\r\n      i++;\r\n    }\r\n\r\n    // Extended condition 2\r\n    if (this.stimuli.isExtendedCondition2) {\r\n      if (this.stimuli.condition.trainingTasks == 27) {\r\n        this.cards.map(card => card.reveal());\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  getAllCards() {\r\n    return this.cards;\r\n  }\r\n\r\n  addCard(card: TrainingCard) {\r\n    this.cards.push(card);\r\n  }\r\n\r\n  deleteCard(card: TrainingCard) {\r\n    this.cards.splice(this.cards.indexOf(card), 1);\r\n  }\r\n\r\n  updateCard(card: TrainingCard) {\r\n    const idx = this.cards.indexOf(card);\r\n    this.cards[idx] = card;\r\n    if (card.hasBeenRevealed()) {\r\n      this.revealedCards.push(card);\r\n      this.revealedCardsCounter++;\r\n    }\r\n  }\r\n\r\n  getRevealedCardsCount() {\r\n    return this.revealedCardsCounter;\r\n  }\r\n\r\n  runOutOfTasks() {\r\n    return this.revealedCardsCounter >= this.stimuli.trainingTasksNuber;\r\n  }\r\n\r\n  getRevealedCards() {\r\n    let revealedCards: TrainingCard[] = [];\r\n    for (let card of this.cards) {\r\n      if (card.hasBeenRevealed()) {\r\n        revealedCards.push(card);\r\n      }\r\n    }\r\n    return revealedCards;\r\n  }\r\n\r\n  getUnrevealedCards() {\r\n    let unrevealedCards: TrainingCard[] = [];\r\n    for (let card of this.cards) {\r\n      if (!card.hasBeenRevealed()) {\r\n        unrevealedCards.push(card);\r\n      }\r\n    }\r\n    return unrevealedCards;\r\n  }\r\n\r\n  getRevealedMonsters() {\r\n    let revealedMonsters: Monster[] = [];\r\n    for (let card of this.cards) {\r\n      if (card.hasBeenRevealed()) {\r\n        revealedMonsters.push(card.monster);\r\n      }\r\n    }\r\n    return revealedMonsters;\r\n  }\r\n\r\n  getUnrevealedMonsters() {\r\n    let unrevealedMonsters: Monster[] = [];\r\n    for (let card of this.cards) {\r\n      if (!card.hasBeenRevealed()) {\r\n        unrevealedMonsters.push(card.monster);\r\n      }\r\n    }\r\n    return unrevealedMonsters;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/training/training.ts"],"sourceRoot":""}