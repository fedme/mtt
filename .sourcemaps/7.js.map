{"version":3,"sources":["../../src/pages/registration/registration.module.ts","../../src/pages/registration/registration.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RegistrationPage } from './registration';\n\n@NgModule({\n  declarations: [\n    RegistrationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegistrationPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class RegistrationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registration/registration.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ModalController, AlertController } from 'ionic-angular';\r\nimport { Stimuli, Data } from '../../providers/providers';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { OnlineFirstRunPage } from \"../pages\";\r\n\r\n@IonicPage({\r\n  priority: 'high'\r\n})\r\n@Component({\r\n  selector: 'page-registration',\r\n  templateUrl: 'registration.html',\r\n})\r\nexport class RegistrationPage {\r\n\r\n  isActiveOnlyVersion: boolean = false;\r\n  lang: string = \"en\";\r\n  availableLangs: string[];\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams, \r\n    private stimuli: Stimuli, \r\n    private data: Data,\r\n    private translate: TranslateService,\r\n    private modalCtrl: ModalController,\r\n    private alertCtrl: AlertController\r\n  ) {\r\n\r\n      // Parse available langs\r\n      this.availableLangs = this.translate.langs;\r\n\r\n      // Get if active-only-version from localStorage\r\n      if (localStorage.getItem('active-only-version') != null && localStorage.getItem('active-only-version') != '') {\r\n        this.isActiveOnlyVersion = localStorage.getItem('active-only-version') == 'true';\r\n      }\r\n\r\n      // Get language from localStorage\r\n      if (localStorage.getItem('lang') != null && localStorage.getItem('lang') != '') {\r\n        this.lang = localStorage.getItem('lang');\r\n      }\r\n\r\n      // Prevent access to this page from online version\r\n      if (this.stimuli.onlineVersion) {\r\n        this.navCtrl.setRoot(OnlineFirstRunPage);\r\n      }\r\n\r\n  }\r\n\r\n  handleRegistration() {\r\n    // Remember if active-only version\r\n    localStorage.setItem('active-only-version', this.isActiveOnlyVersion ? 'true' : 'false');\r\n\r\n    // set Language\r\n    this.stimuli.setLang(this.lang);\r\n    localStorage.setItem('lang', this.lang);\r\n  \r\n    // initialize stimuli\r\n    this.stimuli.initializeConditions(this.isActiveOnlyVersion);\r\n    this.navCtrl.push('TrainingInstructionsPage');\r\n  }\r\n\r\n  validateRegistration() {\r\n    const ageNull = this.stimuli.participant.age == null;\r\n    const genderNull = this.stimuli.participant.gender == null;\r\n    if (ageNull || genderNull) {\r\n\r\n      if (ageNull) {\r\n        this.stimuli.participant.age = 0;\r\n      }\r\n\r\n      let alert = this.alertCtrl.create({\r\n        title: 'Proceed without age/gender?',\r\n        message: 'Are you sure you want to proceed without entering age/gender?',\r\n        buttons: [\r\n          {\r\n            text: 'Yes',\r\n            handler: () => {\r\n              this.handleRegistration();\r\n            }\r\n          },\r\n          {\r\n            text: 'No',\r\n            role: 'cancel',\r\n            handler: () => {}\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n    }\r\n    else {\r\n      this.handleRegistration();\r\n    }\r\n  }\r\n\r\n  showRecords() {\r\n    let recordsModal = this.modalCtrl.create(\"ViewRecordsPage\");\r\n    recordsModal.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registration/registration.ts"],"sourceRoot":""}